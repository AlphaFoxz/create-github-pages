var vh=Object.create;var _i=Object.defineProperty;var yh=Object.getOwnPropertyDescriptor;var wh=Object.getOwnPropertyNames;var _h=Object.getPrototypeOf,xh=Object.prototype.hasOwnProperty;var d=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Th=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of wh(e))!xh.call(t,i)&&i!==r&&_i(t,i,{get:()=>e[i],enumerable:!(s=yh(e,i))||s.enumerable});return t};var te=(t,e,r)=>(r=t!=null?vh(_h(t)):{},Th(e||!t||!t.__esModule?_i(r,"default",{value:t,enumerable:!0}):r,t));var O=d((Tv,Ti)=>{"use strict";var{FORCE_COLOR:kh,NODE_DISABLE_COLORS:Sh,TERM:Ch}=process.env,x={enabled:!Sh&&Ch!=="dumb"&&kh!=="0",reset:k(0,0),bold:k(1,22),dim:k(2,22),italic:k(3,23),underline:k(4,24),inverse:k(7,27),hidden:k(8,28),strikethrough:k(9,29),black:k(30,39),red:k(31,39),green:k(32,39),yellow:k(33,39),blue:k(34,39),magenta:k(35,39),cyan:k(36,39),white:k(37,39),gray:k(90,39),grey:k(90,39),bgBlack:k(40,49),bgRed:k(41,49),bgGreen:k(42,49),bgYellow:k(43,49),bgBlue:k(44,49),bgMagenta:k(45,49),bgCyan:k(46,49),bgWhite:k(47,49)};function xi(t,e){let r=0,s,i="",n="";for(;r<t.length;r++)s=t[r],i+=s.open,n+=s.close,e.includes(s.close)&&(e=e.replace(s.rgx,s.close+s.open));return i+e+n}function Oh(t,e){let r={has:t,keys:e};return r.reset=x.reset.bind(r),r.bold=x.bold.bind(r),r.dim=x.dim.bind(r),r.italic=x.italic.bind(r),r.underline=x.underline.bind(r),r.inverse=x.inverse.bind(r),r.hidden=x.hidden.bind(r),r.strikethrough=x.strikethrough.bind(r),r.black=x.black.bind(r),r.red=x.red.bind(r),r.green=x.green.bind(r),r.yellow=x.yellow.bind(r),r.blue=x.blue.bind(r),r.magenta=x.magenta.bind(r),r.cyan=x.cyan.bind(r),r.white=x.white.bind(r),r.gray=x.gray.bind(r),r.grey=x.grey.bind(r),r.bgBlack=x.bgBlack.bind(r),r.bgRed=x.bgRed.bind(r),r.bgGreen=x.bgGreen.bind(r),r.bgYellow=x.bgYellow.bind(r),r.bgBlue=x.bgBlue.bind(r),r.bgMagenta=x.bgMagenta.bind(r),r.bgCyan=x.bgCyan.bind(r),r.bgWhite=x.bgWhite.bind(r),r}function k(t,e){let r={open:`\x1B[${t}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(s){return this!==void 0&&this.has!==void 0?(this.has.includes(t)||(this.has.push(t),this.keys.push(r)),s===void 0?this:x.enabled?xi(this.keys,s+""):s+""):s===void 0?Oh([t],[r]):x.enabled?xi([r],s+""):s+""}}Ti.exports=x});var Si=d((kv,ki)=>{"use strict";ki.exports=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}});var vt=d((Sv,Ci)=>{"use strict";Ci.exports=t=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return typeof t=="string"?t.replace(r,""):t}});var M=d((Cv,Oi)=>{"use strict";var cr="\x1B",P=`${cr}[`,Ph="\x07",hr={to(t,e){return e?`${P}${e+1};${t+1}H`:`${P}${t+1}G`},move(t,e){let r="";return t<0?r+=`${P}${-t}D`:t>0&&(r+=`${P}${t}C`),e<0?r+=`${P}${-e}A`:e>0&&(r+=`${P}${e}B`),r},up:(t=1)=>`${P}${t}A`,down:(t=1)=>`${P}${t}B`,forward:(t=1)=>`${P}${t}C`,backward:(t=1)=>`${P}${t}D`,nextLine:(t=1)=>`${P}E`.repeat(t),prevLine:(t=1)=>`${P}F`.repeat(t),left:`${P}G`,hide:`${P}?25l`,show:`${P}?25h`,save:`${cr}7`,restore:`${cr}8`},Mh={up:(t=1)=>`${P}S`.repeat(t),down:(t=1)=>`${P}T`.repeat(t)},Eh={screen:`${P}2J`,up:(t=1)=>`${P}1J`.repeat(t),down:(t=1)=>`${P}J`.repeat(t),line:`${P}2K`,lineEnd:`${P}K`,lineStart:`${P}1K`,lines(t){let e="";for(let r=0;r<t;r++)e+=this.line+(r<t-1?hr.up():"");return t&&(e+=hr.left),e}};Oi.exports={cursor:hr,scroll:Mh,erase:Eh,beep:Ph}});var Ai=d((Ov,Ri)=>{"use strict";function Rh(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ah(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return n=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!n&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function Ah(t,e){if(t){if(typeof t=="string")return Pi(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pi(t,e)}}function Pi(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var Dh=vt(),Ei=M(),Mi=Ei.erase,qh=Ei.cursor,$h=t=>[...Dh(t)].length;Ri.exports=function(t,e){if(!e)return Mi.line+qh.to(0);let r=0,s=t.split(/\r?\n/);var i=Rh(s),n;try{for(i.s();!(n=i.n()).done;){let o=n.value;r+=1+Math.floor(Math.max($h(o)-1,0)/e)}}catch(o){i.e(o)}finally{i.f()}return Mi.lines(r)}});var dr=d((Pv,Di)=>{"use strict";var Ve={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},Ih={arrowUp:Ve.arrowUp,arrowDown:Ve.arrowDown,arrowLeft:Ve.arrowLeft,arrowRight:Ve.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},Fh=process.platform==="win32"?Ih:Ve;Di.exports=Fh});var $i=d((Mv,qi)=>{"use strict";var qe=O(),Se=dr(),fr=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"\u{1F603}".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),jh=t=>fr[t]||fr.default,Ye=Object.freeze({aborted:qe.red(Se.cross),done:qe.green(Se.tick),exited:qe.yellow(Se.cross),default:qe.cyan("?")}),Lh=(t,e,r)=>e?Ye.aborted:r?Ye.exited:t?Ye.done:Ye.default,Nh=t=>qe.gray(t?Se.ellipsis:Se.pointerSmall),Bh=(t,e)=>qe.gray(t?e?Se.pointerSmall:"+":Se.line);qi.exports={styles:fr,render:jh,symbols:Ye,symbol:Lh,delimiter:Nh,item:Bh}});var Fi=d((Ev,Ii)=>{"use strict";var Gh=vt();Ii.exports=function(t,e){let r=String(Gh(t)||"").split(/\r?\n/);return e?r.map(s=>Math.ceil(s.length/e)).reduce((s,i)=>s+i):r.length}});var Li=d((Rv,ji)=>{"use strict";ji.exports=(t,e={})=>{let r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(t||"").split(/\r?\n/g).map(i=>i.split(/\s+/g).reduce((n,o)=>(o.length+r.length>=s||n[n.length-1].length+o.length+1<s?n[n.length-1]+=` ${o}`:n.push(`${r}${o}`),n),[r]).join(`
`)).join(`
`)}});var Bi=d((Av,Ni)=>{"use strict";Ni.exports=(t,e,r)=>{r=r||e;let s=Math.min(e-r,t-Math.floor(r/2));s<0&&(s=0);let i=Math.min(s+r,e);return{startIndex:s,endIndex:i}}});var X=d((Dv,Gi)=>{"use strict";Gi.exports={action:Si(),clear:Ai(),style:$i(),strip:vt(),figures:dr(),lines:Fi(),wrap:Li(),entriesToDisplay:Bi()}});var ce=d((qv,zi)=>{"use strict";var Ui=require("readline"),Uh=X(),Hh=Uh.action,zh=require("events"),Hi=M(),Vh=Hi.beep,Yh=Hi.cursor,Wh=O(),pr=class extends zh{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let r=Ui.createInterface({input:this.in,escapeCodeTimeout:50});Ui.emitKeypressEvents(this.in,r),this.in.isTTY&&this.in.setRawMode(!0);let s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,i=(n,o)=>{let a=Hh(o,s);a===!1?this._&&this._(n,o):typeof this[a]=="function"?this[a](o):this.bell()};this.close=()=>{this.out.write(Yh.show),this.in.removeListener("keypress",i),this.in.isTTY&&this.in.setRawMode(!1),r.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",i)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Vh)}render(){this.onRender(Wh),this.firstRender&&(this.firstRender=!1)}};zi.exports=pr});var Ki=d(($v,Ji)=>{"use strict";function Vi(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(l){r(l);return}a.done?e(u):Promise.resolve(u).then(s,i)}function Yi(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){Vi(n,s,i,o,a,"next",u)}function a(u){Vi(n,s,i,o,a,"throw",u)}o(void 0)})}}var yt=O(),Jh=ce(),Wi=M(),Kh=Wi.erase,We=Wi.cursor,wt=X(),mr=wt.style,gr=wt.clear,Qh=wt.lines,Xh=wt.figures,br=class extends Jh{constructor(e={}){super(e),this.transform=mr.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=gr("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=yt.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return Yi(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return Yi(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,r){let s=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${s}${e}${i}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),r=this.value.slice(this.cursor);this.value=`${e}${r}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor+1);this.value=`${e}${r}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(We.down(Qh(this.outputError,this.out.columns)-1)+gr(this.outputError,this.out.columns)),this.out.write(gr(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[mr.symbol(this.done,this.aborted),yt.bold(this.msg),mr.delimiter(this.done),this.red?yt.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":Xh.pointerSmall} ${yt.red().italic(r)}`,"")),this.out.write(Kh.line+We.to(0)+this.outputText+We.save+this.outputError+We.restore+We.move(this.cursorOffset,0)))}};Ji.exports=br});var en=d((Iv,Zi)=>{"use strict";var he=O(),Zh=ce(),Je=X(),Qi=Je.style,Xi=Je.clear,_t=Je.figures,ed=Je.wrap,td=Je.entriesToDisplay,rd=M(),sd=rd.cursor,vr=class extends Zh{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((r,s)=>(typeof r=="string"&&(r={title:r,value:s}),{title:r&&(r.title||r.value||r),value:r&&(r.value===void 0?s:r.value),description:r&&r.description,selected:r&&r.selected,disabled:r&&r.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Xi("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,r){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(sd.hide):this.out.write(Xi(this.outputText,this.out.columns)),super.render();let e=td(this.cursor,this.choices.length,this.optionsPerPage),r=e.startIndex,s=e.endIndex;if(this.outputText=[Qi.symbol(this.done,this.aborted),he.bold(this.msg),Qi.delimiter(!1),this.done?this.selection.title:this.selection.disabled?he.yellow(this.warn):he.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let i=r;i<s;i++){let n,o,a="",u=this.choices[i];i===r&&r>0?o=_t.arrowUp:i===s-1&&s<this.choices.length?o=_t.arrowDown:o=" ",u.disabled?(n=this.cursor===i?he.gray().underline(u.title):he.strikethrough().gray(u.title),o=(this.cursor===i?he.bold().gray(_t.pointer)+" ":"  ")+o):(n=this.cursor===i?he.cyan().underline(u.title):u.title,o=(this.cursor===i?he.cyan(_t.pointer)+" ":"  ")+o,u.description&&this.cursor===i&&(a=` - ${u.description}`,(o.length+n.length+a.length>=this.out.columns||u.description.split(/\r?\n/).length>1)&&(a=`
`+ed(u.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${n}${he.gray(a)}
`}}this.out.write(this.outputText)}};Zi.exports=vr});var an=d((Fv,on)=>{"use strict";var xt=O(),id=ce(),sn=X(),tn=sn.style,nd=sn.clear,nn=M(),rn=nn.cursor,od=nn.erase,yr=class extends id{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,r){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(rn.hide):this.out.write(nd(this.outputText,this.out.columns)),super.render(),this.outputText=[tn.symbol(this.done,this.aborted),xt.bold(this.msg),tn.delimiter(this.done),this.value?this.inactive:xt.cyan().underline(this.inactive),xt.gray("/"),this.value?xt.cyan().underline(this.active):this.active].join(" "),this.out.write(od.line+rn.to(0)+this.outputText))}};on.exports=yr});var re=d((jv,un)=>{"use strict";var wr=class t{constructor({token:e,date:r,parts:s,locales:i}){this.token=e,this.date=r||new Date,this.parts=s||[this],this.locales=i||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((r,s)=>s>e&&r instanceof t)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),r=e.indexOf(this);return e.find((s,i)=>i>r&&s instanceof t)}toString(){return String(this.date)}};un.exports=wr});var cn=d((Lv,ln)=>{"use strict";var ad=re(),_r=class extends ad{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};ln.exports=_r});var dn=d((Nv,hn)=>{"use strict";var ud=re(),ld=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th"),xr=class extends ud{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),r=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+ld(e):this.token==="d"?r+1:this.token==="ddd"?this.locales.weekdaysShort[r]:this.token==="dddd"?this.locales.weekdays[r]:e}};hn.exports=xr});var pn=d((Bv,fn)=>{"use strict";var cd=re(),Tr=class extends cd{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};fn.exports=Tr});var gn=d((Gv,mn)=>{"use strict";var hd=re(),kr=class extends hd{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};mn.exports=kr});var vn=d((Uv,bn)=>{"use strict";var dd=re(),Sr=class extends dd{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};bn.exports=Sr});var wn=d((Hv,yn)=>{"use strict";var fd=re(),Cr=class extends fd{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),r=this.token.length;return r===2?String(e+1).padStart(2,"0"):r===3?this.locales.monthsShort[e]:r===4?this.locales.months[e]:String(e+1)}};yn.exports=Cr});var xn=d((zv,_n)=>{"use strict";var pd=re(),Or=class extends pd{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};_n.exports=Or});var kn=d((Vv,Tn)=>{"use strict";var md=re(),Pr=class extends md{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};Tn.exports=Pr});var Cn=d((Yv,Sn)=>{"use strict";Sn.exports={DatePart:re(),Meridiem:cn(),Day:dn(),Hours:pn(),Milliseconds:gn(),Minutes:vn(),Month:wn(),Seconds:xn(),Year:kn()}});var In=d((Wv,$n)=>{"use strict";function On(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(l){r(l);return}a.done?e(u):Promise.resolve(u).then(s,i)}function Pn(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){On(n,s,i,o,a,"next",u)}function a(u){On(n,s,i,o,a,"throw",u)}o(void 0)})}}var Mr=O(),gd=ce(),Rr=X(),Mn=Rr.style,En=Rr.clear,bd=Rr.figures,qn=M(),vd=qn.erase,Rn=qn.cursor,de=Cn(),An=de.DatePart,yd=de.Meridiem,wd=de.Day,_d=de.Hours,xd=de.Milliseconds,Td=de.Minutes,kd=de.Month,Sd=de.Seconds,Cd=de.Year,Od=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Dn={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new wd(t),3:t=>new kd(t),4:t=>new Cd(t),5:t=>new yd(t),6:t=>new _d(t),7:t=>new Td(t),8:t=>new Sd(t),9:t=>new xd(t)},Pd={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},Er=class extends gd{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(Pd,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=En("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let r;for(this.parts=[];r=Od.exec(e);){let i=r.shift(),n=r.findIndex(o=>o!=null);this.parts.push(n in Dn?Dn[n]({token:r[n]||i,date:this.date,parts:this.parts,locales:this.locales}):r[n]||i)}let s=this.parts.reduce((i,n)=>(typeof n=="string"&&typeof i[i.length-1]=="string"?i[i.length-1]+=n:i.push(n),i),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof An)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return Pn(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return Pn(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(r=>r instanceof An)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(Rn.hide):this.out.write(En(this.outputText,this.out.columns)),super.render(),this.outputText=[Mn.symbol(this.done,this.aborted),Mr.bold(this.msg),Mn.delimiter(!1),this.parts.reduce((e,r,s)=>e.concat(s===this.cursor&&!this.done?Mr.cyan().underline(r.toString()):r),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":bd.pointerSmall} ${Mr.red().italic(r)}`,"")),this.out.write(vd.line+Rn.to(0)+this.outputText))}};$n.exports=Er});var Un=d((Jv,Gn)=>{"use strict";function Fn(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(l){r(l);return}a.done?e(u):Promise.resolve(u).then(s,i)}function jn(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){Fn(n,s,i,o,a,"next",u)}function a(u){Fn(n,s,i,o,a,"throw",u)}o(void 0)})}}var Tt=O(),Md=ce(),Bn=M(),kt=Bn.cursor,Ed=Bn.erase,St=X(),Ar=St.style,Rd=St.figures,Ln=St.clear,Ad=St.lines,Dd=/[0-9]/,Dr=t=>t!==void 0,Nn=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r},qr=class extends Md{constructor(e={}){super(e),this.transform=Ar.render(e.style),this.msg=e.message,this.initial=Dr(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Dr(e.min)?e.min:-1/0,this.max=Dr(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=Tt.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Nn(e,this.round)}`),this._value=Nn(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||Dd.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return jn(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return jn(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let r=e.value;e.value=r!==""?r:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,r){if(!this.valid(e))return this.bell();let s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=s,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(kt.down(Ad(this.outputError,this.out.columns)-1)+Ln(this.outputError,this.out.columns)),this.out.write(Ln(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Ar.symbol(this.done,this.aborted),Tt.bold(this.msg),Ar.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Tt[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":Rd.pointerSmall} ${Tt.red().italic(r)}`,"")),this.out.write(Ed.line+kt.to(0)+this.outputText+kt.save+this.outputError+kt.restore))}};Gn.exports=qr});var Ir=d((Kv,Vn)=>{"use strict";var se=O(),qd=M(),$d=qd.cursor,Id=ce(),Ke=X(),Hn=Ke.clear,ye=Ke.figures,zn=Ke.style,Fd=Ke.wrap,jd=Ke.entriesToDisplay,$r=class extends Id{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((r,s)=>(typeof r=="string"&&(r={title:r,value:s}),{title:r&&(r.title||r.value||r),description:r&&r.description,value:r&&(r.value===void 0?s:r.value),selected:r&&r.selected,disabled:r&&r.disabled})),this.clear=Hn("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(r=>r.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(r=>!r.disabled).forEach(r=>r.selected=e),this.render()}_(e,r){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${ye.arrowUp}/${ye.arrowDown}: Highlight option
    ${ye.arrowLeft}/${ye.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,r,s,i){let n=(r.selected?se.green(ye.radioOn):ye.radioOff)+" "+i+" ",o,a;return r.disabled?o=e===s?se.gray().underline(r.title):se.strikethrough().gray(r.title):(o=e===s?se.cyan().underline(r.title):r.title,e===s&&r.description&&(a=` - ${r.description}`,(n.length+o.length+a.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(a=`
`+Fd(r.description,{margin:n.length,width:this.out.columns})))),n+o+se.gray(a||"")}paginateOptions(e){if(e.length===0)return se.red("No matches for this query.");let r=jd(this.cursor,e.length,this.optionsPerPage),s=r.startIndex,i=r.endIndex,n,o=[];for(let a=s;a<i;a++)a===s&&s>0?n=ye.arrowUp:a===i-1&&i<e.length?n=ye.arrowDown:n=" ",o.push(this.renderOption(this.cursor,e[a],a,n));return`
`+o.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[se.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(se.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write($d.hide),super.render();let e=[zn.symbol(this.done,this.aborted),se.bold(this.msg),zn.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=se.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=Hn(e,this.out.columns)}};Vn.exports=$r});var Zn=d((Qv,Xn)=>{"use strict";function Yn(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(l){r(l);return}a.done?e(u):Promise.resolve(u).then(s,i)}function Ld(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){Yn(n,s,i,o,a,"next",u)}function a(u){Yn(n,s,i,o,a,"throw",u)}o(void 0)})}}var Qe=O(),Nd=ce(),Qn=M(),Bd=Qn.erase,Wn=Qn.cursor,Xe=X(),Fr=Xe.style,Jn=Xe.clear,jr=Xe.figures,Gd=Xe.wrap,Ud=Xe.entriesToDisplay,Kn=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),Hd=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),zd=(t,e)=>{let r=t.findIndex(s=>s.value===e||s.title===e);return r>-1?r:void 0},Lr=class extends Nd{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:zd(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=Fr.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Jn("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=Kn(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var r=this;return Ld(function*(){let s=r.completing=r.suggest(r.input,r.choices),i=yield s;if(r.completing!==s)return;r.suggestions=i.map((o,a,u)=>({title:Hd(u,a),value:Kn(u,a),description:o.description})),r.completing=!1;let n=Math.max(i.length-1,0);r.moveSelect(Math.min(n,r.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){let s=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${s}${e}${i}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),r=this.input.slice(this.cursor);this.input=`${e}${r}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor+1);this.input=`${e}${r}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,r,s,i){let n,o=s?jr.arrowUp:i?jr.arrowDown:" ",a=r?Qe.cyan().underline(e.title):e.title;return o=(r?Qe.cyan(jr.pointer)+" ":"  ")+o,e.description&&(n=` - ${e.description}`,(o.length+a.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n=`
`+Gd(e.description,{margin:3,width:this.out.columns}))),o+" "+a+Qe.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(Wn.hide):this.out.write(Jn(this.outputText,this.out.columns)),super.render();let e=Ud(this.select,this.choices.length,this.limit),r=e.startIndex,s=e.endIndex;if(this.outputText=[Fr.symbol(this.done,this.aborted,this.exited),Qe.bold(this.msg),Fr.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let i=this.suggestions.slice(r,s).map((n,o)=>this.renderOption(n,this.select===o+r,o===0&&r>0,o+r===s-1&&s<this.choices.length)).join(`
`);this.outputText+=`
`+(i||Qe.gray(this.fallback.title))}this.out.write(Bd.line+Wn.to(0)+this.outputText)}};Xn.exports=Lr});var so=d((Xv,ro)=>{"use strict";var fe=O(),Vd=M(),Yd=Vd.cursor,Wd=Ir(),Br=X(),eo=Br.clear,to=Br.style,$e=Br.figures,Nr=class extends Wd{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=eo("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let r=this.filteredOptions.findIndex(s=>s===e);this.cursor=r<0?0:r,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,r){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${$e.arrowUp}/${$e.arrowDown}: Highlight option
    ${$e.arrowLeft}/${$e.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:fe.gray("Enter something to filter")}
`}renderOption(e,r,s){let i;return r.disabled?i=e===s?fe.gray().underline(r.title):fe.strikethrough().gray(r.title):i=e===s?fe.cyan().underline(r.title):r.title,(r.selected?fe.green($e.radioOn):$e.radioOff)+"  "+i}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[fe.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(fe.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Yd.hide),super.render();let e=[to.symbol(this.done,this.aborted),fe.bold(this.msg),to.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=fe.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=eo(e,this.out.columns)}};ro.exports=Nr});var co=d((Zv,lo)=>{"use strict";var io=O(),Jd=ce(),ao=X(),no=ao.style,Kd=ao.clear,uo=M(),Qd=uo.erase,oo=uo.cursor,Gr=class extends Jd{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(oo.hide):this.out.write(Kd(this.outputText,this.out.columns)),super.render(),this.outputText=[no.symbol(this.done,this.aborted),io.bold(this.msg),no.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:io.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Qd.line+oo.to(0)+this.outputText))}};lo.exports=Gr});var fo=d((ey,ho)=>{"use strict";ho.exports={TextPrompt:Ki(),SelectPrompt:en(),TogglePrompt:an(),DatePrompt:In(),NumberPrompt:Un(),MultiselectPrompt:Ir(),AutocompletePrompt:Zn(),AutocompleteMultiselectPrompt:so(),ConfirmPrompt:co()}});var mo=d(po=>{"use strict";var B=po,Xd=fo(),Ct=t=>t;function ie(t,e,r={}){return new Promise((s,i)=>{let n=new Xd[t](e),o=r.onAbort||Ct,a=r.onSubmit||Ct,u=r.onExit||Ct;n.on("state",e.onState||Ct),n.on("submit",l=>s(a(l))),n.on("exit",l=>s(u(l))),n.on("abort",l=>i(o(l)))})}B.text=t=>ie("TextPrompt",t);B.password=t=>(t.style="password",B.text(t));B.invisible=t=>(t.style="invisible",B.text(t));B.number=t=>ie("NumberPrompt",t);B.date=t=>ie("DatePrompt",t);B.confirm=t=>ie("ConfirmPrompt",t);B.list=t=>{let e=t.separator||",";return ie("TextPrompt",t,{onSubmit:r=>r.split(e).map(s=>s.trim())})};B.toggle=t=>ie("TogglePrompt",t);B.select=t=>ie("SelectPrompt",t);B.multiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(s=>s.selected).map(s=>s.value);return ie("MultiselectPrompt",t,{onAbort:e,onSubmit:e})};B.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(s=>s.selected).map(s=>s.value);return ie("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};var Zd=(t,e)=>Promise.resolve(e.filter(r=>r.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));B.autocomplete=t=>(t.suggest=t.suggest||Zd,t.choices=[].concat(t.choices||[]),ie("AutocompletePrompt",t))});var To=d((ry,xo)=>{"use strict";function go(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function bo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?go(Object(r),!0).forEach(function(s){ef(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):go(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function ef(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tf(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=rf(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return n=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!n&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function rf(t,e){if(t){if(typeof t=="string")return vo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vo(t,e)}}function vo(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function yo(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(l){r(l);return}a.done?e(u):Promise.resolve(u).then(s,i)}function wo(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){yo(n,s,i,o,a,"next",u)}function a(u){yo(n,s,i,o,a,"throw",u)}o(void 0)})}}var Ur=mo(),sf=["suggest","format","onState","validate","onRender","type"],_o=()=>{};function we(){return Hr.apply(this,arguments)}function Hr(){return Hr=wo(function*(t=[],{onSubmit:e=_o,onCancel:r=_o}={}){let s={},i=we._override||{};t=[].concat(t);let n,o,a,u,l,m,f=function(){var C=wo(function*(q,K,Ae=!1){if(!(!Ae&&q.validate&&q.validate(K)!==!0))return q.format?yield q.format(K,s):K});return function(K,Ae){return C.apply(this,arguments)}}();var p=tf(t),g;try{for(p.s();!(g=p.n()).done;){o=g.value;var F=o;if(u=F.name,l=F.type,typeof l=="function"&&(l=yield l(n,bo({},s),o),o.type=l),!!l){for(let C in o){if(sf.includes(C))continue;let q=o[C];o[C]=typeof q=="function"?yield q(n,bo({},s),m):q}if(m=o,typeof o.message!="string")throw new Error("prompt message is required");var j=o;if(u=j.name,l=j.type,Ur[l]===void 0)throw new Error(`prompt type (${l}) is not defined`);if(i[o.name]!==void 0&&(n=yield f(o,i[o.name]),n!==void 0)){s[u]=n;continue}try{n=we._injected?nf(we._injected,o.initial):yield Ur[l](o),s[u]=n=yield f(o,n,!0),a=yield e(o,n,s)}catch{a=!(yield r(o,s))}if(a)return s}}}catch(C){p.e(C)}finally{p.f()}return s}),Hr.apply(this,arguments)}function nf(t,e){let r=t.shift();if(r instanceof Error)throw r;return r===void 0?e:r}function of(t){we._injected=(we._injected||[]).concat(t)}function af(t){we._override=Object.assign({},t)}xo.exports=Object.assign(we,{prompt:we,prompts:Ur,inject:of,override:af})});var So=d((sy,ko)=>{"use strict";ko.exports=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}});var Ot=d((iy,Co)=>{"use strict";Co.exports=t=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return typeof t=="string"?t.replace(r,""):t}});var Mo=d((ny,Po)=>{"use strict";var uf=Ot(),{erase:Oo,cursor:lf}=M(),cf=t=>[...uf(t)].length;Po.exports=function(t,e){if(!e)return Oo.line+lf.to(0);let r=0,s=t.split(/\r?\n/);for(let i of s)r+=1+Math.floor(Math.max(cf(i)-1,0)/e);return Oo.lines(r)}});var zr=d((oy,Eo)=>{"use strict";var Ze={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},hf={arrowUp:Ze.arrowUp,arrowDown:Ze.arrowDown,arrowLeft:Ze.arrowLeft,arrowRight:Ze.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},df=process.platform==="win32"?hf:Ze;Eo.exports=df});var Ao=d((ay,Ro)=>{"use strict";var Ie=O(),Ce=zr(),Vr=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"\u{1F603}".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),ff=t=>Vr[t]||Vr.default,et=Object.freeze({aborted:Ie.red(Ce.cross),done:Ie.green(Ce.tick),exited:Ie.yellow(Ce.cross),default:Ie.cyan("?")}),pf=(t,e,r)=>e?et.aborted:r?et.exited:t?et.done:et.default,mf=t=>Ie.gray(t?Ce.ellipsis:Ce.pointerSmall),gf=(t,e)=>Ie.gray(t?e?Ce.pointerSmall:"+":Ce.line);Ro.exports={styles:Vr,render:ff,symbols:et,symbol:pf,delimiter:mf,item:gf}});var qo=d((uy,Do)=>{"use strict";var bf=Ot();Do.exports=function(t,e){let r=String(bf(t)||"").split(/\r?\n/);return e?r.map(s=>Math.ceil(s.length/e)).reduce((s,i)=>s+i):r.length}});var Io=d((ly,$o)=>{"use strict";$o.exports=(t,e={})=>{let r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(t||"").split(/\r?\n/g).map(i=>i.split(/\s+/g).reduce((n,o)=>(o.length+r.length>=s||n[n.length-1].length+o.length+1<s?n[n.length-1]+=` ${o}`:n.push(`${r}${o}`),n),[r]).join(`
`)).join(`
`)}});var jo=d((cy,Fo)=>{"use strict";Fo.exports=(t,e,r)=>{r=r||e;let s=Math.min(e-r,t-Math.floor(r/2));s<0&&(s=0);let i=Math.min(s+r,e);return{startIndex:s,endIndex:i}}});var Z=d((hy,Lo)=>{"use strict";Lo.exports={action:So(),clear:Mo(),style:Ao(),strip:Ot(),figures:zr(),lines:qo(),wrap:Io(),entriesToDisplay:jo()}});var pe=d((dy,Bo)=>{"use strict";var No=require("readline"),{action:vf}=Z(),yf=require("events"),{beep:wf,cursor:_f}=M(),xf=O(),Yr=class extends yf{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let r=No.createInterface({input:this.in,escapeCodeTimeout:50});No.emitKeypressEvents(this.in,r),this.in.isTTY&&this.in.setRawMode(!0);let s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,i=(n,o)=>{let a=vf(o,s);a===!1?this._&&this._(n,o):typeof this[a]=="function"?this[a](o):this.bell()};this.close=()=>{this.out.write(_f.show),this.in.removeListener("keypress",i),this.in.isTTY&&this.in.setRawMode(!1),r.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",i)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(wf)}render(){this.onRender(xf),this.firstRender&&(this.firstRender=!1)}};Bo.exports=Yr});var Uo=d((fy,Go)=>{var Pt=O(),Tf=pe(),{erase:kf,cursor:tt}=M(),{style:Wr,clear:Jr,lines:Sf,figures:Cf}=Z(),Kr=class extends Tf{constructor(e={}){super(e),this.transform=Wr.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=Jr("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=Pt.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,r){let s=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${s}${e}${i}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),r=this.value.slice(this.cursor);this.value=`${e}${r}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor+1);this.value=`${e}${r}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(tt.down(Sf(this.outputError,this.out.columns)-1)+Jr(this.outputError,this.out.columns)),this.out.write(Jr(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Wr.symbol(this.done,this.aborted),Pt.bold(this.msg),Wr.delimiter(this.done),this.red?Pt.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":Cf.pointerSmall} ${Pt.red().italic(r)}`,"")),this.out.write(kf.line+tt.to(0)+this.outputText+tt.save+this.outputError+tt.restore+tt.move(this.cursorOffset,0)))}};Go.exports=Kr});var Yo=d((py,Vo)=>{"use strict";var me=O(),Of=pe(),{style:Ho,clear:zo,figures:Mt,wrap:Pf,entriesToDisplay:Mf}=Z(),{cursor:Ef}=M(),Qr=class extends Of{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((r,s)=>(typeof r=="string"&&(r={title:r,value:s}),{title:r&&(r.title||r.value||r),value:r&&(r.value===void 0?s:r.value),description:r&&r.description,selected:r&&r.selected,disabled:r&&r.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=zo("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,r){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(Ef.hide):this.out.write(zo(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:r}=Mf(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[Ho.symbol(this.done,this.aborted),me.bold(this.msg),Ho.delimiter(!1),this.done?this.selection.title:this.selection.disabled?me.yellow(this.warn):me.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let s=e;s<r;s++){let i,n,o="",a=this.choices[s];s===e&&e>0?n=Mt.arrowUp:s===r-1&&r<this.choices.length?n=Mt.arrowDown:n=" ",a.disabled?(i=this.cursor===s?me.gray().underline(a.title):me.strikethrough().gray(a.title),n=(this.cursor===s?me.bold().gray(Mt.pointer)+" ":"  ")+n):(i=this.cursor===s?me.cyan().underline(a.title):a.title,n=(this.cursor===s?me.cyan(Mt.pointer)+" ":"  ")+n,a.description&&this.cursor===s&&(o=` - ${a.description}`,(n.length+i.length+o.length>=this.out.columns||a.description.split(/\r?\n/).length>1)&&(o=`
`+Pf(a.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${i}${me.gray(o)}
`}}this.out.write(this.outputText)}};Vo.exports=Qr});var Qo=d((my,Ko)=>{var Et=O(),Rf=pe(),{style:Wo,clear:Af}=Z(),{cursor:Jo,erase:Df}=M(),Xr=class extends Rf{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,r){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(Jo.hide):this.out.write(Af(this.outputText,this.out.columns)),super.render(),this.outputText=[Wo.symbol(this.done,this.aborted),Et.bold(this.msg),Wo.delimiter(this.done),this.value?this.inactive:Et.cyan().underline(this.inactive),Et.gray("/"),this.value?Et.cyan().underline(this.active):this.active].join(" "),this.out.write(Df.line+Jo.to(0)+this.outputText))}};Ko.exports=Xr});var ne=d((gy,Xo)=>{"use strict";var Zr=class t{constructor({token:e,date:r,parts:s,locales:i}){this.token=e,this.date=r||new Date,this.parts=s||[this],this.locales=i||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((r,s)=>s>e&&r instanceof t)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),r=e.indexOf(this);return e.find((s,i)=>i>r&&s instanceof t)}toString(){return String(this.date)}};Xo.exports=Zr});var ea=d((by,Zo)=>{"use strict";var qf=ne(),es=class extends qf{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};Zo.exports=es});var ra=d((vy,ta)=>{"use strict";var $f=ne(),If=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th"),ts=class extends $f{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),r=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+If(e):this.token==="d"?r+1:this.token==="ddd"?this.locales.weekdaysShort[r]:this.token==="dddd"?this.locales.weekdays[r]:e}};ta.exports=ts});var ia=d((yy,sa)=>{"use strict";var Ff=ne(),rs=class extends Ff{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};sa.exports=rs});var oa=d((wy,na)=>{"use strict";var jf=ne(),ss=class extends jf{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};na.exports=ss});var ua=d((_y,aa)=>{"use strict";var Lf=ne(),is=class extends Lf{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};aa.exports=is});var ca=d((xy,la)=>{"use strict";var Nf=ne(),ns=class extends Nf{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),r=this.token.length;return r===2?String(e+1).padStart(2,"0"):r===3?this.locales.monthsShort[e]:r===4?this.locales.months[e]:String(e+1)}};la.exports=ns});var da=d((Ty,ha)=>{"use strict";var Bf=ne(),os=class extends Bf{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};ha.exports=os});var pa=d((ky,fa)=>{"use strict";var Gf=ne(),as=class extends Gf{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};fa.exports=as});var ga=d((Sy,ma)=>{"use strict";ma.exports={DatePart:ne(),Meridiem:ea(),Day:ra(),Hours:ia(),Milliseconds:oa(),Minutes:ua(),Month:ca(),Seconds:da(),Year:pa()}});var Ta=d((Cy,xa)=>{"use strict";var us=O(),Uf=pe(),{style:ba,clear:va,figures:Hf}=Z(),{erase:zf,cursor:ya}=M(),{DatePart:wa,Meridiem:Vf,Day:Yf,Hours:Wf,Milliseconds:Jf,Minutes:Kf,Month:Qf,Seconds:Xf,Year:Zf}=ga(),ep=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,_a={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new Yf(t),3:t=>new Qf(t),4:t=>new Zf(t),5:t=>new Vf(t),6:t=>new Wf(t),7:t=>new Kf(t),8:t=>new Xf(t),9:t=>new Jf(t)},tp={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},ls=class extends Uf{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(tp,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=va("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let r;for(this.parts=[];r=ep.exec(e);){let i=r.shift(),n=r.findIndex(o=>o!=null);this.parts.push(n in _a?_a[n]({token:r[n]||i,date:this.date,parts:this.parts,locales:this.locales}):r[n]||i)}let s=this.parts.reduce((i,n)=>(typeof n=="string"&&typeof i[i.length-1]=="string"?i[i.length-1]+=n:i.push(n),i),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof wa)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(r=>r instanceof wa)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(ya.hide):this.out.write(va(this.outputText,this.out.columns)),super.render(),this.outputText=[ba.symbol(this.done,this.aborted),us.bold(this.msg),ba.delimiter(!1),this.parts.reduce((e,r,s)=>e.concat(s===this.cursor&&!this.done?us.cyan().underline(r.toString()):r),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":Hf.pointerSmall} ${us.red().italic(r)}`,"")),this.out.write(zf.line+ya.to(0)+this.outputText))}};xa.exports=ls});var Oa=d((Oy,Ca)=>{var Rt=O(),rp=pe(),{cursor:At,erase:sp}=M(),{style:cs,figures:ip,clear:ka,lines:np}=Z(),op=/[0-9]/,hs=t=>t!==void 0,Sa=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r},ds=class extends rp{constructor(e={}){super(e),this.transform=cs.render(e.style),this.msg=e.message,this.initial=hs(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=hs(e.min)?e.min:-1/0,this.max=hs(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=Rt.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Sa(e,this.round)}`),this._value=Sa(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||op.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=e!==""?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,r){if(!this.valid(e))return this.bell();let s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=s,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(At.down(np(this.outputError,this.out.columns)-1)+ka(this.outputError,this.out.columns)),this.out.write(ka(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[cs.symbol(this.done,this.aborted),Rt.bold(this.msg),cs.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Rt[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":ip.pointerSmall} ${Rt.red().italic(r)}`,"")),this.out.write(sp.line+At.to(0)+this.outputText+At.save+this.outputError+At.restore))}};Ca.exports=ds});var ps=d((Py,Ea)=>{"use strict";var oe=O(),{cursor:ap}=M(),up=pe(),{clear:Pa,figures:_e,style:Ma,wrap:lp,entriesToDisplay:cp}=Z(),fs=class extends up{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((r,s)=>(typeof r=="string"&&(r={title:r,value:s}),{title:r&&(r.title||r.value||r),description:r&&r.description,value:r&&(r.value===void 0?s:r.value),selected:r&&r.selected,disabled:r&&r.disabled})),this.clear=Pa("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(r=>r.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(r=>!r.disabled).forEach(r=>r.selected=e),this.render()}_(e,r){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${_e.arrowUp}/${_e.arrowDown}: Highlight option
    ${_e.arrowLeft}/${_e.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,r,s,i){let n=(r.selected?oe.green(_e.radioOn):_e.radioOff)+" "+i+" ",o,a;return r.disabled?o=e===s?oe.gray().underline(r.title):oe.strikethrough().gray(r.title):(o=e===s?oe.cyan().underline(r.title):r.title,e===s&&r.description&&(a=` - ${r.description}`,(n.length+o.length+a.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(a=`
`+lp(r.description,{margin:n.length,width:this.out.columns})))),n+o+oe.gray(a||"")}paginateOptions(e){if(e.length===0)return oe.red("No matches for this query.");let{startIndex:r,endIndex:s}=cp(this.cursor,e.length,this.optionsPerPage),i,n=[];for(let o=r;o<s;o++)o===r&&r>0?i=_e.arrowUp:o===s-1&&s<e.length?i=_e.arrowDown:i=" ",n.push(this.renderOption(this.cursor,e[o],o,i));return`
`+n.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[oe.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(oe.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(ap.hide),super.render();let e=[Ma.symbol(this.done,this.aborted),oe.bold(this.msg),Ma.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=oe.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=Pa(e,this.out.columns)}};Ea.exports=fs});var $a=d((My,qa)=>{"use strict";var rt=O(),hp=pe(),{erase:dp,cursor:Ra}=M(),{style:ms,clear:Aa,figures:gs,wrap:fp,entriesToDisplay:pp}=Z(),Da=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),mp=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),gp=(t,e)=>{let r=t.findIndex(s=>s.value===e||s.title===e);return r>-1?r:void 0},bs=class extends hp{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:gp(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=ms.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Aa("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=Da(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let r=this.completing=this.suggest(this.input,this.choices),s=await r;if(this.completing!==r)return;this.suggestions=s.map((n,o,a)=>({title:mp(a,o),value:Da(a,o),description:n.description})),this.completing=!1;let i=Math.max(s.length-1,0);this.moveSelect(Math.min(i,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){let s=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${s}${e}${i}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),r=this.input.slice(this.cursor);this.input=`${e}${r}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor+1);this.input=`${e}${r}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,r,s,i){let n,o=s?gs.arrowUp:i?gs.arrowDown:" ",a=r?rt.cyan().underline(e.title):e.title;return o=(r?rt.cyan(gs.pointer)+" ":"  ")+o,e.description&&(n=` - ${e.description}`,(o.length+a.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n=`
`+fp(e.description,{margin:3,width:this.out.columns}))),o+" "+a+rt.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(Ra.hide):this.out.write(Aa(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:r}=pp(this.select,this.choices.length,this.limit);if(this.outputText=[ms.symbol(this.done,this.aborted,this.exited),rt.bold(this.msg),ms.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let s=this.suggestions.slice(e,r).map((i,n)=>this.renderOption(i,this.select===n+e,n===0&&e>0,n+e===r-1&&r<this.choices.length)).join(`
`);this.outputText+=`
`+(s||rt.gray(this.fallback.title))}this.out.write(dp.line+Ra.to(0)+this.outputText)}};qa.exports=bs});var La=d((Ey,ja)=>{"use strict";var ge=O(),{cursor:bp}=M(),vp=ps(),{clear:Ia,style:Fa,figures:Fe}=Z(),vs=class extends vp{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=Ia("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let r=this.filteredOptions.findIndex(s=>s===e);this.cursor=r<0?0:r,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,r){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Fe.arrowUp}/${Fe.arrowDown}: Highlight option
    ${Fe.arrowLeft}/${Fe.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:ge.gray("Enter something to filter")}
`}renderOption(e,r,s){let i;return r.disabled?i=e===s?ge.gray().underline(r.title):ge.strikethrough().gray(r.title):i=e===s?ge.cyan().underline(r.title):r.title,(r.selected?ge.green(Fe.radioOn):Fe.radioOff)+"  "+i}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[ge.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(ge.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(bp.hide),super.render();let e=[Fa.symbol(this.done,this.aborted),ge.bold(this.msg),Fa.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=ge.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=Ia(e,this.out.columns)}};ja.exports=vs});var Ha=d((Ry,Ua)=>{var Na=O(),yp=pe(),{style:Ba,clear:wp}=Z(),{erase:_p,cursor:Ga}=M(),ys=class extends yp{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Ga.hide):this.out.write(wp(this.outputText,this.out.columns)),super.render(),this.outputText=[Ba.symbol(this.done,this.aborted),Na.bold(this.msg),Ba.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:Na.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(_p.line+Ga.to(0)+this.outputText))}};Ua.exports=ys});var Va=d((Ay,za)=>{"use strict";za.exports={TextPrompt:Uo(),SelectPrompt:Yo(),TogglePrompt:Qo(),DatePrompt:Ta(),NumberPrompt:Oa(),MultiselectPrompt:ps(),AutocompletePrompt:$a(),AutocompleteMultiselectPrompt:La(),ConfirmPrompt:Ha()}});var Wa=d(Ya=>{"use strict";var G=Ya,xp=Va(),Dt=t=>t;function ae(t,e,r={}){return new Promise((s,i)=>{let n=new xp[t](e),o=r.onAbort||Dt,a=r.onSubmit||Dt,u=r.onExit||Dt;n.on("state",e.onState||Dt),n.on("submit",l=>s(a(l))),n.on("exit",l=>s(u(l))),n.on("abort",l=>i(o(l)))})}G.text=t=>ae("TextPrompt",t);G.password=t=>(t.style="password",G.text(t));G.invisible=t=>(t.style="invisible",G.text(t));G.number=t=>ae("NumberPrompt",t);G.date=t=>ae("DatePrompt",t);G.confirm=t=>ae("ConfirmPrompt",t);G.list=t=>{let e=t.separator||",";return ae("TextPrompt",t,{onSubmit:r=>r.split(e).map(s=>s.trim())})};G.toggle=t=>ae("TogglePrompt",t);G.select=t=>ae("SelectPrompt",t);G.multiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(s=>s.selected).map(s=>s.value);return ae("MultiselectPrompt",t,{onAbort:e,onSubmit:e})};G.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(s=>s.selected).map(s=>s.value);return ae("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};var Tp=(t,e)=>Promise.resolve(e.filter(r=>r.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));G.autocomplete=t=>(t.suggest=t.suggest||Tp,t.choices=[].concat(t.choices||[]),ae("AutocompletePrompt",t))});var Qa=d((qy,Ka)=>{"use strict";var ws=Wa(),kp=["suggest","format","onState","validate","onRender","type"],Ja=()=>{};async function xe(t=[],{onSubmit:e=Ja,onCancel:r=Ja}={}){let s={},i=xe._override||{};t=[].concat(t);let n,o,a,u,l,m,f=async(p,g,F=!1)=>{if(!(!F&&p.validate&&p.validate(g)!==!0))return p.format?await p.format(g,s):g};for(o of t)if({name:u,type:l}=o,typeof l=="function"&&(l=await l(n,{...s},o),o.type=l),!!l){for(let p in o){if(kp.includes(p))continue;let g=o[p];o[p]=typeof g=="function"?await g(n,{...s},m):g}if(m=o,typeof o.message!="string")throw new Error("prompt message is required");if({name:u,type:l}=o,ws[l]===void 0)throw new Error(`prompt type (${l}) is not defined`);if(i[o.name]!==void 0&&(n=await f(o,i[o.name]),n!==void 0)){s[u]=n;continue}try{n=xe._injected?Sp(xe._injected,o.initial):await ws[l](o),s[u]=n=await f(o,n,!0),a=await e(o,n,s)}catch{a=!await r(o,s)}if(a)return s}return s}function Sp(t,e){let r=t.shift();if(r instanceof Error)throw r;return r===void 0?e:r}function Cp(t){xe._injected=(xe._injected||[]).concat(t)}function Op(t){xe._override=Object.assign({},t)}Ka.exports=Object.assign(xe,{prompt:xe,prompts:ws,inject:Cp,override:Op})});var Za=d(($y,Xa)=>{function Pp(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,r=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(r[e]>t[e])return!1;if(t[e]>r[e])return!0}return!1}Xa.exports=Pp("8.6.0")?To():Qa()});var iu=d((zy,su)=>{var je=1e3,Le=je*60,Ne=Le*60,Oe=Ne*24,qp=Oe*7,$p=Oe*365.25;su.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Ip(t);if(r==="number"&&isFinite(t))return e.long?jp(t):Fp(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Ip(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),s=(e[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return r*$p;case"weeks":case"week":case"w":return r*qp;case"days":case"day":case"d":return r*Oe;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ne;case"minutes":case"minute":case"mins":case"min":case"m":return r*Le;case"seconds":case"second":case"secs":case"sec":case"s":return r*je;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Fp(t){var e=Math.abs(t);return e>=Oe?Math.round(t/Oe)+"d":e>=Ne?Math.round(t/Ne)+"h":e>=Le?Math.round(t/Le)+"m":e>=je?Math.round(t/je)+"s":t+"ms"}function jp(t){var e=Math.abs(t);return e>=Oe?It(t,e,Oe,"day"):e>=Ne?It(t,e,Ne,"hour"):e>=Le?It(t,e,Le,"minute"):e>=je?It(t,e,je,"second"):t+" ms"}function It(t,e,r,s){var i=e>=r*1.5;return Math.round(t/r)+" "+s+(i?"s":"")}});var ks=d((Vy,nu)=>{function Lp(t){r.debug=r,r.default=r,r.coerce=u,r.disable=n,r.enable=i,r.enabled=o,r.humanize=iu(),r.destroy=l,Object.keys(t).forEach(m=>{r[m]=t[m]}),r.names=[],r.skips=[],r.formatters={};function e(m){let f=0;for(let p=0;p<m.length;p++)f=(f<<5)-f+m.charCodeAt(p),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(m){let f,p=null,g,F;function j(...C){if(!j.enabled)return;let q=j,K=Number(new Date),Ae=K-(f||K);q.diff=Ae,q.prev=f,q.curr=K,f=K,C[0]=r.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let De=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(ze,ar)=>{if(ze==="%%")return"%";De++;let bt=r.formatters[ar];if(typeof bt=="function"){let ur=C[De];ze=bt.call(q,ur),C.splice(De,1),De--}return ze}),r.formatArgs.call(q,C),(q.log||r.log).apply(q,C)}return j.namespace=m,j.useColors=r.useColors(),j.color=r.selectColor(m),j.extend=s,j.destroy=r.destroy,Object.defineProperty(j,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(g!==r.namespaces&&(g=r.namespaces,F=r.enabled(m)),F),set:C=>{p=C}}),typeof r.init=="function"&&r.init(j),j}function s(m,f){let p=r(this.namespace+(typeof f>"u"?":":f)+m);return p.log=this.log,p}function i(m){r.save(m),r.namespaces=m,r.names=[],r.skips=[];let f,p=(typeof m=="string"?m:"").split(/[\s,]+/),g=p.length;for(f=0;f<g;f++)p[f]&&(m=p[f].replace(/\*/g,".*?"),m[0]==="-"?r.skips.push(new RegExp("^"+m.slice(1)+"$")):r.names.push(new RegExp("^"+m+"$")))}function n(){let m=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),m}function o(m){if(m[m.length-1]==="*")return!0;let f,p;for(f=0,p=r.skips.length;f<p;f++)if(r.skips[f].test(m))return!1;for(f=0,p=r.names.length;f<p;f++)if(r.names[f].test(m))return!0;return!1}function a(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function u(m){return m instanceof Error?m.stack||m.message:m}function l(){}return r.enable(r.load()),r}nu.exports=Lp});var ou=d((V,Ft)=>{V.formatArgs=Bp;V.save=Gp;V.load=Up;V.useColors=Np;V.storage=Hp();V.destroy=(()=>{let t=!1;return()=>{t||(t=!0)}})();V.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Np(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Bp(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Ft.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(s=r))}),t.splice(s,0,e)}V.log=console.debug||console.log||(()=>{});function Gp(t){try{t?V.storage.setItem("debug",t):V.storage.removeItem("debug")}catch{}}function Up(){let t;try{t=V.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Hp(){try{return localStorage}catch{}}Ft.exports=ks()(V);var{formatters:zp}=Ft.exports;zp.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var uu=d(($,Lt)=>{var Vp=require("tty"),jt=require("util");$.init=Zp;$.log=Kp;$.formatArgs=Wp;$.save=Qp;$.load=Xp;$.useColors=Yp;$.destroy=jt.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");$.colors=[6,2,3,4,5,1];try{let t=require("supports-color");t&&(t.stderr||t).level>=2&&($.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}$.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,n)=>n.toUpperCase()),s=process.env[e];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),t[r]=s,t},{});function Yp(){return"colors"in $.inspectOpts?!!$.inspectOpts.colors:Vp.isatty(process.stderr.fd)}function Wp(t){let{namespace:e,useColors:r}=this;if(r){let s=this.color,i="\x1B[3"+(s<8?s:"8;5;"+s),n=`  ${i};1m${e} \x1B[0m`;t[0]=n+t[0].split(`
`).join(`
`+n),t.push(i+"m+"+Lt.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Jp()+e+" "+t[0]}function Jp(){return $.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Kp(...t){return process.stderr.write(jt.formatWithOptions($.inspectOpts,...t)+`
`)}function Qp(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Xp(){return process.env.DEBUG}function Zp(t){t.inspectOpts={};let e=Object.keys($.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=$.inspectOpts[e[r]]}Lt.exports=ks()($);var{formatters:au}=Lt.exports;au.o=function(t){return this.inspectOpts.colors=this.useColors,jt.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};au.O=function(t){return this.inspectOpts.colors=this.useColors,jt.inspect(t,this.inspectOpts)}});var Cs=d((Yy,Ss)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ss.exports=ou():Ss.exports=uu()});var lu=d(Y=>{"use strict";var em=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Y,"__esModule",{value:!0});var tm=require("fs"),rm=em(Cs()),Be=rm.default("@kwsites/file-exists");function sm(t,e,r){Be("checking %s",t);try{let s=tm.statSync(t);return s.isFile()&&e?(Be("[OK] path represents a file"),!0):s.isDirectory()&&r?(Be("[OK] path represents a directory"),!0):(Be("[FAIL] path represents something other than a file or directory"),!1)}catch(s){if(s.code==="ENOENT")return Be("[FAIL] path is not accessible: %o",s),!1;throw Be("[FATAL] %o",s),s}}function im(t,e=Y.READABLE){return sm(t,(e&Y.FILE)>0,(e&Y.FOLDER)>0)}Y.exists=im;Y.FILE=1;Y.FOLDER=2;Y.READABLE=Y.FILE+Y.FOLDER});var cu=d(Nt=>{"use strict";function nm(t){for(var e in t)Nt.hasOwnProperty(e)||(Nt[e]=t[e])}Object.defineProperty(Nt,"__esModule",{value:!0});nm(lu())});var Ps=d(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.createDeferred=Pe.deferred=void 0;function Os(){let t,e,r="pending";return{promise:new Promise((i,n)=>{t=i,e=n}),done(i){r==="pending"&&(r="resolved",t(i))},fail(i){r==="pending"&&(r="rejected",e(i))},get fulfilled(){return r!=="pending"},get status(){return r}}}Pe.deferred=Os;Pe.createDeferred=Os;Pe.default=Os});var Kc=te(require("node:fs"),1);var Ts=te(Za(),1);var Mp={"question.message.folderName":"\u8BF7\u8F93\u5165\u6587\u4EF6\u5939\u540D\u79F0\uFF0C\u8FD9\u5C06\u5728\u5F53\u524D\u76EE\u5F55\u521B\u5EFA\u4E00\u4E2A\u6587\u4EF6\u5939\uFF0C\u7528\u4E8E\u521D\u59CB\u5316\u6587\u6863\u9879\u76EE","question.message.prefix":"\u8BF7\u8F93\u5165\u6B64\u9879\u76EE\u7684GitPages\u524D\u7F00\uFF08\u4ED3\u5E93\u540D\uFF09\uFF0C\u5982\uFF1A/ProjectName","console.info.scriptStart":"===== \u811A\u672C\u5F00\u59CB\u6267\u884C =====","console.error.exit":"===== \u5F02\u5E38\u9000\u51FA =====","console.error.duplicateFolder":"\u540C\u540D\u6587\u4EF6\u5939\u6216\u6587\u4EF6\u5DF2\u5B58\u5728\uFF1A{name}","console.error.subtitle":"\u9519\u8BEF: ","console.error.userCancel":"\u7528\u6237\u7EC8\u6B62\u4E86\u811A\u672C\u6267\u884C","console.error.retryDownloadTemplate":"\u4E0B\u8F7D\u6A21\u677F\u5931\u8D25\uFF0C\u5C1D\u8BD5\u4ECEgitee\u4E0B\u8F7D","console.error.downloadTemplate":"\u4E0B\u8F7D\u6A21\u677F\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u60A8\u7684\u7F51\u7EDC","console.success.complete":"===== \u7A0B\u5E8F\u6267\u884C\u6210\u529F ====="},eu=Mp;var Ep={"question.message.folderName":"Input folder name, this will create a folder in the current directory to initialize the md project","question.message.prefix":"Input this project GitPages prefix (repository name), e.g.: /ProjectName","console.info.scriptStart":"===== Script start =====","console.error.exit":"===== Exit with error =====","console.error.duplicateFolder":"Folder or file already exists: {name}","console.error.subtitle":"ERROR: ","console.error.userCancel":"User canceled","console.error.retryDownloadTemplate":"Download template failed, try to download from gitee","console.error.downloadTemplate":"Download Failed, please check your network","console.success.complete":"===== Program execution succeeded ====="},_s=Ep;function tu(t){let e={value:t,_watchCallbacks:[]};return new Proxy(e,{get:(r,s)=>r[s],set:(r,s,i)=>{r[s]=i;for(let n of r._watchCallbacks)n(r[s],i);return!0}})}var xs=tu(_s);function Rp(t,e,r){let s=xs.value[t];return s||(typeof e=="string"?s=e:typeof r=="string"&&(s=r)),s?(typeof e=="object"&&(s=s.replace(/\{\s*([a-zA-z_]+)\s*\}/g,(i,n)=>String(e[n]))),s):""}function Ap(t){t==="zh"?xs.value=eu:t==="en"&&(xs.value=_s)}var st={state:{},action:{t:Rp,updateLang:Ap}};var qt=st.action.t,Dp=st.action.updateLang,$t={};async function ru(){let t=".git-pages",{lang:e}=await(0,Ts.default)([{name:"lang",type:"select",message:"Choose The language during this creation process",choices:[{title:"English",value:"en"},{title:"\u4E2D\u6587",value:"zh"}]}]);if(!e||(Dp(e),$t=await(0,Ts.default)([{name:"folderName",type:"text",message:qt("question.message.folderName"),initial:t,onState:r=>!r.value||/(\s|\/|\\)+/.test(r.value)?r.value:t},{name:"prefix",type:"text",message:qt("question.message.prefix"),initial:"",onState:r=>!r.value||/(\s|\/|\\)+/.test(r.value)?"":r.value}]),$t.prefix===void 0||$t.folderName===void 0))throw Error(qt("console.error.userCancel"));return $t}var Yc=te(require("node:path"),1),Wc=te(require("node:fs"),1);var Zt=te(cu(),1),Jt=te(Cs(),1),Il=require("child_process"),yc=te(Ps(),1),Ge=te(Ps(),1),zc=require("node:events"),Qt=Object.defineProperty,om=Object.defineProperties,am=Object.getOwnPropertyDescriptor,um=Object.getOwnPropertyDescriptors,Ys=Object.getOwnPropertyNames,hu=Object.getOwnPropertySymbols,Uu=Object.prototype.hasOwnProperty,lm=Object.prototype.propertyIsEnumerable,du=(t,e,r)=>e in t?Qt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,J=(t,e)=>{for(var r in e||(e={}))Uu.call(e,r)&&du(t,r,e[r]);if(hu)for(var r of hu(e))lm.call(e,r)&&du(t,r,e[r]);return t},ot=(t,e)=>om(t,um(e)),h=(t,e)=>function(){return t&&(e=(0,t[Ys(t)[0]])(t=0)),e},cm=(t,e)=>function(){return e||(0,t[Ys(t)[0]])((e={exports:{}}).exports,e),e.exports},D=(t,e)=>{for(var r in e)Qt(t,r,{get:e[r],enumerable:!0})},hm=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ys(e))!Uu.call(t,i)&&i!==r&&Qt(t,i,{get:()=>e[i],enumerable:!(s=am(e,i))||s.enumerable});return t},E=t=>hm(Qt({},"__esModule",{value:!0}),t),nt=(t,e,r)=>new Promise((s,i)=>{var n=u=>{try{a(r.next(u))}catch(l){i(l)}},o=u=>{try{a(r.throw(u))}catch(l){i(l)}},a=u=>u.done?s(u.value):Promise.resolve(u.value).then(n,o);a((r=r.apply(t,e)).next())});function dm(...t){let e=new String(t);return Xt.set(e,t),e}function Yt(t){return t instanceof String&&Xt.has(t)}function fu(t){return Xt.get(t)||[]}var Xt,ct=h({"src/lib/args/pathspec.ts"(){"use strict";Xt=new WeakMap}}),ve,ke=h({"src/lib/errors/git-error.ts"(){"use strict";ve=class extends Error{constructor(t,e){super(e),this.task=t,Object.setPrototypeOf(this,new.target.prototype)}}}}),ht,He=h({"src/lib/errors/git-response-error.ts"(){"use strict";ke(),ht=class extends ve{constructor(t,e){super(void 0,e||String(t)),this.git=t}}}}),Hu,zu=h({"src/lib/errors/task-configuration-error.ts"(){"use strict";ke(),Hu=class extends ve{constructor(t){super(void 0,t)}}}});function Vu(t){return typeof t=="function"?t:Re}function Yu(t){return typeof t=="function"&&t!==Re}function Wu(t,e){let r=t.indexOf(e);return r<=0?[t,""]:[t.substr(0,r),t.substr(r+1)]}function Ju(t,e=0){return Ku(t)&&t.length>e?t[e]:void 0}function Ee(t,e=0){if(Ku(t)&&t.length>e)return t[t.length-1-e]}function Ku(t){return!!(t&&typeof t.length=="number")}function dt(t="",e=!0,r=`
`){return t.split(r).reduce((s,i)=>{let n=e?i.trim():i;return n&&s.push(n),s},[])}function Ws(t,e){return dt(t,!0).map(r=>e(r))}function Js(t){return(0,Zt.exists)(t,Zt.FOLDER)}function _(t,e){return Array.isArray(t)?t.includes(e)||t.push(e):t.add(e),e}function Qu(t,e){return Array.isArray(t)&&!t.includes(e)&&t.push(e),t}function er(t,e){if(Array.isArray(t)){let r=t.indexOf(e);r>=0&&t.splice(r,1)}else t.delete(e);return e}function ue(t){return Array.isArray(t)?t:[t]}function Xu(t){return t.replace(/[\s-]+(.)/g,(e,r)=>r.toUpperCase())}function Zu(t){return ue(t).map(String)}function S(t,e=0){if(t==null)return e;let r=parseInt(t,10);return isNaN(r)?e:r}function at(t,e){let r=[];for(let s=0,i=t.length;s<i;s++)r.push(e,t[s]);return r}function ut(t){return(Array.isArray(t)?Buffer.concat(t):t).toString("utf-8")}function el(t,e){return Object.assign({},...e.map(r=>r in t?{[r]:t[r]}:{}))}function $s(t=0){return new Promise(e=>setTimeout(e,t))}function tl(t){if(t!==!1)return t}var Ue,Re,ft,tr=h({"src/lib/utils/util.ts"(){"use strict";Ue="\0",Re=()=>{},ft=Object.prototype.toString.call.bind(Object.prototype.toString)}});function le(t,e,r){return e(t)?t:arguments.length>2?r:void 0}function Ks(t,e){let r=Yt(t)?"string":typeof t;return/number|string|boolean/.test(r)&&(!e||!e.includes(r))}function Qs(t){return!!t&&ft(t)==="[object Object]"}function rl(t){return typeof t=="function"}var pt,I,sl,Wt,Xs,il=h({"src/lib/utils/argument-filters.ts"(){"use strict";tr(),ct(),pt=t=>Array.isArray(t),I=t=>typeof t=="string",sl=t=>Array.isArray(t)&&t.every(I),Wt=t=>I(t)||Array.isArray(t)&&t.every(I),Xs=t=>t==null||"number|boolean|function".includes(typeof t)?!1:Array.isArray(t)||typeof t=="string"||typeof t.length=="number"}}),Is,fm=h({"src/lib/utils/exit-codes.ts"(){"use strict";Is=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.ERROR=1]="ERROR",t[t.NOT_FOUND=-2]="NOT_FOUND",t[t.UNCLEAN=128]="UNCLEAN",t))(Is||{})}}),lt,pm=h({"src/lib/utils/git-output-streams.ts"(){"use strict";lt=class{constructor(t,e){this.stdOut=t,this.stdErr=e}asStrings(){return new lt(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}}),w,Te,mm=h({"src/lib/utils/line-parser.ts"(){"use strict";w=class{constructor(t,e){this.matches=[],this.parse=(r,s)=>(this.resetMatches(),this._regExp.every((i,n)=>this.addMatch(i,n,r(n)))?this.useMatches(s,this.prepareMatches())!==!1:!1),this._regExp=Array.isArray(t)?t:[t],e&&(this.useMatches=e)}useMatches(t,e){throw new Error("LineParser:useMatches not implemented")}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(t,e,r){let s=r&&t.exec(r);return s&&this.pushMatch(e,s),!!s}pushMatch(t,e){this.matches.push(...e.slice(1))}},Te=class extends w{addMatch(t,e,r){return/^remote:\s/.test(String(r))&&super.addMatch(t,e,r)}pushMatch(t,e){(t>0||e.length>1)&&super.pushMatch(t,e)}}}});function nl(...t){let e=process.cwd(),r=Object.assign(J({baseDir:e},ol),...t.filter(s=>typeof s=="object"&&s));return r.baseDir=r.baseDir||e,r.trimmed=r.trimmed===!0,r}var ol,gm=h({"src/lib/utils/simple-git-options.ts"(){"use strict";ol={binary:"git",maxConcurrentProcesses:5,config:[],trimmed:!1}}});function Zs(t,e=[]){return Qs(t)?Object.keys(t).reduce((r,s)=>{let i=t[s];return Yt(i)?r.push(i):Ks(i,["boolean"])?r.push(s+"="+i):r.push(s),r},e):e}function U(t,e=0,r=!1){let s=[];for(let i=0,n=e<0?t.length:e;i<n;i++)"string|number".includes(typeof t[i])&&s.push(String(t[i]));return Zs(ei(t),s),r||s.push(...bm(t)),s}function bm(t){let e=typeof Ee(t)=="function";return le(Ee(t,e?1:0),pt,[])}function ei(t){let e=rl(Ee(t));return le(Ee(t,e?1:0),Qs)}function R(t,e=!0){let r=Vu(Ee(t));return e||Yu(r)?r:void 0}var vm=h({"src/lib/utils/task-options.ts"(){"use strict";il(),tr(),ct()}});function Fs(t,e){return t(e.stdOut,e.stdErr)}function z(t,e,r,s=!0){return ue(r).forEach(i=>{for(let n=dt(i,s),o=0,a=n.length;o<a;o++){let u=(l=0)=>{if(!(o+l>=a))return n[o+l]};e.some(({parse:l})=>l(u,t))}}),t}var ym=h({"src/lib/utils/task-parser.ts"(){"use strict";tr()}}),al={};D(al,{ExitCodes:()=>Is,GitOutputStreams:()=>lt,LineParser:()=>w,NOOP:()=>Re,NULL:()=>Ue,RemoteLineParser:()=>Te,append:()=>_,appendTaskOptions:()=>Zs,asArray:()=>ue,asCamelCase:()=>Xu,asFunction:()=>Vu,asNumber:()=>S,asStringArray:()=>Zu,bufferToString:()=>ut,callTaskParser:()=>Fs,createInstanceConfig:()=>nl,delay:()=>$s,filterArray:()=>pt,filterFunction:()=>rl,filterHasLength:()=>Xs,filterPlainObject:()=>Qs,filterPrimitives:()=>Ks,filterString:()=>I,filterStringArray:()=>sl,filterStringOrStringArray:()=>Wt,filterType:()=>le,first:()=>Ju,folderExists:()=>Js,forEachLineWithContent:()=>Ws,getTrailingOptions:()=>U,including:()=>Qu,isUserFunction:()=>Yu,last:()=>Ee,objectToString:()=>ft,orVoid:()=>tl,parseStringResponse:()=>z,pick:()=>el,prefixedArray:()=>at,remove:()=>er,splitOn:()=>Wu,toLinesWithContent:()=>dt,trailingFunctionArgument:()=>R,trailingOptionsArgument:()=>ei});var y=h({"src/lib/utils/index.ts"(){"use strict";il(),fm(),pm(),mm(),gm(),vm(),ym(),tr()}}),ul={};D(ul,{CheckRepoActions:()=>js,checkIsBareRepoTask:()=>cl,checkIsRepoRootTask:()=>ll,checkIsRepoTask:()=>wm});function wm(t){switch(t){case"bare":return cl();case"root":return ll()}return{commands:["rev-parse","--is-inside-work-tree"],format:"utf-8",onError:rr,parser:ti}}function ll(){return{commands:["rev-parse","--git-dir"],format:"utf-8",onError:rr,parser(e){return/^\.(git)?$/.test(e.trim())}}}function cl(){return{commands:["rev-parse","--is-bare-repository"],format:"utf-8",onError:rr,parser:ti}}function _m(t){return/(Not a git repository|Kein Git-Repository)/i.test(String(t))}var js,rr,ti,hl=h({"src/lib/tasks/check-is-repo.ts"(){"use strict";y(),js=(t=>(t.BARE="bare",t.IN_TREE="tree",t.IS_REPO_ROOT="root",t))(js||{}),rr=({exitCode:t},e,r,s)=>{if(t===128&&_m(e))return r(Buffer.from("false"));s(e)},ti=t=>t.trim()==="true"}});function xm(t,e){let r=new dl(t),s=t?pl:fl;return dt(e).forEach(i=>{let n=i.replace(s,"");r.paths.push(n),(ml.test(n)?r.folders:r.files).push(n)}),r}var dl,fl,pl,ml,Tm=h({"src/lib/responses/CleanSummary.ts"(){"use strict";y(),dl=class{constructor(t){this.dryRun=t,this.paths=[],this.files=[],this.folders=[]}},fl=/^[a-z]+\s*/i,pl=/^[a-z]+\s+[a-z]+\s*/i,ml=/\/$/}}),Ls={};D(Ls,{EMPTY_COMMANDS:()=>sr,adhocExecTask:()=>gl,configurationErrorTask:()=>H,isBufferTask:()=>vl,isEmptyTask:()=>yl,straightThroughBufferTask:()=>bl,straightThroughStringTask:()=>N});function gl(t){return{commands:sr,format:"empty",parser:t}}function H(t){return{commands:sr,format:"empty",parser(){throw typeof t=="string"?new Hu(t):t}}}function N(t,e=!1){return{commands:t,format:"utf-8",parser(r){return e?String(r).trim():r}}}function bl(t){return{commands:t,format:"buffer",parser(e){return e}}}function vl(t){return t.format==="buffer"}function yl(t){return t.format==="empty"||!t.commands.length}var sr,A=h({"src/lib/tasks/task.ts"(){"use strict";zu(),sr=[]}}),wl={};D(wl,{CONFIG_ERROR_INTERACTIVE_MODE:()=>ri,CONFIG_ERROR_MODE_REQUIRED:()=>si,CONFIG_ERROR_UNKNOWN_OPTION:()=>ii,CleanOptions:()=>Ut,cleanTask:()=>_l,cleanWithOptionsTask:()=>km,isCleanOptionsArray:()=>Sm});function km(t,e){let{cleanMode:r,options:s,valid:i}=Cm(t);return r?i.options?(s.push(...e),s.some(Mm)?H(ri):_l(r,s)):H(ii+JSON.stringify(t)):H(si)}function _l(t,e){return{commands:["clean",`-${t}`,...e],format:"utf-8",parser(s){return xm(t==="n",s)}}}function Sm(t){return Array.isArray(t)&&t.every(e=>ni.has(e))}function Cm(t){let e,r=[],s={cleanMode:!1,options:!0};return t.replace(/[^a-z]i/g,"").split("").forEach(i=>{Om(i)?(e=i,s.cleanMode=!0):s.options=s.options&&Pm(r[r.length]=`-${i}`)}),{cleanMode:e,options:r,valid:s}}function Om(t){return t==="f"||t==="n"}function Pm(t){return/^-[a-z]$/i.test(t)&&ni.has(t.charAt(1))}function Mm(t){return/^-[^\-]/.test(t)?t.indexOf("i")>0:t==="--interactive"}var ri,si,ii,Ut,ni,xl=h({"src/lib/tasks/clean.ts"(){"use strict";Tm(),y(),A(),ri="Git clean interactive mode is not supported",si='Git clean mode parameter ("n" or "f") is required',ii="Git clean unknown option found in: ",Ut=(t=>(t.DRY_RUN="n",t.FORCE="f",t.IGNORED_INCLUDED="x",t.IGNORED_ONLY="X",t.EXCLUDING="e",t.QUIET="q",t.RECURSIVE="d",t))(Ut||{}),ni=new Set(["i",...Zu(Object.values(Ut))])}});function Em(t){let e=new kl;for(let r of Tl(t))e.addValue(r.file,String(r.key),r.value);return e}function Rm(t,e){let r=null,s=[],i=new Map;for(let n of Tl(t,e))n.key===e&&(s.push(r=n.value),i.has(n.file)||i.set(n.file,[]),i.get(n.file).push(r));return{key:e,paths:Array.from(i.keys()),scopes:i,value:r,values:s}}function Am(t){return t.replace(/^(file):/,"")}function*Tl(t,e=null){let r=t.split("\0");for(let s=0,i=r.length-1;s<i;){let n=Am(r[s++]),o=r[s++],a=e;if(o.includes(`
`)){let u=Wu(o,`
`);a=u[0],o=u[1]}yield{file:n,key:a,value:o}}}var kl,Dm=h({"src/lib/responses/ConfigList.ts"(){"use strict";y(),kl=class{constructor(){this.files=[],this.values=Object.create(null)}get all(){return this._all||(this._all=this.files.reduce((t,e)=>Object.assign(t,this.values[e]),{})),this._all}addFile(t){if(!(t in this.values)){let e=Ee(this.files);this.values[t]=e?Object.create(this.values[e]):{},this.files.push(t)}return this.values[t]}addValue(t,e,r){let s=this.addFile(t);s.hasOwnProperty(e)?Array.isArray(s[e])?s[e].push(r):s[e]=[s[e],r]:s[e]=r,this._all=void 0}}}});function Ms(t,e){return typeof t=="string"&&Ns.hasOwnProperty(t)?t:e}function qm(t,e,r,s){let i=["config",`--${s}`];return r&&i.push("--add"),i.push(t,e),{commands:i,format:"utf-8",parser(n){return n}}}function $m(t,e){let r=["config","--null","--show-origin","--get-all",t];return e&&r.splice(1,0,`--${e}`),{commands:r,format:"utf-8",parser(s){return Rm(s,t)}}}function Im(t){let e=["config","--list","--show-origin","--null"];return t&&e.push(`--${t}`),{commands:e,format:"utf-8",parser(r){return Em(r)}}}function Fm(){return{addConfig(t,e,...r){return this._runTask(qm(t,e,r[0]===!0,Ms(r[1],"local")),R(arguments))},getConfig(t,e){return this._runTask($m(t,Ms(e,void 0)),R(arguments))},listConfig(...t){return this._runTask(Im(Ms(t[0],void 0)),R(arguments))}}}var Ns,Sl=h({"src/lib/tasks/config.ts"(){"use strict";Dm(),y(),Ns=(t=>(t.system="system",t.global="global",t.local="local",t.worktree="worktree",t))(Ns||{})}});function jm(t){return Cl.has(t)}var Es,Cl,Ol=h({"src/lib/tasks/diff-name-status.ts"(){"use strict";Es=(t=>(t.ADDED="A",t.COPIED="C",t.DELETED="D",t.MODIFIED="M",t.RENAMED="R",t.CHANGED="T",t.UNMERGED="U",t.UNKNOWN="X",t.BROKEN="B",t))(Es||{}),Cl=new Set(Object.values(Es))}});function Lm(...t){return new Ml().param(...t)}function Nm(t){let e=new Set,r={};return Ws(t,s=>{let[i,n,o]=s.split(Ue);e.add(i),(r[i]=r[i]||[]).push({line:S(n),path:i,preview:o})}),{paths:e,results:r}}function Bm(){return{grep(t){let e=R(arguments),r=U(arguments);for(let i of Pl)if(r.includes(i))return this._runTask(H(`git.grep: use of "${i}" is not supported.`),e);typeof t=="string"&&(t=Lm().param(t));let s=["grep","--null","-n","--full-name",...r,...t];return this._runTask({commands:s,format:"utf-8",parser(i){return Nm(i)}},e)}}}var Pl,it,pu,Ml,El=h({"src/lib/tasks/grep.ts"(){"use strict";y(),A(),Pl=["-h"],it=Symbol("grepQuery"),Ml=class{constructor(){this[pu]=[]}*[(pu=it,Symbol.iterator)](){for(let t of this[it])yield t}and(...t){return t.length&&this[it].push("--and","(",...at(t,"-e"),")"),this}param(...t){return this[it].push(...at(t,"-e")),this}}}}),Rl={};D(Rl,{ResetMode:()=>Ht,getResetMode:()=>Um,resetTask:()=>Gm});function Gm(t,e){let r=["reset"];return Al(t)&&r.push(`--${t}`),r.push(...e),N(r)}function Um(t){if(Al(t))return t;switch(typeof t){case"string":case"undefined":return"soft"}}function Al(t){return Dl.includes(t)}var Ht,Dl,ql=h({"src/lib/tasks/reset.ts"(){"use strict";A(),Ht=(t=>(t.MIXED="mixed",t.SOFT="soft",t.HARD="hard",t.MERGE="merge",t.KEEP="keep",t))(Ht||{}),Dl=Array.from(Object.values(Ht))}});function Hm(){return(0,Jt.default)("simple-git")}function mu(t,e,r){return!e||!String(e).replace(/\s*/,"")?r?(s,...i)=>{t(s,...i),r(s,...i)}:t:(s,...i)=>{t(`%s ${s}`,e,...i),r&&r(s,...i)}}function zm(t,e,{namespace:r}){if(typeof t=="string")return t;let s=e&&e.namespace||"";return s.startsWith(r)?s.substr(r.length+1):s||r}function oi(t,e,r,s=Hm()){let i=t&&`[${t}]`||"",n=[],o=typeof e=="string"?s.extend(e):e,a=zm(le(e,I),o,s);return l(r);function u(m,f){return _(n,oi(t,a.replace(/^[^:]+/,m),f,s))}function l(m){let f=m&&`[${m}]`||"",p=o&&mu(o,f)||Re,g=mu(s,`${i} ${f}`,p);return Object.assign(o?p:g,{label:t,sibling:u,info:g,step:l})}}var $l=h({"src/lib/git-logger.ts"(){"use strict";y(),Jt.default.formatters.L=t=>String(Xs(t)?t.length:"-"),Jt.default.formatters.B=t=>Buffer.isBuffer(t)?t.toString("utf8"):ft(t)}}),Bt,Bs,Vm=h({"src/lib/runners/tasks-pending-queue.ts"(){"use strict";ke(),$l(),Bt=class{constructor(t="GitExecutor"){this.logLabel=t,this._queue=new Map}withProgress(t){return this._queue.get(t)}createProgress(t){let e=Bt.getName(t.commands[0]),r=oi(this.logLabel,e);return{task:t,logger:r,name:e}}push(t){let e=this.createProgress(t);return e.logger("Adding task to the queue, commands = %o",t.commands),this._queue.set(t,e),e}fatal(t){for(let[e,{logger:r}]of Array.from(this._queue.entries()))e===t.task?(r.info("Failed %o",t),r("Fatal exception, any as-yet un-started tasks run through this executor will not be attempted")):r.info("A fatal exception occurred in a previous task, the queue has been purged: %o",t.message),this.complete(e);if(this._queue.size!==0)throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}complete(t){this.withProgress(t)&&this._queue.delete(t)}attempt(t){let e=this.withProgress(t);if(!e)throw new ve(void 0,"TasksPendingQueue: attempt called for an unknown task");return e.logger("Starting task"),e}static getName(t="empty"){return`task:${t}:${++Bt.counter}`}},Bs=Bt,Bs.counter=0}});function Me(t,e){return{method:Ju(t.commands)||"",commands:e}}function Ym(t,e){return r=>{e("[ERROR] child process exception %o",r),t.push(Buffer.from(String(r.stack),"ascii"))}}function gu(t,e,r,s){return i=>{r("%s received %L bytes",e,i),s("%B",i),t.push(i)}}var Gs,Wm=h({"src/lib/runners/git-executor-chain.ts"(){"use strict";ke(),A(),y(),Vm(),Gs=class{constructor(t,e,r){this._executor=t,this._scheduler=e,this._plugins=r,this._chain=Promise.resolve(),this._queue=new Bs}get cwd(){return this._cwd||this._executor.cwd}set cwd(t){this._cwd=t}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(t){return this._queue.push(t),this._chain=this._chain.then(()=>this.attemptTask(t))}attemptTask(t){return nt(this,null,function*(){let e=yield this._scheduler.next(),r=()=>this._queue.complete(t);try{let{logger:s}=this._queue.attempt(t);return yield yl(t)?this.attemptEmptyTask(t,s):this.attemptRemoteTask(t,s)}catch(s){throw this.onFatalException(t,s)}finally{r(),e()}})}onFatalException(t,e){let r=e instanceof ve?Object.assign(e,{task:t}):new ve(t,e&&String(e));return this._chain=Promise.resolve(),this._queue.fatal(r),r}attemptRemoteTask(t,e){return nt(this,null,function*(){let r=this._plugins.exec("spawn.binary","",Me(t,t.commands)),s=this._plugins.exec("spawn.args",[...t.commands],Me(t,t.commands)),i=yield this.gitResponse(t,r,s,this.outputHandler,e.step("SPAWN")),n=yield this.handleTaskData(t,s,i,e.step("HANDLE"));return e("passing response to task's parser as a %s",t.format),vl(t)?Fs(t.parser,n):Fs(t.parser,n.asStrings())})}attemptEmptyTask(t,e){return nt(this,null,function*(){return e("empty task bypassing child process to call to task's parser"),t.parser(this)})}handleTaskData(t,e,r,s){let{exitCode:i,rejection:n,stdOut:o,stdErr:a}=r;return new Promise((u,l)=>{s("Preparing to handle process response exitCode=%d stdOut=",i);let{error:m}=this._plugins.exec("task.error",{error:n},J(J({},Me(t,e)),r));if(m&&t.onError)return s.info("exitCode=%s handling with custom error handler"),t.onError(r,m,f=>{s.info("custom error handler treated as success"),s("custom error returned a %s",ft(f)),u(new lt(Array.isArray(f)?Buffer.concat(f):f,Buffer.concat(a)))},l);if(m)return s.info("handling as error: exitCode=%s stdErr=%s rejection=%o",i,a.length,n),l(m);s.info("retrieving task output complete"),u(new lt(Buffer.concat(o),Buffer.concat(a)))})}gitResponse(t,e,r,s,i){return nt(this,null,function*(){let n=i.sibling("output"),o=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:!0},Me(t,t.commands));return new Promise(a=>{let u=[],l=[];i.info("%s %o",e,r),i("%O",o);let m=this._beforeSpawn(t,r);if(m)return a({stdOut:u,stdErr:l,exitCode:9901,rejection:m});this._plugins.exec("spawn.before",void 0,ot(J({},Me(t,r)),{kill(p){m=p||m}}));let f=(0,Il.spawn)(e,r,o);f.stdout.on("data",gu(u,"stdOut",i,n.step("stdOut"))),f.stderr.on("data",gu(l,"stdErr",i,n.step("stdErr"))),f.on("error",Ym(l,i)),s&&(i("Passing child process stdOut/stdErr to custom outputHandler"),s(e,f.stdout,f.stderr,[...r])),this._plugins.exec("spawn.after",void 0,ot(J({},Me(t,r)),{spawned:f,close(p,g){a({stdOut:u,stdErr:l,exitCode:p,rejection:m||g})},kill(p){f.killed||(m=p,f.kill("SIGINT"))}}))})})}_beforeSpawn(t,e){let r;return this._plugins.exec("spawn.before",void 0,ot(J({},Me(t,e)),{kill(s){r=s||r}})),r}}}}),Fl={};D(Fl,{GitExecutor:()=>jl});var jl,Jm=h({"src/lib/runners/git-executor.ts"(){"use strict";Wm(),jl=class{constructor(t,e,r){this.cwd=t,this._scheduler=e,this._plugins=r,this._chain=new Gs(this,this._scheduler,this._plugins)}chain(){return new Gs(this,this._scheduler,this._plugins)}push(t){return this._chain.push(t)}}}});function Km(t,e,r=Re){let s=n=>{r(null,n)},i=n=>{(n==null?void 0:n.task)===t&&r(n instanceof ht?Qm(n):n,void 0)};e.then(s,i)}function Qm(t){let e=s=>{e=Re};return Object.create(t,Object.getOwnPropertyNames(t.git).reduce(r,{}));function r(s,i){return i in t||(s[i]={enumerable:!1,configurable:!1,get(){return e(i),t.git[i]}}),s}}var Xm=h({"src/lib/task-callback.ts"(){"use strict";He(),y()}});function bu(t,e){return gl(r=>{if(!Js(t))throw new Error(`Git.cwd: cannot change to non-directory "${t}"`);return(e||r).cwd=t})}var Zm=h({"src/lib/tasks/change-working-directory.ts"(){"use strict";y(),A()}});function Rs(t){let e=["checkout",...t];return e[1]==="-b"&&e.includes("-B")&&(e[1]=er(e,"-B")),N(e)}function eg(){return{checkout(){return this._runTask(Rs(U(arguments,1)),R(arguments))},checkoutBranch(t,e){return this._runTask(Rs(["-b",t,e,...U(arguments)]),R(arguments))},checkoutLocalBranch(t){return this._runTask(Rs(["-b",t,...U(arguments)]),R(arguments))}}}var tg=h({"src/lib/tasks/checkout.ts"(){"use strict";y(),A()}});function rg(){return{count:0,garbage:0,inPack:0,packs:0,prunePackable:0,size:0,sizeGarbage:0,sizePack:0}}function sg(){return{countObjects(){return this._runTask({commands:["count-objects","--verbose"],format:"utf-8",parser(t){return z(rg(),[Ll],t)}})}}}var Ll,ig=h({"src/lib/tasks/count-objects.ts"(){"use strict";y(),Ll=new w(/([a-z-]+): (\d+)$/,(t,[e,r])=>{let s=Xu(e);t.hasOwnProperty(s)&&(t[s]=S(r))})}});function ng(t){return z({author:null,branch:"",commit:"",root:!1,summary:{changes:0,insertions:0,deletions:0}},Nl,t)}var Nl,og=h({"src/lib/parsers/parse-commit.ts"(){"use strict";y(),Nl=[new w(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,(t,[e,r,s])=>{t.branch=e,t.commit=s,t.root=!!r}),new w(/\s*Author:\s(.+)/i,(t,[e])=>{let r=e.split("<"),s=r.pop();!s||!s.includes("@")||(t.author={email:s.substr(0,s.length-1),name:r.join("<").trim()})}),new w(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,(t,[e,r,s])=>{t.summary.changes=parseInt(e,10)||0,t.summary.insertions=parseInt(r,10)||0,t.summary.deletions=parseInt(s,10)||0}),new w(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,(t,[e,r,s])=>{t.summary.changes=parseInt(e,10)||0;let i=parseInt(r,10)||0;s==="-"?t.summary.deletions=i:s==="+"&&(t.summary.insertions=i)})]}});function ag(t,e,r){return{commands:["-c","core.abbrev=40","commit",...at(t,"-m"),...e,...r],format:"utf-8",parser:ng}}function ug(){return{commit(e,...r){let s=R(arguments),i=t(e)||ag(ue(e),ue(le(r[0],Wt,[])),[...le(r[1],pt,[]),...U(arguments,0,!0)]);return this._runTask(i,s)}};function t(e){return!Wt(e)&&H("git.commit: requires the commit message to be supplied as a string/string[]")}}var lg=h({"src/lib/tasks/commit.ts"(){"use strict";og(),y(),A()}});function cg(){return{firstCommit(){return this._runTask(N(["rev-list","--max-parents=0","HEAD"],!0),R(arguments))}}}var hg=h({"src/lib/tasks/first-commit.ts"(){"use strict";y(),A()}});function dg(t,e){let r=["hash-object",t];return e&&r.push("-w"),N(r,!0)}var fg=h({"src/lib/tasks/hash-object.ts"(){"use strict";A()}});function pg(t,e,r){let s=String(r).trim(),i;if(i=Bl.exec(s))return new zt(t,e,!1,i[1]);if(i=Gl.exec(s))return new zt(t,e,!0,i[1]);let n="",o=s.split(" ");for(;o.length;)if(o.shift()==="in"){n=o.join(" ");break}return new zt(t,e,/^re/i.test(s),n)}var zt,Bl,Gl,mg=h({"src/lib/responses/InitSummary.ts"(){"use strict";zt=class{constructor(t,e,r,s){this.bare=t,this.path=e,this.existing=r,this.gitDir=s}},Bl=/^Init.+ repository in (.+)$/,Gl=/^Rein.+ in (.+)$/}});function gg(t){return t.includes(ai)}function bg(t=!1,e,r){let s=["init",...r];return t&&!gg(s)&&s.splice(1,0,ai),{commands:s,format:"utf-8",parser(i){return pg(s.includes("--bare"),e,i)}}}var ai,vg=h({"src/lib/tasks/init.ts"(){"use strict";mg(),ai="--bare"}});function ui(t){for(let e=0;e<t.length;e++){let r=li.exec(t[e]);if(r)return`--${r[1]}`}return""}function yg(t){return li.test(t)}var li,mt=h({"src/lib/args/log-format.ts"(){"use strict";li=/^--(stat|numstat|name-only|name-status)(=|$)/}}),Ul,wg=h({"src/lib/responses/DiffSummary.ts"(){"use strict";Ul=class{constructor(){this.changed=0,this.deletions=0,this.insertions=0,this.files=[]}}}});function Hl(t=""){let e=zl[t];return r=>z(new Ul,e,r,!1)}var As,vu,yu,wu,zl,Vl=h({"src/lib/parsers/parse-diff-summary.ts"(){"use strict";mt(),wg(),Ol(),y(),As=[new w(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/,(t,[e,r,s=""])=>{t.files.push({file:e.trim(),changes:S(r),insertions:s.replace(/[^+]/g,"").length,deletions:s.replace(/[^-]/g,"").length,binary:!1})}),new w(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)/,(t,[e,r,s])=>{t.files.push({file:e.trim(),before:S(r),after:S(s),binary:!0})}),new w(/(\d+) files? changed\s*((?:, \d+ [^,]+){0,2})/,(t,[e,r])=>{let s=/(\d+) i/.exec(r),i=/(\d+) d/.exec(r);t.changed=S(e),t.insertions=S(s==null?void 0:s[1]),t.deletions=S(i==null?void 0:i[1])})],vu=[new w(/(\d+)\t(\d+)\t(.+)$/,(t,[e,r,s])=>{let i=S(e),n=S(r);t.changed++,t.insertions+=i,t.deletions+=n,t.files.push({file:s,changes:i+n,insertions:i,deletions:n,binary:!1})}),new w(/-\t-\t(.+)$/,(t,[e])=>{t.changed++,t.files.push({file:e,after:0,before:0,binary:!0})})],yu=[new w(/(.+)$/,(t,[e])=>{t.changed++,t.files.push({file:e,changes:0,insertions:0,deletions:0,binary:!1})})],wu=[new w(/([ACDMRTUXB])([0-9]{0,3})\t(.[^\t]*)(\t(.[^\t]*))?$/,(t,[e,r,s,i,n])=>{t.changed++,t.files.push({file:n??s,changes:0,status:tl(jm(e)&&e),insertions:0,deletions:0,binary:!1})})],zl={"":As,"--stat":As,"--numstat":vu,"--name-status":wu,"--name-only":yu}}});function _g(t,e){return e.reduce((r,s,i)=>(r[s]=t[i]||"",r),Object.create({diff:null}))}function Yl(t=di,e=Wl,r=""){let s=Hl(r);return function(i){let n=dt(i,!0,ci).map(function(o){let a=o.trim().split(hi),u=_g(a[0].trim().split(t),e);return a.length>1&&a[1].trim()&&(u.diff=s(a[1])),u});return{all:n,latest:n.length&&n[0]||null,total:n.length}}}var ci,hi,di,Wl,Jl=h({"src/lib/parsers/parse-list-log-summary.ts"(){"use strict";y(),Vl(),mt(),ci="\xF2\xF2\xF2\xF2\xF2\xF2 ",hi=" \xF2\xF2",di=" \xF2 ",Wl=["hash","date","message","refs","author_name","author_email"]}}),Kl={};D(Kl,{diffSummaryTask:()=>xg,validateLogFormatConfig:()=>ir});function xg(t){let e=ui(t),r=["diff"];return e===""&&(e="--stat",r.push("--stat=4096")),r.push(...t),ir(r)||{commands:r,format:"utf-8",parser:Hl(e)}}function ir(t){let e=t.filter(yg);if(e.length>1)return H(`Summary flags are mutually exclusive - pick one of ${e.join(",")}`);if(e.length&&t.includes("-z"))return H(`Summary flag ${e} parsing is not compatible with null termination option '-z'`)}var fi=h({"src/lib/tasks/diff.ts"(){"use strict";mt(),Vl(),A()}});function Tg(t,e){let r=[],s=[];return Object.keys(t).forEach(i=>{r.push(i),s.push(String(t[i]))}),[r,s.join(e)]}function kg(t){return Object.keys(t).reduce((e,r)=>(r in Us||(e[r]=t[r]),e),{})}function Ql(t={},e=[]){let r=le(t.splitter,I,di),s=!Ks(t.format)&&t.format?t.format:{hash:"%H",date:t.strictDate===!1?"%ai":"%aI",message:"%s",refs:"%D",body:t.multiLine?"%B":"%b",author_name:t.mailMap!==!1?"%aN":"%an",author_email:t.mailMap!==!1?"%aE":"%ae"},[i,n]=Tg(s,r),o=[],a=[`--pretty=format:${ci}${n}${hi}`,...e],u=t.n||t["max-count"]||t.maxCount;if(u&&a.push(`--max-count=${u}`),t.from||t.to){let l=t.symmetric!==!1?"...":"..";o.push(`${t.from||""}${l}${t.to||""}`)}return I(t.file)&&a.push("--follow",dm(t.file)),Zs(kg(t),a),{fields:i,splitter:r,commands:[...a,...o]}}function Sg(t,e,r){let s=Yl(t,e,ui(r));return{commands:["log",...r],format:"utf-8",parser:s}}function Cg(){return{log(...r){let s=R(arguments),i=Ql(ei(arguments),le(arguments[0],pt)),n=e(...r)||ir(i.commands)||t(i);return this._runTask(n,s)}};function t(r){return Sg(r.splitter,r.fields,r.commands)}function e(r,s){return I(r)&&I(s)&&H("git.log(string, string) should be replaced with git.log({ from: string, to: string })")}}var Us,Xl=h({"src/lib/tasks/log.ts"(){"use strict";mt(),ct(),Jl(),y(),A(),fi(),Us=(t=>(t[t["--pretty"]=0]="--pretty",t[t["max-count"]=1]="max-count",t[t.maxCount=2]="maxCount",t[t.n=3]="n",t[t.file=4]="file",t[t.format=5]="format",t[t.from=6]="from",t[t.to=7]="to",t[t.splitter=8]="splitter",t[t.symmetric=9]="symmetric",t[t.mailMap=10]="mailMap",t[t.multiLine=11]="multiLine",t[t.strictDate=12]="strictDate",t))(Us||{})}}),Vt,Zl,Og=h({"src/lib/responses/MergeSummary.ts"(){"use strict";Vt=class{constructor(t,e=null,r){this.reason=t,this.file=e,this.meta=r}toString(){return`${this.file}:${this.reason}`}},Zl=class{constructor(){this.conflicts=[],this.merges=[],this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){return this.conflicts.length?`CONFLICTS: ${this.conflicts.join(", ")}`:"OK"}}}}),Hs,ec,Pg=h({"src/lib/responses/PullSummary.ts"(){"use strict";Hs=class{constructor(){this.remoteMessages={all:[]},this.created=[],this.deleted=[],this.files=[],this.deletions={},this.insertions={},this.summary={changes:0,deletions:0,insertions:0}}},ec=class{constructor(){this.remote="",this.hash={local:"",remote:""},this.branch={local:"",remote:""},this.message=""}toString(){return this.message}}}});function Ds(t){return t.objects=t.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function _u(t){let e=/^\s*(\d+)/.exec(t),r=/delta (\d+)/i.exec(t);return{count:S(e&&e[1]||"0"),delta:S(r&&r[1]||"0")}}var tc,Mg=h({"src/lib/parsers/parse-remote-objects.ts"(){"use strict";y(),tc=[new Te(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,(t,[e,r])=>{let s=e.toLowerCase(),i=Ds(t.remoteMessages);Object.assign(i,{[s]:S(r)})}),new Te(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,(t,[e,r])=>{let s=e.toLowerCase(),i=Ds(t.remoteMessages);Object.assign(i,{[s]:S(r)})}),new Te(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,(t,[e,r,s])=>{let i=Ds(t.remoteMessages);i.total=_u(e),i.reused=_u(r),i.packReused=S(s)})]}});function rc(t,e){return z({remoteMessages:new ic},sc,e)}var sc,ic,nc=h({"src/lib/parsers/parse-remote-messages.ts"(){"use strict";y(),Mg(),sc=[new Te(/^remote:\s*(.+)$/,(t,[e])=>(t.remoteMessages.all.push(e.trim()),!1)),...tc,new Te([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],(t,[e])=>{t.remoteMessages.pullRequestUrl=e}),new Te([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],(t,[e,r,s])=>{t.remoteMessages.vulnerabilities={count:S(e),summary:r,url:s}})],ic=class{constructor(){this.all=[]}}}});function Eg(t,e){let r=z(new ec,oc,[t,e]);return r.message&&r}var xu,Tu,ku,Su,oc,Cu,pi,ac=h({"src/lib/parsers/parse-pull.ts"(){"use strict";Pg(),y(),nc(),xu=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,Tu=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,ku=/^(create|delete) mode \d+ (.+)/,Su=[new w(xu,(t,[e,r,s])=>{t.files.push(e),r&&(t.insertions[e]=r.length),s&&(t.deletions[e]=s.length)}),new w(Tu,(t,[e,,r,,s])=>r!==void 0||s!==void 0?(t.summary.changes=+e||0,t.summary.insertions=+r||0,t.summary.deletions=+s||0,!0):!1),new w(ku,(t,[e,r])=>{_(t.files,r),_(e==="create"?t.created:t.deleted,r)})],oc=[new w(/^from\s(.+)$/i,(t,[e])=>void(t.remote=e)),new w(/^fatal:\s(.+)$/,(t,[e])=>void(t.message=e)),new w(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,(t,[e,r,s,i])=>{t.branch.local=s,t.hash.local=e,t.branch.remote=i,t.hash.remote=r})],Cu=(t,e)=>z(new Hs,Su,[t,e]),pi=(t,e)=>Object.assign(new Hs,Cu(t,e),rc(t,e))}}),Ou,uc,Pu,Rg=h({"src/lib/parsers/parse-merge.ts"(){"use strict";Og(),y(),ac(),Ou=[new w(/^Auto-merging\s+(.+)$/,(t,[e])=>{t.merges.push(e)}),new w(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,(t,[e,r])=>{t.conflicts.push(new Vt(e,r))}),new w(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,(t,[e,r,s])=>{t.conflicts.push(new Vt(e,r,{deleteRef:s}))}),new w(/^CONFLICT\s+\((.+)\):/,(t,[e])=>{t.conflicts.push(new Vt(e,null))}),new w(/^Automatic merge failed;\s+(.+)$/,(t,[e])=>{t.result=e})],uc=(t,e)=>Object.assign(Pu(t,e),pi(t,e)),Pu=t=>z(new Zl,Ou,t)}});function Mu(t){return t.length?{commands:["merge",...t],format:"utf-8",parser(e,r){let s=uc(e,r);if(s.failed)throw new ht(s);return s}}:H("Git.merge requires at least one option")}var Ag=h({"src/lib/tasks/merge.ts"(){"use strict";He(),Rg(),A()}});function Dg(t,e,r){let s=r.includes("deleted"),i=r.includes("tag")||/^refs\/tags/.test(t),n=!r.includes("new");return{deleted:s,tag:i,branch:!i,new:!n,alreadyUpdated:n,local:t,remote:e}}var Eu,lc,Ru,qg=h({"src/lib/parsers/parse-push.ts"(){"use strict";y(),nc(),Eu=[new w(/^Pushing to (.+)$/,(t,[e])=>{t.repo=e}),new w(/^updating local tracking ref '(.+)'/,(t,[e])=>{t.ref=ot(J({},t.ref||{}),{local:e})}),new w(/^[=*-]\s+([^:]+):(\S+)\s+\[(.+)]$/,(t,[e,r,s])=>{t.pushed.push(Dg(e,r,s))}),new w(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,(t,[e,r,s])=>{t.branch=ot(J({},t.branch||{}),{local:e,remote:r,remoteName:s})}),new w(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,(t,[e,r,s,i])=>{t.update={head:{local:e,remote:r},hash:{from:s,to:i}}})],lc=(t,e)=>{let r=Ru(t,e),s=rc(t,e);return J(J({},r),s)},Ru=(t,e)=>z({pushed:[]},Eu,[t,e])}}),cc={};D(cc,{pushTagsTask:()=>$g,pushTask:()=>mi});function $g(t={},e){return _(e,"--tags"),mi(t,e)}function mi(t={},e){let r=["push",...e];return t.branch&&r.splice(1,0,t.branch),t.remote&&r.splice(1,0,t.remote),er(r,"-v"),_(r,"--verbose"),_(r,"--porcelain"),{commands:r,format:"utf-8",parser:lc}}var hc=h({"src/lib/tasks/push.ts"(){"use strict";qg(),y()}});function Ig(){return{showBuffer(){let t=["show",...U(arguments,1)];return t.includes("--binary")||t.splice(1,0,"--binary"),this._runTask(bl(t),R(arguments))},show(){let t=["show",...U(arguments,1)];return this._runTask(N(t),R(arguments))}}}var Fg=h({"src/lib/tasks/show.ts"(){"use strict";y(),A()}}),Au,dc,jg=h({"src/lib/responses/FileStatusSummary.ts"(){"use strict";Au=/^(.+) -> (.+)$/,dc=class{constructor(t,e,r){if(this.path=t,this.index=e,this.working_dir=r,e+r==="R"){let s=Au.exec(t)||[null,t,t];this.from=s[1]||"",this.path=s[2]||""}}}}});function Du(t){let[e,r]=t.split(Ue);return{from:r||e,to:e}}function W(t,e,r){return[`${t}${e}`,r]}function qs(t,...e){return e.map(r=>W(t,r,(s,i)=>_(s.conflicted,i)))}function Lg(t,e){let r=e.trim();switch(" "){case r.charAt(2):return s(r.charAt(0),r.charAt(1),r.substr(3));case r.charAt(1):return s(" ",r.charAt(0),r.substr(2));default:return}function s(i,n,o){let a=`${i}${n}`,u=fc.get(a);u&&u(t,o),a!=="##"&&a!=="!!"&&t.files.push(new dc(o.replace(/\0.+$/,""),i,n))}}var qu,fc,pc,Ng=h({"src/lib/responses/StatusSummary.ts"(){"use strict";y(),jg(),qu=class{constructor(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.ignored=void 0,this.modified=[],this.renamed=[],this.files=[],this.staged=[],this.ahead=0,this.behind=0,this.current=null,this.tracking=null,this.detached=!1,this.isClean=()=>!this.files.length}},fc=new Map([W(" ","A",(t,e)=>_(t.created,e)),W(" ","D",(t,e)=>_(t.deleted,e)),W(" ","M",(t,e)=>_(t.modified,e)),W("A"," ",(t,e)=>_(t.created,e)&&_(t.staged,e)),W("A","M",(t,e)=>_(t.created,e)&&_(t.staged,e)&&_(t.modified,e)),W("D"," ",(t,e)=>_(t.deleted,e)&&_(t.staged,e)),W("M"," ",(t,e)=>_(t.modified,e)&&_(t.staged,e)),W("M","M",(t,e)=>_(t.modified,e)&&_(t.staged,e)),W("R"," ",(t,e)=>{_(t.renamed,Du(e))}),W("R","M",(t,e)=>{let r=Du(e);_(t.renamed,r),_(t.modified,r.to)}),W("!","!",(t,e)=>{_(t.ignored=t.ignored||[],e)}),W("?","?",(t,e)=>_(t.not_added,e)),...qs("A","A","U"),...qs("D","D","U"),...qs("U","A","D","U"),["##",(t,e)=>{let r=/ahead (\d+)/,s=/behind (\d+)/,i=/^(.+?(?=(?:\.{3}|\s|$)))/,n=/\.{3}(\S*)/,o=/\son\s([\S]+)$/,a;a=r.exec(e),t.ahead=a&&+a[1]||0,a=s.exec(e),t.behind=a&&+a[1]||0,a=i.exec(e),t.current=a&&a[1],a=n.exec(e),t.tracking=a&&a[1],a=o.exec(e),t.current=a&&a[1]||t.current,t.detached=/\(no branch\)/.test(e)}]]),pc=function(t){let e=t.split(Ue),r=new qu;for(let s=0,i=e.length;s<i;){let n=e[s++].trim();n&&(n.charAt(0)==="R"&&(n+=Ue+(e[s++]||"")),Lg(r,n))}return r}}});function Bg(t){return{format:"utf-8",commands:["status","--porcelain","-b","-u","--null",...t.filter(r=>!mc.includes(r))],parser(r){return pc(r)}}}var mc,Gg=h({"src/lib/tasks/status.ts"(){"use strict";Ng(),mc=["--null","-z"]}});function Kt(t=0,e=0,r=0,s="",i=!0){return Object.defineProperty({major:t,minor:e,patch:r,agent:s,installed:i},"toString",{value(){return`${this.major}.${this.minor}.${this.patch}`},configurable:!1,enumerable:!1})}function Ug(){return Kt(0,0,0,"",!1)}function Hg(){return{version(){return this._runTask({commands:["--version"],format:"utf-8",parser:zg,onError(t,e,r,s){if(t.exitCode===-2)return r(Buffer.from(gi));s(e)}})}}}function zg(t){return t===gi?Ug():z(Kt(0,0,0,t),gc,t)}var gi,gc,Vg=h({"src/lib/tasks/version.ts"(){"use strict";y(),gi="installed=false",gc=[new w(/version (\d+)\.(\d+)\.(\d+)(?:\s*\((.+)\))?/,(t,[e,r,s,i=""])=>{Object.assign(t,Kt(S(e),S(r),S(s),i))}),new w(/version (\d+)\.(\d+)\.(\D+)(.+)?$/,(t,[e,r,s,i=""])=>{Object.assign(t,Kt(S(e),S(r),s,i))})]}}),bc={};D(bc,{SimpleGitApi:()=>zs});var zs,Yg=h({"src/lib/simple-git-api.ts"(){"use strict";Xm(),Zm(),tg(),ig(),lg(),Sl(),hg(),El(),fg(),vg(),Xl(),Ag(),hc(),Fg(),Gg(),A(),Vg(),y(),zs=class{constructor(t){this._executor=t}_runTask(t,e){let r=this._executor.chain(),s=r.push(t);return e&&Km(t,s,e),Object.create(this,{then:{value:s.then.bind(s)},catch:{value:s.catch.bind(s)},_executor:{value:r}})}add(t){return this._runTask(N(["add",...ue(t)]),R(arguments))}cwd(t){let e=R(arguments);return typeof t=="string"?this._runTask(bu(t,this._executor),e):typeof(t==null?void 0:t.path)=="string"?this._runTask(bu(t.path,t.root&&this._executor||void 0),e):this._runTask(H("Git.cwd: workingDirectory must be supplied as a string"),e)}hashObject(t,e){return this._runTask(dg(t,e===!0),R(arguments))}init(t){return this._runTask(bg(t===!0,this._executor.cwd,U(arguments)),R(arguments))}merge(){return this._runTask(Mu(U(arguments)),R(arguments))}mergeFromTo(t,e){return I(t)&&I(e)?this._runTask(Mu([t,e,...U(arguments)]),R(arguments,!1)):this._runTask(H("Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings"))}outputHandler(t){return this._executor.outputHandler=t,this}push(){let t=mi({remote:le(arguments[0],I),branch:le(arguments[1],I)},U(arguments));return this._runTask(t,R(arguments))}stash(){return this._runTask(N(["stash",...U(arguments)]),R(arguments))}status(){return this._runTask(Bg(U(arguments)),R(arguments))}},Object.assign(zs.prototype,eg(),ug(),Fm(),sg(),cg(),Bm(),Cg(),Ig(),Hg())}}),vc={};D(vc,{Scheduler:()=>wc});var $u,wc,Wg=h({"src/lib/runners/scheduler.ts"(){"use strict";y(),$l(),$u=(()=>{let t=0;return()=>{t++;let{promise:e,done:r}=(0,yc.createDeferred)();return{promise:e,done:r,id:t}}})(),wc=class{constructor(t=2){this.concurrency=t,this.logger=oi("","scheduler"),this.pending=[],this.running=[],this.logger("Constructed, concurrency=%s",t)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency){this.logger("Schedule attempt ignored, pending=%s running=%s concurrency=%s",this.pending.length,this.running.length,this.concurrency);return}let t=_(this.running,this.pending.shift());this.logger("Attempting id=%s",t.id),t.done(()=>{this.logger("Completing id=",t.id),er(this.running,t),this.schedule()})}next(){let{promise:t,id:e}=_(this.pending,$u());return this.logger("Scheduling id=%s",e),this.schedule(),t}}}}),_c={};D(_c,{applyPatchTask:()=>Jg});function Jg(t,e){return N(["apply",...e,...t])}var Kg=h({"src/lib/tasks/apply-patch.ts"(){"use strict";A()}});function Qg(t,e){return{branch:t,hash:e,success:!0}}function Xg(t){return{branch:t,hash:null,success:!1}}var xc,Zg=h({"src/lib/responses/BranchDeleteSummary.ts"(){"use strict";xc=class{constructor(){this.all=[],this.branches={},this.errors=[]}get success(){return!this.errors.length}}}});function Tc(t,e){return e===1&&Vs.test(t)}var Iu,Vs,Fu,nr,eb=h({"src/lib/parsers/parse-branch-delete.ts"(){"use strict";Zg(),y(),Iu=/(\S+)\s+\(\S+\s([^)]+)\)/,Vs=/^error[^']+'([^']+)'/m,Fu=[new w(Iu,(t,[e,r])=>{let s=Qg(e,r);t.all.push(s),t.branches[e]=s}),new w(Vs,(t,[e])=>{let r=Xg(e);t.errors.push(r),t.all.push(r),t.branches[e]=r})],nr=(t,e)=>z(new xc,Fu,[t,e])}}),kc,tb=h({"src/lib/responses/BranchSummary.ts"(){"use strict";kc=class{constructor(){this.all=[],this.branches={},this.current="",this.detached=!1}push(t,e,r,s,i){t==="*"&&(this.detached=e,this.current=r),this.all.push(r),this.branches[r]={current:t==="*",linkedWorkTree:t==="+",name:r,commit:s,label:i}}}}});function ju(t){return t?t.charAt(0):""}function Sc(t){return z(new kc,Cc,t)}var Cc,rb=h({"src/lib/parsers/parse-branch.ts"(){"use strict";tb(),y(),Cc=[new w(/^([*+]\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,(t,[e,r,s,i])=>{t.push(ju(e),!0,r,s,i)}),new w(new RegExp("^([*+]\\s)?(\\S+)\\s+([a-z0-9]+)\\s?(.*)$","s"),(t,[e,r,s,i])=>{t.push(ju(e),!1,r,s,i)})]}}),Oc={};D(Oc,{branchLocalTask:()=>ib,branchTask:()=>sb,containsDeleteBranchCommand:()=>Pc,deleteBranchTask:()=>ob,deleteBranchesTask:()=>nb});function Pc(t){let e=["-d","-D","--delete"];return t.some(r=>e.includes(r))}function sb(t){let e=Pc(t),r=["branch",...t];return r.length===1&&r.push("-a"),r.includes("-v")||r.splice(1,0,"-v"),{format:"utf-8",commands:r,parser(s,i){return e?nr(s,i).all[0]:Sc(s)}}}function ib(){return{format:"utf-8",commands:["branch","-v"],parser:Sc}}function nb(t,e=!1){return{format:"utf-8",commands:["branch","-v",e?"-D":"-d",...t],parser(r,s){return nr(r,s)},onError({exitCode:r,stdOut:s},i,n,o){if(!Tc(String(i),r))return o(i);n(s)}}}function ob(t,e=!1){let r={format:"utf-8",commands:["branch","-v",e?"-D":"-d",t],parser(s,i){return nr(s,i).branches[t]},onError({exitCode:s,stdErr:i,stdOut:n},o,a,u){if(!Tc(String(o),s))return u(o);throw new ht(r.parser(ut(n),ut(i)),String(o))}};return r}var ab=h({"src/lib/tasks/branch.ts"(){"use strict";He(),eb(),rb(),y()}}),Mc,ub=h({"src/lib/responses/CheckIgnore.ts"(){"use strict";Mc=t=>t.split(/\n/g).map(e=>e.trim()).filter(e=>!!e)}}),Ec={};D(Ec,{checkIgnoreTask:()=>lb});function lb(t){return{commands:["check-ignore",...t],format:"utf-8",parser:Mc}}var cb=h({"src/lib/tasks/check-ignore.ts"(){"use strict";ub()}}),Rc={};D(Rc,{cloneMirrorTask:()=>db,cloneTask:()=>Ac});function hb(t){return/^--upload-pack(=|$)/.test(t)}function Ac(t,e,r){let s=["clone",...r];return I(t)&&s.push(t),I(e)&&s.push(e),s.find(hb)?H("git.fetch: potential exploit argument blocked."):N(s)}function db(t,e,r){return _(r,"--mirror"),Ac(t,e,r)}var fb=h({"src/lib/tasks/clone.ts"(){"use strict";A(),y()}});function pb(t,e){return z({raw:t,remote:null,branches:[],tags:[],updated:[],deleted:[]},Dc,[t,e])}var Dc,mb=h({"src/lib/parsers/parse-fetch.ts"(){"use strict";y(),Dc=[new w(/From (.+)$/,(t,[e])=>{t.remote=e}),new w(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,(t,[e,r])=>{t.branches.push({name:e,tracking:r})}),new w(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,(t,[e,r])=>{t.tags.push({name:e,tracking:r})}),new w(/- \[deleted]\s+\S+\s*-> (.+)$/,(t,[e])=>{t.deleted.push({tracking:e})}),new w(/\s*([^.]+)\.\.(\S+)\s+(\S+)\s*-> (.+)$/,(t,[e,r,s,i])=>{t.updated.push({name:s,tracking:i,to:r,from:e})})]}}),qc={};D(qc,{fetchTask:()=>bb});function gb(t){return/^--upload-pack(=|$)/.test(t)}function bb(t,e,r){let s=["fetch",...r];return t&&e&&s.push(t,e),s.find(gb)?H("git.fetch: potential exploit argument blocked."):{commands:s,format:"utf-8",parser:pb}}var vb=h({"src/lib/tasks/fetch.ts"(){"use strict";mb(),A()}});function yb(t){return z({moves:[]},$c,t)}var $c,wb=h({"src/lib/parsers/parse-move.ts"(){"use strict";y(),$c=[new w(/^Renaming (.+) to (.+)$/,(t,[e,r])=>{t.moves.push({from:e,to:r})})]}}),Ic={};D(Ic,{moveTask:()=>_b});function _b(t,e){return{commands:["mv","-v",...ue(t),e],format:"utf-8",parser:yb}}var xb=h({"src/lib/tasks/move.ts"(){"use strict";wb(),y()}}),Fc={};D(Fc,{pullTask:()=>Tb});function Tb(t,e,r){let s=["pull",...r];return t&&e&&s.splice(1,0,t,e),{commands:s,format:"utf-8",parser(i,n){return pi(i,n)},onError(i,n,o,a){let u=Eg(ut(i.stdOut),ut(i.stdErr));if(u)return a(new ht(u));a(n)}}}var kb=h({"src/lib/tasks/pull.ts"(){"use strict";He(),ac(),y()}});function Sb(t){let e={};return jc(t,([r])=>e[r]={name:r}),Object.values(e)}function Cb(t){let e={};return jc(t,([r,s,i])=>{e.hasOwnProperty(r)||(e[r]={name:r,refs:{fetch:"",push:""}}),i&&s&&(e[r].refs[i.replace(/[^a-z]/g,"")]=s)}),Object.values(e)}function jc(t,e){Ws(t,r=>e(r.split(/\s+/)))}var Ob=h({"src/lib/responses/GetRemoteSummary.ts"(){"use strict";y()}}),Lc={};D(Lc,{addRemoteTask:()=>Pb,getRemotesTask:()=>Mb,listRemotesTask:()=>Eb,remoteTask:()=>Rb,removeRemoteTask:()=>Ab});function Pb(t,e,r){return N(["remote","add",...r,t,e])}function Mb(t){let e=["remote"];return t&&e.push("-v"),{commands:e,format:"utf-8",parser:t?Cb:Sb}}function Eb(t){let e=[...t];return e[0]!=="ls-remote"&&e.unshift("ls-remote"),N(e)}function Rb(t){let e=[...t];return e[0]!=="remote"&&e.unshift("remote"),N(e)}function Ab(t){return N(["remote","remove",t])}var Db=h({"src/lib/tasks/remote.ts"(){"use strict";Ob(),A()}}),Nc={};D(Nc,{stashListTask:()=>qb});function qb(t={},e){let r=Ql(t),s=["stash","list",...r.commands,...e],i=Yl(r.splitter,r.fields,ui(s));return ir(s)||{commands:s,format:"utf-8",parser:i}}var $b=h({"src/lib/tasks/stash-list.ts"(){"use strict";mt(),Jl(),fi(),Xl()}}),Bc={};D(Bc,{addSubModuleTask:()=>Ib,initSubModuleTask:()=>Fb,subModuleTask:()=>or,updateSubModuleTask:()=>jb});function Ib(t,e){return or(["add",t,e])}function Fb(t){return or(["init",...t])}function or(t){let e=[...t];return e[0]!=="submodule"&&e.unshift("submodule"),N(e)}function jb(t){return or(["update",...t])}var Lb=h({"src/lib/tasks/sub-module.ts"(){"use strict";A()}});function Nb(t,e){let r=isNaN(t),s=isNaN(e);return r!==s?r?1:-1:r?Gc(t,e):0}function Gc(t,e){return t===e?0:t>e?1:-1}function Bb(t){return t.trim()}function Gt(t){return typeof t=="string"&&parseInt(t.replace(/^\D+/g,""),10)||0}var Lu,Uc,Gb=h({"src/lib/responses/TagList.ts"(){"use strict";Lu=class{constructor(t,e){this.all=t,this.latest=e}},Uc=function(t,e=!1){let r=t.split(`
`).map(Bb).filter(Boolean);e||r.sort(function(i,n){let o=i.split("."),a=n.split(".");if(o.length===1||a.length===1)return Nb(Gt(o[0]),Gt(a[0]));for(let u=0,l=Math.max(o.length,a.length);u<l;u++){let m=Gc(Gt(o[u]),Gt(a[u]));if(m)return m}return 0});let s=e?r[0]:[...r].reverse().find(i=>i.indexOf(".")>=0);return new Lu(r,s)}}}),Hc={};D(Hc,{addAnnotatedTagTask:()=>zb,addTagTask:()=>Hb,tagListTask:()=>Ub});function Ub(t=[]){let e=t.some(r=>/^--sort=/.test(r));return{format:"utf-8",commands:["tag","-l",...t],parser(r){return Uc(r,e)}}}function Hb(t){return{format:"utf-8",commands:["tag",t],parser(){return{name:t}}}}function zb(t,e){return{format:"utf-8",commands:["tag","-a","-m",e,t],parser(){return{name:t}}}}var Vb=h({"src/lib/tasks/tag.ts"(){"use strict";Gb()}}),Yb=cm({"src/git.js"(t,e){"use strict";var{GitExecutor:r}=(Jm(),E(Fl)),{SimpleGitApi:s}=(Yg(),E(bc)),{Scheduler:i}=(Wg(),E(vc)),{configurationErrorTask:n}=(A(),E(Ls)),{asArray:o,filterArray:a,filterPrimitives:u,filterString:l,filterStringOrStringArray:m,filterType:f,getTrailingOptions:p,trailingFunctionArgument:g,trailingOptionsArgument:F}=(y(),E(al)),{applyPatchTask:j}=(Kg(),E(_c)),{branchTask:C,branchLocalTask:q,deleteBranchesTask:K,deleteBranchTask:Ae}=(ab(),E(Oc)),{checkIgnoreTask:De}=(cb(),E(Ec)),{checkIsRepoTask:yi}=(hl(),E(ul)),{cloneTask:ze,cloneMirrorTask:ar}=(fb(),E(Rc)),{cleanWithOptionsTask:bt,isCleanOptionsArray:ur}=(xl(),E(wl)),{diffSummaryTask:Qc}=(fi(),E(Kl)),{fetchTask:Xc}=(vb(),E(qc)),{moveTask:Zc}=(xb(),E(Ic)),{pullTask:eh}=(kb(),E(Fc)),{pushTagsTask:th}=(hc(),E(cc)),{addRemoteTask:rh,getRemotesTask:sh,listRemotesTask:ih,remoteTask:nh,removeRemoteTask:oh}=(Db(),E(Lc)),{getResetMode:ah,resetTask:uh}=(ql(),E(Rl)),{stashListTask:lh}=($b(),E(Nc)),{addSubModuleTask:ch,initSubModuleTask:hh,subModuleTask:dh,updateSubModuleTask:fh}=(Lb(),E(Bc)),{addAnnotatedTagTask:ph,addTagTask:mh,tagListTask:gh}=(Vb(),E(Hc)),{straightThroughBufferTask:bh,straightThroughStringTask:ee}=(A(),E(Ls));function v(c,b){this._plugins=b,this._executor=new r(c.baseDir,new i(c.maxConcurrentProcesses),b),this._trimmed=c.trimmed}(v.prototype=Object.create(s.prototype)).constructor=v,v.prototype.customBinary=function(c){return this._plugins.reconfigure("binary",c),this},v.prototype.env=function(c,b){return arguments.length===1&&typeof c=="object"?this._executor.env=c:(this._executor.env=this._executor.env||{})[c]=b,this},v.prototype.stashList=function(c){return this._runTask(lh(F(arguments)||{},a(c)&&c||[]),g(arguments))};function wi(c,b,T,L){return typeof T!="string"?n(`git.${c}() requires a string 'repoPath'`):b(T,f(L,l),p(arguments))}v.prototype.clone=function(){return this._runTask(wi("clone",ze,...arguments),g(arguments))},v.prototype.mirror=function(){return this._runTask(wi("mirror",ar,...arguments),g(arguments))},v.prototype.mv=function(c,b){return this._runTask(Zc(c,b),g(arguments))},v.prototype.checkoutLatestTag=function(c){var b=this;return this.pull(function(){b.tags(function(T,L){b.checkout(L.latest,c)})})},v.prototype.pull=function(c,b,T,L){return this._runTask(eh(f(c,l),f(b,l),p(arguments)),g(arguments))},v.prototype.fetch=function(c,b){return this._runTask(Xc(f(c,l),f(b,l),p(arguments)),g(arguments))},v.prototype.silent=function(c){return this},v.prototype.tags=function(c,b){return this._runTask(gh(p(arguments)),g(arguments))},v.prototype.rebase=function(){return this._runTask(ee(["rebase",...p(arguments)]),g(arguments))},v.prototype.reset=function(c){return this._runTask(uh(ah(c),p(arguments)),g(arguments))},v.prototype.revert=function(c){let b=g(arguments);return typeof c!="string"?this._runTask(n("Commit must be a string"),b):this._runTask(ee(["revert",...p(arguments,0,!0),c]),b)},v.prototype.addTag=function(c){let b=typeof c=="string"?mh(c):n("Git.addTag requires a tag name");return this._runTask(b,g(arguments))},v.prototype.addAnnotatedTag=function(c,b){return this._runTask(ph(c,b),g(arguments))},v.prototype.deleteLocalBranch=function(c,b,T){return this._runTask(Ae(c,typeof b=="boolean"?b:!1),g(arguments))},v.prototype.deleteLocalBranches=function(c,b,T){return this._runTask(K(c,typeof b=="boolean"?b:!1),g(arguments))},v.prototype.branch=function(c,b){return this._runTask(C(p(arguments)),g(arguments))},v.prototype.branchLocal=function(c){return this._runTask(q(),g(arguments))},v.prototype.raw=function(c){let b=!Array.isArray(c),T=[].slice.call(b?arguments:c,0);for(let Q=0;Q<T.length&&b;Q++)if(!u(T[Q])){T.splice(Q,T.length-Q);break}T.push(...p(arguments,0,!0));var L=g(arguments);return T.length?this._runTask(ee(T,this._trimmed),L):this._runTask(n("Raw: must supply one or more command to execute"),L)},v.prototype.submoduleAdd=function(c,b,T){return this._runTask(ch(c,b),g(arguments))},v.prototype.submoduleUpdate=function(c,b){return this._runTask(fh(p(arguments,!0)),g(arguments))},v.prototype.submoduleInit=function(c,b){return this._runTask(hh(p(arguments,!0)),g(arguments))},v.prototype.subModule=function(c,b){return this._runTask(dh(p(arguments)),g(arguments))},v.prototype.listRemote=function(){return this._runTask(ih(p(arguments)),g(arguments))},v.prototype.addRemote=function(c,b,T){return this._runTask(rh(c,b,p(arguments)),g(arguments))},v.prototype.removeRemote=function(c,b){return this._runTask(oh(c),g(arguments))},v.prototype.getRemotes=function(c,b){return this._runTask(sh(c===!0),g(arguments))},v.prototype.remote=function(c,b){return this._runTask(nh(p(arguments)),g(arguments))},v.prototype.tag=function(c,b){let T=p(arguments);return T[0]!=="tag"&&T.unshift("tag"),this._runTask(ee(T),g(arguments))},v.prototype.updateServerInfo=function(c){return this._runTask(ee(["update-server-info"]),g(arguments))},v.prototype.pushTags=function(c,b){let T=th({remote:f(c,l)},p(arguments));return this._runTask(T,g(arguments))},v.prototype.rm=function(c){return this._runTask(ee(["rm","-f",...o(c)]),g(arguments))},v.prototype.rmKeepLocal=function(c){return this._runTask(ee(["rm","--cached",...o(c)]),g(arguments))},v.prototype.catFile=function(c,b){return this._catFile("utf-8",arguments)},v.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)},v.prototype._catFile=function(c,b){var T=g(b),L=["cat-file"],Q=b[0];if(typeof Q=="string")return this._runTask(n("Git.catFile: options must be supplied as an array of strings"),T);Array.isArray(Q)&&L.push.apply(L,Q);let lr=c==="buffer"?bh(L):ee(L);return this._runTask(lr,T)},v.prototype.diff=function(c,b){let T=l(c)?n("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):ee(["diff",...p(arguments)]);return this._runTask(T,g(arguments))},v.prototype.diffSummary=function(){return this._runTask(Qc(p(arguments,1)),g(arguments))},v.prototype.applyPatch=function(c){let b=m(c)?j(o(c),p([].slice.call(arguments,1))):n("git.applyPatch requires one or more string patches as the first argument");return this._runTask(b,g(arguments))},v.prototype.revparse=function(){let c=["rev-parse",...p(arguments,!0)];return this._runTask(ee(c,!0),g(arguments))},v.prototype.clean=function(c,b,T){let L=ur(c),Q=L&&c.join("")||f(c,l)||"",lr=p([].slice.call(arguments,L?1:0));return this._runTask(bt(Q,lr),g(arguments))},v.prototype.exec=function(c){let b={commands:[],format:"utf-8",parser(){typeof c=="function"&&c()}};return this._runTask(b)},v.prototype.clearQueue=function(){return this},v.prototype.checkIgnore=function(c,b){return this._runTask(De(o(f(c,m,[]))),g(arguments))},v.prototype.checkIsRepo=function(c,b){return this._runTask(yi(f(c,l)),g(arguments))},e.exports=v}});ct();ke();var Wb=class extends ve{constructor(t,e){super(void 0,e),this.config=t}};ke();ke();var be=class extends ve{constructor(t,e,r){super(t,r),this.task=t,this.plugin=e,Object.setPrototypeOf(this,new.target.prototype)}};He();zu();hl();xl();Sl();Ol();El();ql();function Jb(t){return t?[{type:"spawn.before",action(s,i){t.aborted&&i.kill(new be(void 0,"abort","Abort already signaled"))}},{type:"spawn.after",action(s,i){function n(){i.kill(new be(void 0,"abort","Abort signal received"))}t.addEventListener("abort",n),i.spawned.on("close",()=>t.removeEventListener("abort",n))}}]:void 0}function Kb(t){return typeof t=="string"&&t.trim().toLowerCase()==="-c"}function Qb(t,e){if(Kb(t)&&/^\s*protocol(.[a-z]+)?.allow/.test(e))throw new be(void 0,"unsafe","Configuring protocol.allow is not permitted without enabling allowUnsafeExtProtocol")}function Xb(t,e){if(/^\s*--(upload|receive)-pack/.test(t))throw new be(void 0,"unsafe","Use of --upload-pack or --receive-pack is not permitted without enabling allowUnsafePack");if(e==="clone"&&/^\s*-u\b/.test(t))throw new be(void 0,"unsafe","Use of clone with option -u is not permitted without enabling allowUnsafePack");if(e==="push"&&/^\s*--exec\b/.test(t))throw new be(void 0,"unsafe","Use of push with option --exec is not permitted without enabling allowUnsafePack")}function Zb({allowUnsafeProtocolOverride:t=!1,allowUnsafePack:e=!1}={}){return{type:"spawn.args",action(r,s){return r.forEach((i,n)=>{let o=n<r.length?r[n+1]:"";t||Qb(i,o),e||Xb(i,s.method)}),r}}}y();function ev(t){let e=at(t,"-c");return{type:"spawn.args",action(r){return[...e,...r]}}}y();var Nu=(0,Ge.deferred)().promise;function tv({onClose:t=!0,onExit:e=50}={}){function r(){let i=-1,n={close:(0,Ge.deferred)(),closeTimeout:(0,Ge.deferred)(),exit:(0,Ge.deferred)(),exitTimeout:(0,Ge.deferred)()},o=Promise.race([t===!1?Nu:n.closeTimeout.promise,e===!1?Nu:n.exitTimeout.promise]);return s(t,n.close,n.closeTimeout),s(e,n.exit,n.exitTimeout),{close(a){i=a,n.close.done()},exit(a){i=a,n.exit.done()},get exitCode(){return i},result:o}}function s(i,n,o){i!==!1&&(i===!0?n.promise:n.promise.then(()=>$s(i))).then(o.done)}return{type:"spawn.after",action(i,n){return nt(this,arguments,function*(o,{spawned:a,close:u}){var l,m;let f=r(),p=!0,g=()=>void(p=!1);(l=a.stdout)==null||l.on("data",g),(m=a.stderr)==null||m.on("data",g),a.on("error",g),a.on("close",F=>f.close(F)),a.on("exit",F=>f.exit(F));try{yield f.result,p&&(yield $s(50)),u(f.exitCode)}catch(F){u(f.exitCode,F)}})}}}y();var rv="Invalid value supplied for custom binary, requires a single string or an array containing either one or two strings",sv="Invalid value supplied for custom binary, restricted characters must be removed or supply the unsafe.allowUnsafeCustomBinary option";function iv(t){return!t||!/^([a-z]:)?([a-z0-9/.\\_-]+)$/i.test(t)}function Bu(t,e){if(t.length<1||t.length>2)throw new be(void 0,"binary",rv);if(t.some(iv)&&!e)throw new be(void 0,"binary",sv);let[s,i]=t;return{binary:s,prefix:i}}function nv(t,e=["git"],r=!1){let s=Bu(ue(e),r);t.on("binary",i=>{s=Bu(ue(i),r)}),t.append("spawn.binary",()=>s.binary),t.append("spawn.args",i=>s.prefix?[s.prefix,...i]:i)}ke();function ov(t){return!!(t.exitCode&&t.stdErr.length)}function av(t){return Buffer.concat([...t.stdOut,...t.stdErr])}function uv(t=!1,e=ov,r=av){return(s,i)=>!t&&s||!e(i)?s:r(i)}function Gu(t){return{type:"task.error",action(e,r){let s=t(e.error,{stdErr:r.stdErr,stdOut:r.stdOut,exitCode:r.exitCode});return Buffer.isBuffer(s)?{error:new ve(void 0,s.toString("utf-8"))}:{error:s}}}}y();var lv=class{constructor(){this.plugins=new Set,this.events=new zc.EventEmitter}on(t,e){this.events.on(t,e)}reconfigure(t,e){this.events.emit(t,e)}append(t,e){let r=_(this.plugins,{type:t,action:e});return()=>this.plugins.delete(r)}add(t){let e=[];return ue(t).forEach(r=>r&&this.plugins.add(_(e,r))),()=>{e.forEach(r=>this.plugins.delete(r))}}exec(t,e,r){let s=e,i=Object.freeze(Object.create(r));for(let n of this.plugins)n.type===t&&(s=n.action(s,i));return s}};y();function cv(t){let e="--progress",r=["checkout","clone","fetch","pull","push"];return[{type:"spawn.args",action(n,o){return r.includes(o.method)?Qu(n,e):n}},{type:"spawn.after",action(n,o){var a;o.commands.includes(e)&&((a=o.spawned.stderr)==null||a.on("data",u=>{let l=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(u.toString("utf8"));l&&t({method:o.method,stage:hv(l[1]),progress:S(l[2]),processed:S(l[3]),total:S(l[4])})}))}}]}function hv(t){return String(t.toLowerCase().split(" ",1))||"unknown"}y();function dv(t){let e=el(t,["uid","gid"]);return{type:"spawn.options",action(r){return J(J({},e),r)}}}function fv({block:t,stdErr:e=!0,stdOut:r=!0}){if(t>0)return{type:"spawn.after",action(s,i){var n,o;let a;function u(){a&&clearTimeout(a),a=setTimeout(m,t)}function l(){var f,p;(f=i.spawned.stdout)==null||f.off("data",u),(p=i.spawned.stderr)==null||p.off("data",u),i.spawned.off("exit",l),i.spawned.off("close",l),a&&clearTimeout(a)}function m(){l(),i.kill(new be(void 0,"timeout","block timeout reached"))}r&&((n=i.spawned.stdout)==null||n.on("data",u)),e&&((o=i.spawned.stderr)==null||o.on("data",u)),i.spawned.on("exit",l),i.spawned.on("close",l),u()}}}ct();function pv(){return{type:"spawn.args",action(t){let e=[],r;function s(i){(r=r||[]).push(...i)}for(let i=0;i<t.length;i++){let n=t[i];if(Yt(n)){s(fu(n));continue}if(n==="--"){s(t.slice(i+1).flatMap(o=>Yt(o)&&fu(o)||o));break}e.push(n)}return r?[...e,"--",...r.map(String)]:e}}}y();var mv=Yb();function gv(t,e){var r;let s=new lv,i=nl(t&&(typeof t=="string"?{baseDir:t}:t)||{},e);if(!Js(i.baseDir))throw new Wb(i,"Cannot use simple-git on a directory that does not exist");return Array.isArray(i.config)&&s.add(ev(i.config)),s.add(Zb(i.unsafe)),s.add(pv()),s.add(tv(i.completion)),i.abort&&s.add(Jb(i.abort)),i.progress&&s.add(cv(i.progress)),i.timeout&&s.add(fv(i.timeout)),i.spawnOptions&&s.add(dv(i.spawnOptions)),s.add(Gu(uv(!0))),i.errors&&s.add(Gu(i.errors)),nv(s,i.binary,(r=i.unsafe)==null?void 0:r.allowUnsafeCustomBinary),new mv(i,s)}He();var Vc=gv;var bv="https://github.com/AlphaFoxz/nuxt-content-git-pages-template.git",vv="https://gitee.com/AlphaFoxz/nuxt-content-git-pages-template.git";async function bi(t,e="git",r="base"){let s=e==="git"?bv:vv,i=Vc(),n=!0;return await i.clone(s,t,["-b",r]).catch(o=>{n=!1}),n&&(await yv(1e3),Wc.default.rmSync(Yc.default.join(t,".git"),{recursive:!0})),n}async function yv(t){return new Promise(e=>setTimeout(e,t))}var gt=te(require("node:fs"),1),vi=te(require("node:path"),1);function Jc(t,e){e&&!e.startsWith("/")&&(e="/"+e);let r=wv(),s=r?`./${t}`:".",i=r?".":s,n=`# https://github.com/actions/deploy-pages#usage
name: Deploy to GitHub Pages
on:
  workflow_dispatch:
  push:
    branches:
      - main
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: corepack enable
      - uses: actions/setup-node@v3
        with:
          node-version: '20'
      - name: Setup pnpm
        uses: pnpm/action-setup@v3
        with:
          version: 8
      # Pick your own package manager and build script
      - run: cd ${s} && pnpm install
      # Setup environment variables
      # NUXT_APP_BASE_URL is your GitHub Repo Name.
      - run: cd ${s} && echo 'NUXT_APP_BASE_URL=${e}' > ./.env
      # Build project
      - run: cd ${s} && pnpm build
      - name: Upload artifact \u{1F680}
        uses: actions/upload-pages-artifact@v1
        with:
          path: ${s}/.output/public

  # Deployment job
  deploy:
    # Add a dependency to the build job
    needs: build
    # Grant GITHUB_TOKEN the permissions required to make a Pages deployment
    permissions:
      pages: write # to deploy to Pages
      id-token: write # to verify the deployment originates from an appropriate source
    # Deploy to the github_pages environment
    environment:
      name: github_pages
      url: \${{ steps.deployment.outputs.page_url }}
    # Specify runner + deployment step
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v1
`,o=vi.default.join(i,".github","workflows");gt.default.mkdirSync(o,{recursive:!0});let a=vi.default.join(o,"github-pages.yml");gt.default.writeFileSync(a,n,"utf-8")}function wv(){return gt.default.existsSync("./.git")||gt.default.existsSync("./package.json")}var $w=st.action.t;_v().catch(t=>{});async function _v(){let{folderName:t,prefix:e}=await ru();if(Kc.default.existsSync(t))return!1;let r=await bi(`./${t}`,"git");return r||(r=await bi(`./${t}`,"gitee")),r?(Jc(t,e),!0):!1}
