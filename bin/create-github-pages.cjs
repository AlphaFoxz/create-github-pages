var xh=Object.create;var Ti=Object.defineProperty;var Th=Object.getOwnPropertyDescriptor;var kh=Object.getOwnPropertyNames;var Sh=Object.getPrototypeOf,Ch=Object.prototype.hasOwnProperty;var d=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Oh=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of kh(e))!Ch.call(t,i)&&i!==r&&Ti(t,i,{get:()=>e[i],enumerable:!(s=Th(e,i))||s.enumerable});return t};var X=(t,e,r)=>(r=t!=null?xh(Sh(t)):{},Oh(e||!t||!t.__esModule?Ti(r,"default",{value:t,enumerable:!0}):r,t));var O=d((Ov,Si)=>{"use strict";var{FORCE_COLOR:Ph,NODE_DISABLE_COLORS:Mh,TERM:Eh}=process.env,x={enabled:!Mh&&Eh!=="dumb"&&Ph!=="0",reset:k(0,0),bold:k(1,22),dim:k(2,22),italic:k(3,23),underline:k(4,24),inverse:k(7,27),hidden:k(8,28),strikethrough:k(9,29),black:k(30,39),red:k(31,39),green:k(32,39),yellow:k(33,39),blue:k(34,39),magenta:k(35,39),cyan:k(36,39),white:k(37,39),gray:k(90,39),grey:k(90,39),bgBlack:k(40,49),bgRed:k(41,49),bgGreen:k(42,49),bgYellow:k(43,49),bgBlue:k(44,49),bgMagenta:k(45,49),bgCyan:k(46,49),bgWhite:k(47,49)};function ki(t,e){let r=0,s,i="",n="";for(;r<t.length;r++)s=t[r],i+=s.open,n+=s.close,e.includes(s.close)&&(e=e.replace(s.rgx,s.close+s.open));return i+e+n}function Rh(t,e){let r={has:t,keys:e};return r.reset=x.reset.bind(r),r.bold=x.bold.bind(r),r.dim=x.dim.bind(r),r.italic=x.italic.bind(r),r.underline=x.underline.bind(r),r.inverse=x.inverse.bind(r),r.hidden=x.hidden.bind(r),r.strikethrough=x.strikethrough.bind(r),r.black=x.black.bind(r),r.red=x.red.bind(r),r.green=x.green.bind(r),r.yellow=x.yellow.bind(r),r.blue=x.blue.bind(r),r.magenta=x.magenta.bind(r),r.cyan=x.cyan.bind(r),r.white=x.white.bind(r),r.gray=x.gray.bind(r),r.grey=x.grey.bind(r),r.bgBlack=x.bgBlack.bind(r),r.bgRed=x.bgRed.bind(r),r.bgGreen=x.bgGreen.bind(r),r.bgYellow=x.bgYellow.bind(r),r.bgBlue=x.bgBlue.bind(r),r.bgMagenta=x.bgMagenta.bind(r),r.bgCyan=x.bgCyan.bind(r),r.bgWhite=x.bgWhite.bind(r),r}function k(t,e){let r={open:`\x1B[${t}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(s){return this!==void 0&&this.has!==void 0?(this.has.includes(t)||(this.has.push(t),this.keys.push(r)),s===void 0?this:x.enabled?ki(this.keys,s+""):s+""):s===void 0?Rh([t],[r]):x.enabled?ki([r],s+""):s+""}}Si.exports=x});var Oi=d((Pv,Ci)=>{"use strict";Ci.exports=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}});var wt=d((Mv,Pi)=>{"use strict";Pi.exports=t=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return typeof t=="string"?t.replace(r,""):t}});var M=d((Ev,Mi)=>{"use strict";var hr="\x1B",P=`${hr}[`,qh="\x07",dr={to(t,e){return e?`${P}${e+1};${t+1}H`:`${P}${t+1}G`},move(t,e){let r="";return t<0?r+=`${P}${-t}D`:t>0&&(r+=`${P}${t}C`),e<0?r+=`${P}${-e}A`:e>0&&(r+=`${P}${e}B`),r},up:(t=1)=>`${P}${t}A`,down:(t=1)=>`${P}${t}B`,forward:(t=1)=>`${P}${t}C`,backward:(t=1)=>`${P}${t}D`,nextLine:(t=1)=>`${P}E`.repeat(t),prevLine:(t=1)=>`${P}F`.repeat(t),left:`${P}G`,hide:`${P}?25l`,show:`${P}?25h`,save:`${hr}7`,restore:`${hr}8`},Ah={up:(t=1)=>`${P}S`.repeat(t),down:(t=1)=>`${P}T`.repeat(t)},Dh={screen:`${P}2J`,up:(t=1)=>`${P}1J`.repeat(t),down:(t=1)=>`${P}J`.repeat(t),line:`${P}2K`,lineEnd:`${P}K`,lineStart:`${P}1K`,lines(t){let e="";for(let r=0;r<t;r++)e+=this.line+(r<t-1?dr.up():"");return t&&(e+=dr.left),e}};Mi.exports={cursor:dr,scroll:Ah,erase:Dh,beep:qh}});var Di=d((Rv,Ai)=>{"use strict";function $h(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ih(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return n=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!n&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function Ih(t,e){if(t){if(typeof t=="string")return Ei(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ei(t,e)}}function Ei(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var Fh=wt(),qi=M(),Ri=qi.erase,jh=qi.cursor,Lh=t=>[...Fh(t)].length;Ai.exports=function(t,e){if(!e)return Ri.line+jh.to(0);let r=0,s=t.split(/\r?\n/);var i=$h(s),n;try{for(i.s();!(n=i.n()).done;){let o=n.value;r+=1+Math.floor(Math.max(Lh(o)-1,0)/e)}}catch(o){i.e(o)}finally{i.f()}return Ri.lines(r)}});var fr=d((qv,$i)=>{"use strict";var We={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},Nh={arrowUp:We.arrowUp,arrowDown:We.arrowDown,arrowLeft:We.arrowLeft,arrowRight:We.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},Bh=process.platform==="win32"?Nh:We;$i.exports=Bh});var Fi=d((Av,Ii)=>{"use strict";var $e=O(),Se=fr(),pr=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"\u{1F603}".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),Gh=t=>pr[t]||pr.default,Je=Object.freeze({aborted:$e.red(Se.cross),done:$e.green(Se.tick),exited:$e.yellow(Se.cross),default:$e.cyan("?")}),Uh=(t,e,r)=>e?Je.aborted:r?Je.exited:t?Je.done:Je.default,Hh=t=>$e.gray(t?Se.ellipsis:Se.pointerSmall),zh=(t,e)=>$e.gray(t?e?Se.pointerSmall:"+":Se.line);Ii.exports={styles:pr,render:Gh,symbols:Je,symbol:Uh,delimiter:Hh,item:zh}});var Li=d((Dv,ji)=>{"use strict";var Vh=wt();ji.exports=function(t,e){let r=String(Vh(t)||"").split(/\r?\n/);return e?r.map(s=>Math.ceil(s.length/e)).reduce((s,i)=>s+i):r.length}});var Bi=d(($v,Ni)=>{"use strict";Ni.exports=(t,e={})=>{let r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(t||"").split(/\r?\n/g).map(i=>i.split(/\s+/g).reduce((n,o)=>(o.length+r.length>=s||n[n.length-1].length+o.length+1<s?n[n.length-1]+=` ${o}`:n.push(`${r}${o}`),n),[r]).join(`
`)).join(`
`)}});var Ui=d((Iv,Gi)=>{"use strict";Gi.exports=(t,e,r)=>{r=r||e;let s=Math.min(e-r,t-Math.floor(r/2));s<0&&(s=0);let i=Math.min(s+r,e);return{startIndex:s,endIndex:i}}});var Z=d((Fv,Hi)=>{"use strict";Hi.exports={action:Oi(),clear:Di(),style:Fi(),strip:wt(),figures:fr(),lines:Li(),wrap:Bi(),entriesToDisplay:Ui()}});var ce=d((jv,Yi)=>{"use strict";var zi=require("readline"),Yh=Z(),Wh=Yh.action,Jh=require("events"),Vi=M(),Kh=Vi.beep,Qh=Vi.cursor,Xh=O(),mr=class extends Jh{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let r=zi.createInterface({input:this.in,escapeCodeTimeout:50});zi.emitKeypressEvents(this.in,r),this.in.isTTY&&this.in.setRawMode(!0);let s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,i=(n,o)=>{let a=Wh(o,s);a===!1?this._&&this._(n,o):typeof this[a]=="function"?this[a](o):this.bell()};this.close=()=>{this.out.write(Qh.show),this.in.removeListener("keypress",i),this.in.isTTY&&this.in.setRawMode(!1),r.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",i)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Kh)}render(){this.onRender(Xh),this.firstRender&&(this.firstRender=!1)}};Yi.exports=mr});var Xi=d((Lv,Qi)=>{"use strict";function Wi(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(l){r(l);return}a.done?e(u):Promise.resolve(u).then(s,i)}function Ji(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){Wi(n,s,i,o,a,"next",u)}function a(u){Wi(n,s,i,o,a,"throw",u)}o(void 0)})}}var _t=O(),Zh=ce(),Ki=M(),ed=Ki.erase,Ke=Ki.cursor,xt=Z(),gr=xt.style,br=xt.clear,td=xt.lines,rd=xt.figures,vr=class extends Zh{constructor(e={}){super(e),this.transform=gr.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=br("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=_t.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return Ji(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return Ji(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,r){let s=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${s}${e}${i}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),r=this.value.slice(this.cursor);this.value=`${e}${r}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor+1);this.value=`${e}${r}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ke.down(td(this.outputError,this.out.columns)-1)+br(this.outputError,this.out.columns)),this.out.write(br(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[gr.symbol(this.done,this.aborted),_t.bold(this.msg),gr.delimiter(this.done),this.red?_t.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":rd.pointerSmall} ${_t.red().italic(r)}`,"")),this.out.write(ed.line+Ke.to(0)+this.outputText+Ke.save+this.outputError+Ke.restore+Ke.move(this.cursorOffset,0)))}};Qi.exports=vr});var rn=d((Nv,tn)=>{"use strict";var he=O(),sd=ce(),Qe=Z(),Zi=Qe.style,en=Qe.clear,Tt=Qe.figures,id=Qe.wrap,nd=Qe.entriesToDisplay,od=M(),ad=od.cursor,yr=class extends sd{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((r,s)=>(typeof r=="string"&&(r={title:r,value:s}),{title:r&&(r.title||r.value||r),value:r&&(r.value===void 0?s:r.value),description:r&&r.description,selected:r&&r.selected,disabled:r&&r.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=en("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,r){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(ad.hide):this.out.write(en(this.outputText,this.out.columns)),super.render();let e=nd(this.cursor,this.choices.length,this.optionsPerPage),r=e.startIndex,s=e.endIndex;if(this.outputText=[Zi.symbol(this.done,this.aborted),he.bold(this.msg),Zi.delimiter(!1),this.done?this.selection.title:this.selection.disabled?he.yellow(this.warn):he.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let i=r;i<s;i++){let n,o,a="",u=this.choices[i];i===r&&r>0?o=Tt.arrowUp:i===s-1&&s<this.choices.length?o=Tt.arrowDown:o=" ",u.disabled?(n=this.cursor===i?he.gray().underline(u.title):he.strikethrough().gray(u.title),o=(this.cursor===i?he.bold().gray(Tt.pointer)+" ":"  ")+o):(n=this.cursor===i?he.cyan().underline(u.title):u.title,o=(this.cursor===i?he.cyan(Tt.pointer)+" ":"  ")+o,u.description&&this.cursor===i&&(a=` - ${u.description}`,(o.length+n.length+a.length>=this.out.columns||u.description.split(/\r?\n/).length>1)&&(a=`
`+id(u.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${n}${he.gray(a)}
`}}this.out.write(this.outputText)}};tn.exports=yr});var ln=d((Bv,un)=>{"use strict";var kt=O(),ud=ce(),on=Z(),sn=on.style,ld=on.clear,an=M(),nn=an.cursor,cd=an.erase,wr=class extends ud{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,r){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(nn.hide):this.out.write(ld(this.outputText,this.out.columns)),super.render(),this.outputText=[sn.symbol(this.done,this.aborted),kt.bold(this.msg),sn.delimiter(this.done),this.value?this.inactive:kt.cyan().underline(this.inactive),kt.gray("/"),this.value?kt.cyan().underline(this.active):this.active].join(" "),this.out.write(cd.line+nn.to(0)+this.outputText))}};un.exports=wr});var re=d((Gv,cn)=>{"use strict";var _r=class t{constructor({token:e,date:r,parts:s,locales:i}){this.token=e,this.date=r||new Date,this.parts=s||[this],this.locales=i||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((r,s)=>s>e&&r instanceof t)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),r=e.indexOf(this);return e.find((s,i)=>i>r&&s instanceof t)}toString(){return String(this.date)}};cn.exports=_r});var dn=d((Uv,hn)=>{"use strict";var hd=re(),xr=class extends hd{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};hn.exports=xr});var pn=d((Hv,fn)=>{"use strict";var dd=re(),fd=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th"),Tr=class extends dd{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),r=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+fd(e):this.token==="d"?r+1:this.token==="ddd"?this.locales.weekdaysShort[r]:this.token==="dddd"?this.locales.weekdays[r]:e}};fn.exports=Tr});var gn=d((zv,mn)=>{"use strict";var pd=re(),kr=class extends pd{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};mn.exports=kr});var vn=d((Vv,bn)=>{"use strict";var md=re(),Sr=class extends md{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};bn.exports=Sr});var wn=d((Yv,yn)=>{"use strict";var gd=re(),Cr=class extends gd{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};yn.exports=Cr});var xn=d((Wv,_n)=>{"use strict";var bd=re(),Or=class extends bd{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),r=this.token.length;return r===2?String(e+1).padStart(2,"0"):r===3?this.locales.monthsShort[e]:r===4?this.locales.months[e]:String(e+1)}};_n.exports=Or});var kn=d((Jv,Tn)=>{"use strict";var vd=re(),Pr=class extends vd{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Tn.exports=Pr});var Cn=d((Kv,Sn)=>{"use strict";var yd=re(),Mr=class extends yd{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};Sn.exports=Mr});var Pn=d((Qv,On)=>{"use strict";On.exports={DatePart:re(),Meridiem:dn(),Day:pn(),Hours:gn(),Milliseconds:vn(),Minutes:wn(),Month:xn(),Seconds:kn(),Year:Cn()}});var jn=d((Xv,Fn)=>{"use strict";function Mn(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(l){r(l);return}a.done?e(u):Promise.resolve(u).then(s,i)}function En(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){Mn(n,s,i,o,a,"next",u)}function a(u){Mn(n,s,i,o,a,"throw",u)}o(void 0)})}}var Er=O(),wd=ce(),qr=Z(),Rn=qr.style,qn=qr.clear,_d=qr.figures,In=M(),xd=In.erase,An=In.cursor,de=Pn(),Dn=de.DatePart,Td=de.Meridiem,kd=de.Day,Sd=de.Hours,Cd=de.Milliseconds,Od=de.Minutes,Pd=de.Month,Md=de.Seconds,Ed=de.Year,Rd=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,$n={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new kd(t),3:t=>new Pd(t),4:t=>new Ed(t),5:t=>new Td(t),6:t=>new Sd(t),7:t=>new Od(t),8:t=>new Md(t),9:t=>new Cd(t)},qd={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},Rr=class extends wd{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(qd,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=qn("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let r;for(this.parts=[];r=Rd.exec(e);){let i=r.shift(),n=r.findIndex(o=>o!=null);this.parts.push(n in $n?$n[n]({token:r[n]||i,date:this.date,parts:this.parts,locales:this.locales}):r[n]||i)}let s=this.parts.reduce((i,n)=>(typeof n=="string"&&typeof i[i.length-1]=="string"?i[i.length-1]+=n:i.push(n),i),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof Dn)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return En(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return En(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(r=>r instanceof Dn)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(An.hide):this.out.write(qn(this.outputText,this.out.columns)),super.render(),this.outputText=[Rn.symbol(this.done,this.aborted),Er.bold(this.msg),Rn.delimiter(!1),this.parts.reduce((e,r,s)=>e.concat(s===this.cursor&&!this.done?Er.cyan().underline(r.toString()):r),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":_d.pointerSmall} ${Er.red().italic(r)}`,"")),this.out.write(xd.line+An.to(0)+this.outputText))}};Fn.exports=Rr});var zn=d((Zv,Hn)=>{"use strict";function Ln(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(l){r(l);return}a.done?e(u):Promise.resolve(u).then(s,i)}function Nn(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){Ln(n,s,i,o,a,"next",u)}function a(u){Ln(n,s,i,o,a,"throw",u)}o(void 0)})}}var St=O(),Ad=ce(),Un=M(),Ct=Un.cursor,Dd=Un.erase,Ot=Z(),Ar=Ot.style,$d=Ot.figures,Bn=Ot.clear,Id=Ot.lines,Fd=/[0-9]/,Dr=t=>t!==void 0,Gn=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r},$r=class extends Ad{constructor(e={}){super(e),this.transform=Ar.render(e.style),this.msg=e.message,this.initial=Dr(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Dr(e.min)?e.min:-1/0,this.max=Dr(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=St.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Gn(e,this.round)}`),this._value=Gn(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||Fd.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return Nn(function*(){let r=yield e.validator(e.value);typeof r=="string"&&(e.errorMsg=r,r=!1),e.error=!r})()}submit(){var e=this;return Nn(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let r=e.value;e.value=r!==""?r:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,r){if(!this.valid(e))return this.bell();let s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=s,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ct.down(Id(this.outputError,this.out.columns)-1)+Bn(this.outputError,this.out.columns)),this.out.write(Bn(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Ar.symbol(this.done,this.aborted),St.bold(this.msg),Ar.delimiter(this.done),!this.done||!this.done&&!this.placeholder?St[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":$d.pointerSmall} ${St.red().italic(r)}`,"")),this.out.write(Dd.line+Ct.to(0)+this.outputText+Ct.save+this.outputError+Ct.restore))}};Hn.exports=$r});var Fr=d((ey,Wn)=>{"use strict";var se=O(),jd=M(),Ld=jd.cursor,Nd=ce(),Xe=Z(),Vn=Xe.clear,ye=Xe.figures,Yn=Xe.style,Bd=Xe.wrap,Gd=Xe.entriesToDisplay,Ir=class extends Nd{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((r,s)=>(typeof r=="string"&&(r={title:r,value:s}),{title:r&&(r.title||r.value||r),description:r&&r.description,value:r&&(r.value===void 0?s:r.value),selected:r&&r.selected,disabled:r&&r.disabled})),this.clear=Vn("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(r=>r.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(r=>!r.disabled).forEach(r=>r.selected=e),this.render()}_(e,r){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${ye.arrowUp}/${ye.arrowDown}: Highlight option
    ${ye.arrowLeft}/${ye.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,r,s,i){let n=(r.selected?se.green(ye.radioOn):ye.radioOff)+" "+i+" ",o,a;return r.disabled?o=e===s?se.gray().underline(r.title):se.strikethrough().gray(r.title):(o=e===s?se.cyan().underline(r.title):r.title,e===s&&r.description&&(a=` - ${r.description}`,(n.length+o.length+a.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(a=`
`+Bd(r.description,{margin:n.length,width:this.out.columns})))),n+o+se.gray(a||"")}paginateOptions(e){if(e.length===0)return se.red("No matches for this query.");let r=Gd(this.cursor,e.length,this.optionsPerPage),s=r.startIndex,i=r.endIndex,n,o=[];for(let a=s;a<i;a++)a===s&&s>0?n=ye.arrowUp:a===i-1&&i<e.length?n=ye.arrowDown:n=" ",o.push(this.renderOption(this.cursor,e[a],a,n));return`
`+o.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[se.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(se.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Ld.hide),super.render();let e=[Yn.symbol(this.done,this.aborted),se.bold(this.msg),Yn.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=se.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=Vn(e,this.out.columns)}};Wn.exports=Ir});var to=d((ty,eo)=>{"use strict";function Jn(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(l){r(l);return}a.done?e(u):Promise.resolve(u).then(s,i)}function Ud(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){Jn(n,s,i,o,a,"next",u)}function a(u){Jn(n,s,i,o,a,"throw",u)}o(void 0)})}}var Ze=O(),Hd=ce(),Zn=M(),zd=Zn.erase,Kn=Zn.cursor,et=Z(),jr=et.style,Qn=et.clear,Lr=et.figures,Vd=et.wrap,Yd=et.entriesToDisplay,Xn=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),Wd=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),Jd=(t,e)=>{let r=t.findIndex(s=>s.value===e||s.title===e);return r>-1?r:void 0},Nr=class extends Hd{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:Jd(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=jr.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Qn("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=Xn(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var r=this;return Ud(function*(){let s=r.completing=r.suggest(r.input,r.choices),i=yield s;if(r.completing!==s)return;r.suggestions=i.map((o,a,u)=>({title:Wd(u,a),value:Xn(u,a),description:o.description})),r.completing=!1;let n=Math.max(i.length-1,0);r.moveSelect(Math.min(n,r.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){let s=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${s}${e}${i}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),r=this.input.slice(this.cursor);this.input=`${e}${r}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor+1);this.input=`${e}${r}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,r,s,i){let n,o=s?Lr.arrowUp:i?Lr.arrowDown:" ",a=r?Ze.cyan().underline(e.title):e.title;return o=(r?Ze.cyan(Lr.pointer)+" ":"  ")+o,e.description&&(n=` - ${e.description}`,(o.length+a.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n=`
`+Vd(e.description,{margin:3,width:this.out.columns}))),o+" "+a+Ze.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(Kn.hide):this.out.write(Qn(this.outputText,this.out.columns)),super.render();let e=Yd(this.select,this.choices.length,this.limit),r=e.startIndex,s=e.endIndex;if(this.outputText=[jr.symbol(this.done,this.aborted,this.exited),Ze.bold(this.msg),jr.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let i=this.suggestions.slice(r,s).map((n,o)=>this.renderOption(n,this.select===o+r,o===0&&r>0,o+r===s-1&&s<this.choices.length)).join(`
`);this.outputText+=`
`+(i||Ze.gray(this.fallback.title))}this.out.write(zd.line+Kn.to(0)+this.outputText)}};eo.exports=Nr});var no=d((ry,io)=>{"use strict";var fe=O(),Kd=M(),Qd=Kd.cursor,Xd=Fr(),Gr=Z(),ro=Gr.clear,so=Gr.style,Ie=Gr.figures,Br=class extends Xd{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=ro("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let r=this.filteredOptions.findIndex(s=>s===e);this.cursor=r<0?0:r,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,r){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Ie.arrowUp}/${Ie.arrowDown}: Highlight option
    ${Ie.arrowLeft}/${Ie.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:fe.gray("Enter something to filter")}
`}renderOption(e,r,s){let i;return r.disabled?i=e===s?fe.gray().underline(r.title):fe.strikethrough().gray(r.title):i=e===s?fe.cyan().underline(r.title):r.title,(r.selected?fe.green(Ie.radioOn):Ie.radioOff)+"  "+i}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[fe.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(fe.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Qd.hide),super.render();let e=[so.symbol(this.done,this.aborted),fe.bold(this.msg),so.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=fe.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=ro(e,this.out.columns)}};io.exports=Br});var fo=d((sy,ho)=>{"use strict";var oo=O(),Zd=ce(),lo=Z(),ao=lo.style,ef=lo.clear,co=M(),tf=co.erase,uo=co.cursor,Ur=class extends Zd{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(uo.hide):this.out.write(ef(this.outputText,this.out.columns)),super.render(),this.outputText=[ao.symbol(this.done,this.aborted),oo.bold(this.msg),ao.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:oo.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(tf.line+uo.to(0)+this.outputText))}};ho.exports=Ur});var mo=d((iy,po)=>{"use strict";po.exports={TextPrompt:Xi(),SelectPrompt:rn(),TogglePrompt:ln(),DatePrompt:jn(),NumberPrompt:zn(),MultiselectPrompt:Fr(),AutocompletePrompt:to(),AutocompleteMultiselectPrompt:no(),ConfirmPrompt:fo()}});var bo=d(go=>{"use strict";var B=go,rf=mo(),Pt=t=>t;function ie(t,e,r={}){return new Promise((s,i)=>{let n=new rf[t](e),o=r.onAbort||Pt,a=r.onSubmit||Pt,u=r.onExit||Pt;n.on("state",e.onState||Pt),n.on("submit",l=>s(a(l))),n.on("exit",l=>s(u(l))),n.on("abort",l=>i(o(l)))})}B.text=t=>ie("TextPrompt",t);B.password=t=>(t.style="password",B.text(t));B.invisible=t=>(t.style="invisible",B.text(t));B.number=t=>ie("NumberPrompt",t);B.date=t=>ie("DatePrompt",t);B.confirm=t=>ie("ConfirmPrompt",t);B.list=t=>{let e=t.separator||",";return ie("TextPrompt",t,{onSubmit:r=>r.split(e).map(s=>s.trim())})};B.toggle=t=>ie("TogglePrompt",t);B.select=t=>ie("SelectPrompt",t);B.multiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(s=>s.selected).map(s=>s.value);return ie("MultiselectPrompt",t,{onAbort:e,onSubmit:e})};B.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(s=>s.selected).map(s=>s.value);return ie("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};var sf=(t,e)=>Promise.resolve(e.filter(r=>r.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));B.autocomplete=t=>(t.suggest=t.suggest||sf,t.choices=[].concat(t.choices||[]),ie("AutocompletePrompt",t))});var So=d((oy,ko)=>{"use strict";function vo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function yo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vo(Object(r),!0).forEach(function(s){nf(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vo(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function nf(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function of(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=af(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return n=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!n&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function af(t,e){if(t){if(typeof t=="string")return wo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wo(t,e)}}function wo(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function _o(t,e,r,s,i,n,o){try{var a=t[n](o),u=a.value}catch(l){r(l);return}a.done?e(u):Promise.resolve(u).then(s,i)}function xo(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var n=t.apply(e,r);function o(u){_o(n,s,i,o,a,"next",u)}function a(u){_o(n,s,i,o,a,"throw",u)}o(void 0)})}}var Hr=bo(),uf=["suggest","format","onState","validate","onRender","type"],To=()=>{};function we(){return zr.apply(this,arguments)}function zr(){return zr=xo(function*(t=[],{onSubmit:e=To,onCancel:r=To}={}){let s={},i=we._override||{};t=[].concat(t);let n,o,a,u,l,m,f=function(){var C=xo(function*(D,K,Ae=!1){if(!(!Ae&&D.validate&&D.validate(K)!==!0))return D.format?yield D.format(K,s):K});return function(K,Ae){return C.apply(this,arguments)}}();var p=of(t),g;try{for(p.s();!(g=p.n()).done;){o=g.value;var F=o;if(u=F.name,l=F.type,typeof l=="function"&&(l=yield l(n,yo({},s),o),o.type=l),!!l){for(let C in o){if(uf.includes(C))continue;let D=o[C];o[C]=typeof D=="function"?yield D(n,yo({},s),m):D}if(m=o,typeof o.message!="string")throw new Error("prompt message is required");var j=o;if(u=j.name,l=j.type,Hr[l]===void 0)throw new Error(`prompt type (${l}) is not defined`);if(i[o.name]!==void 0&&(n=yield f(o,i[o.name]),n!==void 0)){s[u]=n;continue}try{n=we._injected?lf(we._injected,o.initial):yield Hr[l](o),s[u]=n=yield f(o,n,!0),a=yield e(o,n,s)}catch{a=!(yield r(o,s))}if(a)return s}}}catch(C){p.e(C)}finally{p.f()}return s}),zr.apply(this,arguments)}function lf(t,e){let r=t.shift();if(r instanceof Error)throw r;return r===void 0?e:r}function cf(t){we._injected=(we._injected||[]).concat(t)}function hf(t){we._override=Object.assign({},t)}ko.exports=Object.assign(we,{prompt:we,prompts:Hr,inject:cf,override:hf})});var Oo=d((ay,Co)=>{"use strict";Co.exports=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}});var Mt=d((uy,Po)=>{"use strict";Po.exports=t=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return typeof t=="string"?t.replace(r,""):t}});var Ro=d((ly,Eo)=>{"use strict";var df=Mt(),{erase:Mo,cursor:ff}=M(),pf=t=>[...df(t)].length;Eo.exports=function(t,e){if(!e)return Mo.line+ff.to(0);let r=0,s=t.split(/\r?\n/);for(let i of s)r+=1+Math.floor(Math.max(pf(i)-1,0)/e);return Mo.lines(r)}});var Vr=d((cy,qo)=>{"use strict";var tt={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},mf={arrowUp:tt.arrowUp,arrowDown:tt.arrowDown,arrowLeft:tt.arrowLeft,arrowRight:tt.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},gf=process.platform==="win32"?mf:tt;qo.exports=gf});var Do=d((hy,Ao)=>{"use strict";var Fe=O(),Ce=Vr(),Yr=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"\u{1F603}".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),bf=t=>Yr[t]||Yr.default,rt=Object.freeze({aborted:Fe.red(Ce.cross),done:Fe.green(Ce.tick),exited:Fe.yellow(Ce.cross),default:Fe.cyan("?")}),vf=(t,e,r)=>e?rt.aborted:r?rt.exited:t?rt.done:rt.default,yf=t=>Fe.gray(t?Ce.ellipsis:Ce.pointerSmall),wf=(t,e)=>Fe.gray(t?e?Ce.pointerSmall:"+":Ce.line);Ao.exports={styles:Yr,render:bf,symbols:rt,symbol:vf,delimiter:yf,item:wf}});var Io=d((dy,$o)=>{"use strict";var _f=Mt();$o.exports=function(t,e){let r=String(_f(t)||"").split(/\r?\n/);return e?r.map(s=>Math.ceil(s.length/e)).reduce((s,i)=>s+i):r.length}});var jo=d((fy,Fo)=>{"use strict";Fo.exports=(t,e={})=>{let r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(t||"").split(/\r?\n/g).map(i=>i.split(/\s+/g).reduce((n,o)=>(o.length+r.length>=s||n[n.length-1].length+o.length+1<s?n[n.length-1]+=` ${o}`:n.push(`${r}${o}`),n),[r]).join(`
`)).join(`
`)}});var No=d((py,Lo)=>{"use strict";Lo.exports=(t,e,r)=>{r=r||e;let s=Math.min(e-r,t-Math.floor(r/2));s<0&&(s=0);let i=Math.min(s+r,e);return{startIndex:s,endIndex:i}}});var ee=d((my,Bo)=>{"use strict";Bo.exports={action:Oo(),clear:Ro(),style:Do(),strip:Mt(),figures:Vr(),lines:Io(),wrap:jo(),entriesToDisplay:No()}});var pe=d((gy,Uo)=>{"use strict";var Go=require("readline"),{action:xf}=ee(),Tf=require("events"),{beep:kf,cursor:Sf}=M(),Cf=O(),Wr=class extends Tf{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let r=Go.createInterface({input:this.in,escapeCodeTimeout:50});Go.emitKeypressEvents(this.in,r),this.in.isTTY&&this.in.setRawMode(!0);let s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,i=(n,o)=>{let a=xf(o,s);a===!1?this._&&this._(n,o):typeof this[a]=="function"?this[a](o):this.bell()};this.close=()=>{this.out.write(Sf.show),this.in.removeListener("keypress",i),this.in.isTTY&&this.in.setRawMode(!1),r.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",i)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(kf)}render(){this.onRender(Cf),this.firstRender&&(this.firstRender=!1)}};Uo.exports=Wr});var zo=d((by,Ho)=>{var Et=O(),Of=pe(),{erase:Pf,cursor:st}=M(),{style:Jr,clear:Kr,lines:Mf,figures:Ef}=ee(),Qr=class extends Of{constructor(e={}){super(e),this.transform=Jr.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=Kr("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=Et.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,r){let s=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${s}${e}${i}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),r=this.value.slice(this.cursor);this.value=`${e}${r}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor+1);this.value=`${e}${r}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(st.down(Mf(this.outputError,this.out.columns)-1)+Kr(this.outputError,this.out.columns)),this.out.write(Kr(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Jr.symbol(this.done,this.aborted),Et.bold(this.msg),Jr.delimiter(this.done),this.red?Et.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":Ef.pointerSmall} ${Et.red().italic(r)}`,"")),this.out.write(Pf.line+st.to(0)+this.outputText+st.save+this.outputError+st.restore+st.move(this.cursorOffset,0)))}};Ho.exports=Qr});var Jo=d((vy,Wo)=>{"use strict";var me=O(),Rf=pe(),{style:Vo,clear:Yo,figures:Rt,wrap:qf,entriesToDisplay:Af}=ee(),{cursor:Df}=M(),Xr=class extends Rf{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((r,s)=>(typeof r=="string"&&(r={title:r,value:s}),{title:r&&(r.title||r.value||r),value:r&&(r.value===void 0?s:r.value),description:r&&r.description,selected:r&&r.selected,disabled:r&&r.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Yo("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,r){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(Df.hide):this.out.write(Yo(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:r}=Af(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[Vo.symbol(this.done,this.aborted),me.bold(this.msg),Vo.delimiter(!1),this.done?this.selection.title:this.selection.disabled?me.yellow(this.warn):me.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let s=e;s<r;s++){let i,n,o="",a=this.choices[s];s===e&&e>0?n=Rt.arrowUp:s===r-1&&r<this.choices.length?n=Rt.arrowDown:n=" ",a.disabled?(i=this.cursor===s?me.gray().underline(a.title):me.strikethrough().gray(a.title),n=(this.cursor===s?me.bold().gray(Rt.pointer)+" ":"  ")+n):(i=this.cursor===s?me.cyan().underline(a.title):a.title,n=(this.cursor===s?me.cyan(Rt.pointer)+" ":"  ")+n,a.description&&this.cursor===s&&(o=` - ${a.description}`,(n.length+i.length+o.length>=this.out.columns||a.description.split(/\r?\n/).length>1)&&(o=`
`+qf(a.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${i}${me.gray(o)}
`}}this.out.write(this.outputText)}};Wo.exports=Xr});var Zo=d((yy,Xo)=>{var qt=O(),$f=pe(),{style:Ko,clear:If}=ee(),{cursor:Qo,erase:Ff}=M(),Zr=class extends $f{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,r){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(Qo.hide):this.out.write(If(this.outputText,this.out.columns)),super.render(),this.outputText=[Ko.symbol(this.done,this.aborted),qt.bold(this.msg),Ko.delimiter(this.done),this.value?this.inactive:qt.cyan().underline(this.inactive),qt.gray("/"),this.value?qt.cyan().underline(this.active):this.active].join(" "),this.out.write(Ff.line+Qo.to(0)+this.outputText))}};Xo.exports=Zr});var ne=d((wy,ea)=>{"use strict";var es=class t{constructor({token:e,date:r,parts:s,locales:i}){this.token=e,this.date=r||new Date,this.parts=s||[this],this.locales=i||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((r,s)=>s>e&&r instanceof t)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),r=e.indexOf(this);return e.find((s,i)=>i>r&&s instanceof t)}toString(){return String(this.date)}};ea.exports=es});var ra=d((_y,ta)=>{"use strict";var jf=ne(),ts=class extends jf{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};ta.exports=ts});var ia=d((xy,sa)=>{"use strict";var Lf=ne(),Nf=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th"),rs=class extends Lf{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),r=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+Nf(e):this.token==="d"?r+1:this.token==="ddd"?this.locales.weekdaysShort[r]:this.token==="dddd"?this.locales.weekdays[r]:e}};sa.exports=rs});var oa=d((Ty,na)=>{"use strict";var Bf=ne(),ss=class extends Bf{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};na.exports=ss});var ua=d((ky,aa)=>{"use strict";var Gf=ne(),is=class extends Gf{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};aa.exports=is});var ca=d((Sy,la)=>{"use strict";var Uf=ne(),ns=class extends Uf{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};la.exports=ns});var da=d((Cy,ha)=>{"use strict";var Hf=ne(),os=class extends Hf{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),r=this.token.length;return r===2?String(e+1).padStart(2,"0"):r===3?this.locales.monthsShort[e]:r===4?this.locales.months[e]:String(e+1)}};ha.exports=os});var pa=d((Oy,fa)=>{"use strict";var zf=ne(),as=class extends zf{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};fa.exports=as});var ga=d((Py,ma)=>{"use strict";var Vf=ne(),us=class extends Vf{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};ma.exports=us});var va=d((My,ba)=>{"use strict";ba.exports={DatePart:ne(),Meridiem:ra(),Day:ia(),Hours:oa(),Milliseconds:ua(),Minutes:ca(),Month:da(),Seconds:pa(),Year:ga()}});var Sa=d((Ey,ka)=>{"use strict";var ls=O(),Yf=pe(),{style:ya,clear:wa,figures:Wf}=ee(),{erase:Jf,cursor:_a}=M(),{DatePart:xa,Meridiem:Kf,Day:Qf,Hours:Xf,Milliseconds:Zf,Minutes:ep,Month:tp,Seconds:rp,Year:sp}=va(),ip=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Ta={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new Qf(t),3:t=>new tp(t),4:t=>new sp(t),5:t=>new Kf(t),6:t=>new Xf(t),7:t=>new ep(t),8:t=>new rp(t),9:t=>new Zf(t)},np={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},cs=class extends Yf{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(np,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=wa("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let r;for(this.parts=[];r=ip.exec(e);){let i=r.shift(),n=r.findIndex(o=>o!=null);this.parts.push(n in Ta?Ta[n]({token:r[n]||i,date:this.date,parts:this.parts,locales:this.locales}):r[n]||i)}let s=this.parts.reduce((i,n)=>(typeof n=="string"&&typeof i[i.length-1]=="string"?i[i.length-1]+=n:i.push(n),i),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof xa)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(r=>r instanceof xa)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(_a.hide):this.out.write(wa(this.outputText,this.out.columns)),super.render(),this.outputText=[ya.symbol(this.done,this.aborted),ls.bold(this.msg),ya.delimiter(!1),this.parts.reduce((e,r,s)=>e.concat(s===this.cursor&&!this.done?ls.cyan().underline(r.toString()):r),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":Wf.pointerSmall} ${ls.red().italic(r)}`,"")),this.out.write(Jf.line+_a.to(0)+this.outputText))}};ka.exports=cs});var Ma=d((Ry,Pa)=>{var At=O(),op=pe(),{cursor:Dt,erase:ap}=M(),{style:hs,figures:up,clear:Ca,lines:lp}=ee(),cp=/[0-9]/,ds=t=>t!==void 0,Oa=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r},fs=class extends op{constructor(e={}){super(e),this.transform=hs.render(e.style),this.msg=e.message,this.initial=ds(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=ds(e.min)?e.min:-1/0,this.max=ds(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=At.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Oa(e,this.round)}`),this._value=Oa(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||cp.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=e!==""?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,r){if(!this.valid(e))return this.bell();let s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=s,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Dt.down(lp(this.outputError,this.out.columns)-1)+Ca(this.outputError,this.out.columns)),this.out.write(Ca(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[hs.symbol(this.done,this.aborted),At.bold(this.msg),hs.delimiter(this.done),!this.done||!this.done&&!this.placeholder?At[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,r,s)=>e+`
${s?" ":up.pointerSmall} ${At.red().italic(r)}`,"")),this.out.write(ap.line+Dt.to(0)+this.outputText+Dt.save+this.outputError+Dt.restore))}};Pa.exports=fs});var ms=d((qy,qa)=>{"use strict";var oe=O(),{cursor:hp}=M(),dp=pe(),{clear:Ea,figures:_e,style:Ra,wrap:fp,entriesToDisplay:pp}=ee(),ps=class extends dp{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((r,s)=>(typeof r=="string"&&(r={title:r,value:s}),{title:r&&(r.title||r.value||r),description:r&&r.description,value:r&&(r.value===void 0?s:r.value),selected:r&&r.selected,disabled:r&&r.disabled})),this.clear=Ea("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(r=>r.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(r=>!r.disabled).forEach(r=>r.selected=e),this.render()}_(e,r){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${_e.arrowUp}/${_e.arrowDown}: Highlight option
    ${_e.arrowLeft}/${_e.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,r,s,i){let n=(r.selected?oe.green(_e.radioOn):_e.radioOff)+" "+i+" ",o,a;return r.disabled?o=e===s?oe.gray().underline(r.title):oe.strikethrough().gray(r.title):(o=e===s?oe.cyan().underline(r.title):r.title,e===s&&r.description&&(a=` - ${r.description}`,(n.length+o.length+a.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(a=`
`+fp(r.description,{margin:n.length,width:this.out.columns})))),n+o+oe.gray(a||"")}paginateOptions(e){if(e.length===0)return oe.red("No matches for this query.");let{startIndex:r,endIndex:s}=pp(this.cursor,e.length,this.optionsPerPage),i,n=[];for(let o=r;o<s;o++)o===r&&r>0?i=_e.arrowUp:o===s-1&&s<e.length?i=_e.arrowDown:i=" ",n.push(this.renderOption(this.cursor,e[o],o,i));return`
`+n.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[oe.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(oe.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(hp.hide),super.render();let e=[Ra.symbol(this.done,this.aborted),oe.bold(this.msg),Ra.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=oe.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=Ea(e,this.out.columns)}};qa.exports=ps});var Fa=d((Ay,Ia)=>{"use strict";var it=O(),mp=pe(),{erase:gp,cursor:Aa}=M(),{style:gs,clear:Da,figures:bs,wrap:bp,entriesToDisplay:vp}=ee(),$a=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),yp=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),wp=(t,e)=>{let r=t.findIndex(s=>s.value===e||s.title===e);return r>-1?r:void 0},vs=class extends mp{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:wp(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=gs.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Da("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=$a(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let r=this.completing=this.suggest(this.input,this.choices),s=await r;if(this.completing!==r)return;this.suggestions=s.map((n,o,a)=>({title:yp(a,o),value:$a(a,o),description:n.description})),this.completing=!1;let i=Math.max(s.length-1,0);this.moveSelect(Math.min(i,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){let s=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${s}${e}${i}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),r=this.input.slice(this.cursor);this.input=`${e}${r}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor+1);this.input=`${e}${r}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,r,s,i){let n,o=s?bs.arrowUp:i?bs.arrowDown:" ",a=r?it.cyan().underline(e.title):e.title;return o=(r?it.cyan(bs.pointer)+" ":"  ")+o,e.description&&(n=` - ${e.description}`,(o.length+a.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n=`
`+bp(e.description,{margin:3,width:this.out.columns}))),o+" "+a+it.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(Aa.hide):this.out.write(Da(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:r}=vp(this.select,this.choices.length,this.limit);if(this.outputText=[gs.symbol(this.done,this.aborted,this.exited),it.bold(this.msg),gs.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let s=this.suggestions.slice(e,r).map((i,n)=>this.renderOption(i,this.select===n+e,n===0&&e>0,n+e===r-1&&r<this.choices.length)).join(`
`);this.outputText+=`
`+(s||it.gray(this.fallback.title))}this.out.write(gp.line+Aa.to(0)+this.outputText)}};Ia.exports=vs});var Ba=d((Dy,Na)=>{"use strict";var ge=O(),{cursor:_p}=M(),xp=ms(),{clear:ja,style:La,figures:je}=ee(),ys=class extends xp{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=ja("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let r=this.filteredOptions.findIndex(s=>s===e);this.cursor=r<0?0:r,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(r=>r.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,r){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${je.arrowUp}/${je.arrowDown}: Highlight option
    ${je.arrowLeft}/${je.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:ge.gray("Enter something to filter")}
`}renderOption(e,r,s){let i;return r.disabled?i=e===s?ge.gray().underline(r.title):ge.strikethrough().gray(r.title):i=e===s?ge.cyan().underline(r.title):r.title,(r.selected?ge.green(je.radioOn):je.radioOff)+"  "+i}renderDoneOrInstructions(){if(this.done)return this.value.filter(r=>r.selected).map(r=>r.title).join(", ");let e=[ge.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(ge.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(_p.hide),super.render();let e=[La.symbol(this.done,this.aborted),ge.bold(this.msg),La.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=ge.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=ja(e,this.out.columns)}};Na.exports=ys});var Va=d(($y,za)=>{var Ga=O(),Tp=pe(),{style:Ua,clear:kp}=ee(),{erase:Sp,cursor:Ha}=M(),ws=class extends Tp{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,r){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Ha.hide):this.out.write(kp(this.outputText,this.out.columns)),super.render(),this.outputText=[Ua.symbol(this.done,this.aborted),Ga.bold(this.msg),Ua.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:Ga.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Sp.line+Ha.to(0)+this.outputText))}};za.exports=ws});var Wa=d((Iy,Ya)=>{"use strict";Ya.exports={TextPrompt:zo(),SelectPrompt:Jo(),TogglePrompt:Zo(),DatePrompt:Sa(),NumberPrompt:Ma(),MultiselectPrompt:ms(),AutocompletePrompt:Fa(),AutocompleteMultiselectPrompt:Ba(),ConfirmPrompt:Va()}});var Ka=d(Ja=>{"use strict";var G=Ja,Cp=Wa(),$t=t=>t;function ae(t,e,r={}){return new Promise((s,i)=>{let n=new Cp[t](e),o=r.onAbort||$t,a=r.onSubmit||$t,u=r.onExit||$t;n.on("state",e.onState||$t),n.on("submit",l=>s(a(l))),n.on("exit",l=>s(u(l))),n.on("abort",l=>i(o(l)))})}G.text=t=>ae("TextPrompt",t);G.password=t=>(t.style="password",G.text(t));G.invisible=t=>(t.style="invisible",G.text(t));G.number=t=>ae("NumberPrompt",t);G.date=t=>ae("DatePrompt",t);G.confirm=t=>ae("ConfirmPrompt",t);G.list=t=>{let e=t.separator||",";return ae("TextPrompt",t,{onSubmit:r=>r.split(e).map(s=>s.trim())})};G.toggle=t=>ae("TogglePrompt",t);G.select=t=>ae("SelectPrompt",t);G.multiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(s=>s.selected).map(s=>s.value);return ae("MultiselectPrompt",t,{onAbort:e,onSubmit:e})};G.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);let e=r=>r.filter(s=>s.selected).map(s=>s.value);return ae("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};var Op=(t,e)=>Promise.resolve(e.filter(r=>r.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));G.autocomplete=t=>(t.suggest=t.suggest||Op,t.choices=[].concat(t.choices||[]),ae("AutocompletePrompt",t))});var Za=d((jy,Xa)=>{"use strict";var _s=Ka(),Pp=["suggest","format","onState","validate","onRender","type"],Qa=()=>{};async function xe(t=[],{onSubmit:e=Qa,onCancel:r=Qa}={}){let s={},i=xe._override||{};t=[].concat(t);let n,o,a,u,l,m,f=async(p,g,F=!1)=>{if(!(!F&&p.validate&&p.validate(g)!==!0))return p.format?await p.format(g,s):g};for(o of t)if({name:u,type:l}=o,typeof l=="function"&&(l=await l(n,{...s},o),o.type=l),!!l){for(let p in o){if(Pp.includes(p))continue;let g=o[p];o[p]=typeof g=="function"?await g(n,{...s},m):g}if(m=o,typeof o.message!="string")throw new Error("prompt message is required");if({name:u,type:l}=o,_s[l]===void 0)throw new Error(`prompt type (${l}) is not defined`);if(i[o.name]!==void 0&&(n=await f(o,i[o.name]),n!==void 0)){s[u]=n;continue}try{n=xe._injected?Mp(xe._injected,o.initial):await _s[l](o),s[u]=n=await f(o,n,!0),a=await e(o,n,s)}catch{a=!await r(o,s)}if(a)return s}return s}function Mp(t,e){let r=t.shift();if(r instanceof Error)throw r;return r===void 0?e:r}function Ep(t){xe._injected=(xe._injected||[]).concat(t)}function Rp(t){xe._override=Object.assign({},t)}Xa.exports=Object.assign(xe,{prompt:xe,prompts:_s,inject:Ep,override:Rp})});var tu=d((Ly,eu)=>{function qp(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,r=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(r[e]>t[e])return!1;if(t[e]>r[e])return!0}return!1}eu.exports=qp("8.6.0")?So():Za()});var au=d((Xy,ou)=>{var Le=1e3,Ne=Le*60,Be=Ne*60,Pe=Be*24,Lp=Pe*7,Np=Pe*365.25;ou.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Bp(t);if(r==="number"&&isFinite(t))return e.long?Up(t):Gp(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Bp(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),s=(e[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return r*Np;case"weeks":case"week":case"w":return r*Lp;case"days":case"day":case"d":return r*Pe;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Be;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ne;case"seconds":case"second":case"secs":case"sec":case"s":return r*Le;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Gp(t){var e=Math.abs(t);return e>=Pe?Math.round(t/Pe)+"d":e>=Be?Math.round(t/Be)+"h":e>=Ne?Math.round(t/Ne)+"m":e>=Le?Math.round(t/Le)+"s":t+"ms"}function Up(t){var e=Math.abs(t);return e>=Pe?Ft(t,e,Pe,"day"):e>=Be?Ft(t,e,Be,"hour"):e>=Ne?Ft(t,e,Ne,"minute"):e>=Le?Ft(t,e,Le,"second"):t+" ms"}function Ft(t,e,r,s){var i=e>=r*1.5;return Math.round(t/r)+" "+s+(i?"s":"")}});var Cs=d((Zy,uu)=>{function Hp(t){r.debug=r,r.default=r,r.coerce=u,r.disable=n,r.enable=i,r.enabled=o,r.humanize=au(),r.destroy=l,Object.keys(t).forEach(m=>{r[m]=t[m]}),r.names=[],r.skips=[],r.formatters={};function e(m){let f=0;for(let p=0;p<m.length;p++)f=(f<<5)-f+m.charCodeAt(p),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(m){let f,p=null,g,F;function j(...C){if(!j.enabled)return;let D=j,K=Number(new Date),Ae=K-(f||K);D.diff=Ae,D.prev=f,D.curr=K,f=K,C[0]=r.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let De=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(Ye,ur)=>{if(Ye==="%%")return"%";De++;let yt=r.formatters[ur];if(typeof yt=="function"){let lr=C[De];Ye=yt.call(D,lr),C.splice(De,1),De--}return Ye}),r.formatArgs.call(D,C),(D.log||r.log).apply(D,C)}return j.namespace=m,j.useColors=r.useColors(),j.color=r.selectColor(m),j.extend=s,j.destroy=r.destroy,Object.defineProperty(j,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(g!==r.namespaces&&(g=r.namespaces,F=r.enabled(m)),F),set:C=>{p=C}}),typeof r.init=="function"&&r.init(j),j}function s(m,f){let p=r(this.namespace+(typeof f>"u"?":":f)+m);return p.log=this.log,p}function i(m){r.save(m),r.namespaces=m,r.names=[],r.skips=[];let f,p=(typeof m=="string"?m:"").split(/[\s,]+/),g=p.length;for(f=0;f<g;f++)p[f]&&(m=p[f].replace(/\*/g,".*?"),m[0]==="-"?r.skips.push(new RegExp("^"+m.slice(1)+"$")):r.names.push(new RegExp("^"+m+"$")))}function n(){let m=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),m}function o(m){if(m[m.length-1]==="*")return!0;let f,p;for(f=0,p=r.skips.length;f<p;f++)if(r.skips[f].test(m))return!1;for(f=0,p=r.names.length;f<p;f++)if(r.names[f].test(m))return!0;return!1}function a(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function u(m){return m instanceof Error?m.stack||m.message:m}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}uu.exports=Hp});var lu=d((V,jt)=>{V.formatArgs=Vp;V.save=Yp;V.load=Wp;V.useColors=zp;V.storage=Jp();V.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();V.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function zp(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Vp(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+jt.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(s=r))}),t.splice(s,0,e)}V.log=console.debug||console.log||(()=>{});function Yp(t){try{t?V.storage.setItem("debug",t):V.storage.removeItem("debug")}catch{}}function Wp(){let t;try{t=V.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Jp(){try{return localStorage}catch{}}jt.exports=Cs()(V);var{formatters:Kp}=jt.exports;Kp.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var hu=d(($,Nt)=>{var Qp=require("tty"),Lt=require("util");$.init=im;$.log=tm;$.formatArgs=Zp;$.save=rm;$.load=sm;$.useColors=Xp;$.destroy=Lt.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");$.colors=[6,2,3,4,5,1];try{let t=require("supports-color");t&&(t.stderr||t).level>=2&&($.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}$.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,n)=>n.toUpperCase()),s=process.env[e];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),t[r]=s,t},{});function Xp(){return"colors"in $.inspectOpts?!!$.inspectOpts.colors:Qp.isatty(process.stderr.fd)}function Zp(t){let{namespace:e,useColors:r}=this;if(r){let s=this.color,i="\x1B[3"+(s<8?s:"8;5;"+s),n=`  ${i};1m${e} \x1B[0m`;t[0]=n+t[0].split(`
`).join(`
`+n),t.push(i+"m+"+Nt.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=em()+e+" "+t[0]}function em(){return $.inspectOpts.hideDate?"":new Date().toISOString()+" "}function tm(...t){return process.stderr.write(Lt.formatWithOptions($.inspectOpts,...t)+`
`)}function rm(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function sm(){return process.env.DEBUG}function im(t){t.inspectOpts={};let e=Object.keys($.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=$.inspectOpts[e[r]]}Nt.exports=Cs()($);var{formatters:cu}=Nt.exports;cu.o=function(t){return this.inspectOpts.colors=this.useColors,Lt.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};cu.O=function(t){return this.inspectOpts.colors=this.useColors,Lt.inspect(t,this.inspectOpts)}});var Ps=d((ew,Os)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Os.exports=lu():Os.exports=hu()});var du=d(Y=>{"use strict";var nm=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Y,"__esModule",{value:!0});var om=require("fs"),am=nm(Ps()),Ge=am.default("@kwsites/file-exists");function um(t,e,r){Ge("checking %s",t);try{let s=om.statSync(t);return s.isFile()&&e?(Ge("[OK] path represents a file"),!0):s.isDirectory()&&r?(Ge("[OK] path represents a directory"),!0):(Ge("[FAIL] path represents something other than a file or directory"),!1)}catch(s){if(s.code==="ENOENT")return Ge("[FAIL] path is not accessible: %o",s),!1;throw Ge("[FATAL] %o",s),s}}function lm(t,e=Y.READABLE){return um(t,(e&Y.FILE)>0,(e&Y.FOLDER)>0)}Y.exists=lm;Y.FILE=1;Y.FOLDER=2;Y.READABLE=Y.FILE+Y.FOLDER});var fu=d(Bt=>{"use strict";function cm(t){for(var e in t)Bt.hasOwnProperty(e)||(Bt[e]=t[e])}Object.defineProperty(Bt,"__esModule",{value:!0});cm(du())});var Es=d(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.createDeferred=Me.deferred=void 0;function Ms(){let t,e,r="pending";return{promise:new Promise((i,n)=>{t=i,e=n}),done(i){r==="pending"&&(r="resolved",t(i))},fail(i){r==="pending"&&(r="rejected",e(i))},get fulfilled(){return r!=="pending"},get status(){return r}}}Me.deferred=Ms;Me.createDeferred=Ms;Me.default=Ms});var eh=X(require("node:fs"),1);var ks=X(tu(),1);var Ap={"question.template":"\u8BF7\u9009\u62E9\u4E00\u4E2A\u6A21\u677F\uFF0C\u7528\u4E8E\u6E32\u67D3\u60A8\u7684markdown\u6587\u4EF6","question.folderName":"\u8BF7\u8F93\u5165\u6587\u4EF6\u5939\u540D\u79F0\uFF0C\u8FD9\u5C06\u5728\u5F53\u524D\u76EE\u5F55\u521B\u5EFA\u4E00\u4E2A\u6587\u4EF6\u5939\uFF0C\u7528\u4E8E\u521D\u59CB\u5316\u6587\u6863\u9879\u76EE","question.prefix":"\u8BF7\u8F93\u5165\u6B64\u9879\u76EE\u7684GitPages\u524D\u7F00\uFF08\u4ED3\u5E93\u540D\uFF09\uFF0C\u5982\uFF1A/ProjectName","question.branchName":"\u8BF7\u8F93\u5165\u89E6\u53D1git\u90E8\u7F72\u7684\u5206\u652F\u540D\u79F0","signal.scriptStarted":"===== \u7A0B\u5E8F\u5F00\u59CB\u6267\u884C =====","signal.exitWithError":"===== \u7A0B\u5E8F\u5F02\u5E38\u9000\u51FA =====","signal.exitWithSuccess":"===== \u7A0B\u5E8F\u6267\u884C\u6210\u529F =====","message.error.duplicateFolder":"\u540C\u540D\u6587\u4EF6\u5939\u6216\u6587\u4EF6\u5DF2\u5B58\u5728\uFF1A{name}","message.error.subtitle":"\u9519\u8BEF: ","message.error.userCancel":"\u7528\u6237\u7EC8\u6B62\u4E86\u811A\u672C\u6267\u884C","message.error.retryDownloadTemplate":"\u4E0B\u8F7D\u6A21\u677F\u5931\u8D25\uFF0C\u5C1D\u8BD5\u4ECEgitee\u4E0B\u8F7D","message.error.downloadTemplate":"\u4E0B\u8F7D\u6A21\u677F\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u60A8\u7684\u7F51\u7EDC"},ru=Ap;var Dp={"question.template":"Select a template to render your markdown files","question.folderName":"Input folder name, this will create a folder in the current directory to initialize the md project","question.prefix":"Input this project GitPages prefix (repository name), e.g.: /ProjectName","question.branchName":"Input branch name witch will trigger git deploy action","signal.scriptStarted":"===== Script start =====","signal.exitWithError":"===== Exit with error =====","signal.exitWithSuccess":"===== Program execution succeeded =====","message.error.duplicateFolder":"Folder or file already exists: {name}","message.error.subtitle":"ERROR: ","message.error.userCancel":"User canceled","message.error.retryDownloadTemplate":"Download template failed, try to download from gitee","message.error.downloadTemplate":"Download Failed, please check your network"},xs=Dp;function su(t){let e={value:t,_watchCallbacks:[]};return new Proxy(e,{get:(r,s)=>r[s],set:(r,s,i)=>{r[s]=i;for(let n of r._watchCallbacks)n(r[s],i);return!0}})}var Ts=su(xs);function $p(t,e,r){let s=Ts.value[t];return s||(typeof e=="string"?s=e:typeof r=="string"&&(s=r)),s?(typeof e=="object"&&(s=s.replace(/\{\s*([a-zA-z_]+)\s*\}/g,(i,n)=>String(e[n]))),s):""}function Ip(t){t==="zh"?Ts.value=ru:t==="en"&&(Ts.value=xs)}var Oe={state:{},action:{t:$p,updateLang:Ip}};var Fp=Oe.action.t;function nt(){throw Error(Fp("message.error.userCancel"))}var Ss=X(require("node:path"),1),It=Oe.action.t,jp=Oe.action.updateLang,iu={};async function nu(){let t=".github-pages",e="main",r=Ss.default.basename(process.cwd())||Ss.default.basename(__dirname),{lang:s}=await(0,ks.default)([{name:"lang",type:"select",message:"Choose The language during this creation process",choices:[{title:"English",value:"en"},{title:"\u4E2D\u6587",value:"zh"}]}],{onCancel:nt});return jp(s),iu=await(0,ks.default)([{name:"template",type:"select",message:It("question.template"),choices:[{title:"Nuxt Content",value:"nuxt_content"}]},{name:"folderName",type:"text",message:It("question.folderName"),initial:t,onState:i=>!i.value||/(\s|\/|\\)+/.test(i.value)?i.value:t},{name:"prefix",type:"text",message:It("question.prefix"),initial:`/${r}`,onState:i=>!i.value||/(\s|\/|\\)+/.test(i.value)?"":i.value},{name:"branchName",type:"text",message:It("question.branchName"),initial:e,onState:i=>i.value.trim()?i.value:e}],{onCancel:nt}),iu}var Qc=X(require("node:path"),1),Xc=X(require("node:fs"),1);var er=X(fu(),1),Kt=X(Ps(),1),Nl=require("child_process"),Tc=X(Es(),1),Ue=X(Es(),1),Jc=require("node:events"),Xt=Object.defineProperty,hm=Object.defineProperties,dm=Object.getOwnPropertyDescriptor,fm=Object.getOwnPropertyDescriptors,Js=Object.getOwnPropertyNames,pu=Object.getOwnPropertySymbols,Yu=Object.prototype.hasOwnProperty,pm=Object.prototype.propertyIsEnumerable,mu=(t,e,r)=>e in t?Xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,J=(t,e)=>{for(var r in e||(e={}))Yu.call(e,r)&&mu(t,r,e[r]);if(pu)for(var r of pu(e))pm.call(e,r)&&mu(t,r,e[r]);return t},ut=(t,e)=>hm(t,fm(e)),h=(t,e)=>function(){return t&&(e=(0,t[Js(t)[0]])(t=0)),e},mm=(t,e)=>function(){return e||(0,t[Js(t)[0]])((e={exports:{}}).exports,e),e.exports},A=(t,e)=>{for(var r in e)Xt(t,r,{get:e[r],enumerable:!0})},gm=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Js(e))!Yu.call(t,i)&&i!==r&&Xt(t,i,{get:()=>e[i],enumerable:!(s=dm(e,i))||s.enumerable});return t},E=t=>gm(Xt({},"__esModule",{value:!0}),t),at=(t,e,r)=>new Promise((s,i)=>{var n=u=>{try{a(r.next(u))}catch(l){i(l)}},o=u=>{try{a(r.throw(u))}catch(l){i(l)}},a=u=>u.done?s(u.value):Promise.resolve(u.value).then(n,o);a((r=r.apply(t,e)).next())});function bm(...t){let e=new String(t);return Zt.set(e,t),e}function Wt(t){return t instanceof String&&Zt.has(t)}function gu(t){return Zt.get(t)||[]}var Zt,dt=h({"src/lib/args/pathspec.ts"(){"use strict";Zt=new WeakMap}}),ve,ke=h({"src/lib/errors/git-error.ts"(){"use strict";ve=class extends Error{constructor(t,e){super(e),this.task=t,Object.setPrototypeOf(this,new.target.prototype)}}}}),ft,ze=h({"src/lib/errors/git-response-error.ts"(){"use strict";ke(),ft=class extends ve{constructor(t,e){super(void 0,e||String(t)),this.git=t}}}}),Wu,Ju=h({"src/lib/errors/task-configuration-error.ts"(){"use strict";ke(),Wu=class extends ve{constructor(t){super(void 0,t)}}}});function Ku(t){return typeof t=="function"?t:qe}function Qu(t){return typeof t=="function"&&t!==qe}function Xu(t,e){let r=t.indexOf(e);return r<=0?[t,""]:[t.substr(0,r),t.substr(r+1)]}function Zu(t,e=0){return el(t)&&t.length>e?t[e]:void 0}function Re(t,e=0){if(el(t)&&t.length>e)return t[t.length-1-e]}function el(t){return!!(t&&typeof t.length=="number")}function pt(t="",e=!0,r=`
`){return t.split(r).reduce((s,i)=>{let n=e?i.trim():i;return n&&s.push(n),s},[])}function Ks(t,e){return pt(t,!0).map(r=>e(r))}function Qs(t){return(0,er.exists)(t,er.FOLDER)}function _(t,e){return Array.isArray(t)?t.includes(e)||t.push(e):t.add(e),e}function tl(t,e){return Array.isArray(t)&&!t.includes(e)&&t.push(e),t}function tr(t,e){if(Array.isArray(t)){let r=t.indexOf(e);r>=0&&t.splice(r,1)}else t.delete(e);return e}function ue(t){return Array.isArray(t)?t:[t]}function rl(t){return t.replace(/[\s-]+(.)/g,(e,r)=>r.toUpperCase())}function sl(t){return ue(t).map(String)}function S(t,e=0){if(t==null)return e;let r=parseInt(t,10);return isNaN(r)?e:r}function lt(t,e){let r=[];for(let s=0,i=t.length;s<i;s++)r.push(e,t[s]);return r}function ct(t){return(Array.isArray(t)?Buffer.concat(t):t).toString("utf-8")}function il(t,e){return Object.assign({},...e.map(r=>r in t?{[r]:t[r]}:{}))}function Fs(t=0){return new Promise(e=>setTimeout(e,t))}function nl(t){if(t!==!1)return t}var He,qe,mt,rr=h({"src/lib/utils/util.ts"(){"use strict";He="\0",qe=()=>{},mt=Object.prototype.toString.call.bind(Object.prototype.toString)}});function le(t,e,r){return e(t)?t:arguments.length>2?r:void 0}function Xs(t,e){let r=Wt(t)?"string":typeof t;return/number|string|boolean/.test(r)&&(!e||!e.includes(r))}function Zs(t){return!!t&&mt(t)==="[object Object]"}function ol(t){return typeof t=="function"}var gt,I,al,Jt,ei,ul=h({"src/lib/utils/argument-filters.ts"(){"use strict";rr(),dt(),gt=t=>Array.isArray(t),I=t=>typeof t=="string",al=t=>Array.isArray(t)&&t.every(I),Jt=t=>I(t)||Array.isArray(t)&&t.every(I),ei=t=>t==null||"number|boolean|function".includes(typeof t)?!1:Array.isArray(t)||typeof t=="string"||typeof t.length=="number"}}),js,vm=h({"src/lib/utils/exit-codes.ts"(){"use strict";js=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.ERROR=1]="ERROR",t[t.NOT_FOUND=-2]="NOT_FOUND",t[t.UNCLEAN=128]="UNCLEAN",t))(js||{})}}),ht,ym=h({"src/lib/utils/git-output-streams.ts"(){"use strict";ht=class{constructor(t,e){this.stdOut=t,this.stdErr=e}asStrings(){return new ht(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}}),w,Te,wm=h({"src/lib/utils/line-parser.ts"(){"use strict";w=class{constructor(t,e){this.matches=[],this.parse=(r,s)=>(this.resetMatches(),this._regExp.every((i,n)=>this.addMatch(i,n,r(n)))?this.useMatches(s,this.prepareMatches())!==!1:!1),this._regExp=Array.isArray(t)?t:[t],e&&(this.useMatches=e)}useMatches(t,e){throw new Error("LineParser:useMatches not implemented")}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(t,e,r){let s=r&&t.exec(r);return s&&this.pushMatch(e,s),!!s}pushMatch(t,e){this.matches.push(...e.slice(1))}},Te=class extends w{addMatch(t,e,r){return/^remote:\s/.test(String(r))&&super.addMatch(t,e,r)}pushMatch(t,e){(t>0||e.length>1)&&super.pushMatch(t,e)}}}});function ll(...t){let e=process.cwd(),r=Object.assign(J({baseDir:e},cl),...t.filter(s=>typeof s=="object"&&s));return r.baseDir=r.baseDir||e,r.trimmed=r.trimmed===!0,r}var cl,_m=h({"src/lib/utils/simple-git-options.ts"(){"use strict";cl={binary:"git",maxConcurrentProcesses:5,config:[],trimmed:!1}}});function ti(t,e=[]){return Zs(t)?Object.keys(t).reduce((r,s)=>{let i=t[s];return Wt(i)?r.push(i):Xs(i,["boolean"])?r.push(s+"="+i):r.push(s),r},e):e}function U(t,e=0,r=!1){let s=[];for(let i=0,n=e<0?t.length:e;i<n;i++)"string|number".includes(typeof t[i])&&s.push(String(t[i]));return ti(ri(t),s),r||s.push(...xm(t)),s}function xm(t){let e=typeof Re(t)=="function";return le(Re(t,e?1:0),gt,[])}function ri(t){let e=ol(Re(t));return le(Re(t,e?1:0),Zs)}function R(t,e=!0){let r=Ku(Re(t));return e||Qu(r)?r:void 0}var Tm=h({"src/lib/utils/task-options.ts"(){"use strict";ul(),rr(),dt()}});function Ls(t,e){return t(e.stdOut,e.stdErr)}function z(t,e,r,s=!0){return ue(r).forEach(i=>{for(let n=pt(i,s),o=0,a=n.length;o<a;o++){let u=(l=0)=>{if(!(o+l>=a))return n[o+l]};e.some(({parse:l})=>l(u,t))}}),t}var km=h({"src/lib/utils/task-parser.ts"(){"use strict";rr()}}),hl={};A(hl,{ExitCodes:()=>js,GitOutputStreams:()=>ht,LineParser:()=>w,NOOP:()=>qe,NULL:()=>He,RemoteLineParser:()=>Te,append:()=>_,appendTaskOptions:()=>ti,asArray:()=>ue,asCamelCase:()=>rl,asFunction:()=>Ku,asNumber:()=>S,asStringArray:()=>sl,bufferToString:()=>ct,callTaskParser:()=>Ls,createInstanceConfig:()=>ll,delay:()=>Fs,filterArray:()=>gt,filterFunction:()=>ol,filterHasLength:()=>ei,filterPlainObject:()=>Zs,filterPrimitives:()=>Xs,filterString:()=>I,filterStringArray:()=>al,filterStringOrStringArray:()=>Jt,filterType:()=>le,first:()=>Zu,folderExists:()=>Qs,forEachLineWithContent:()=>Ks,getTrailingOptions:()=>U,including:()=>tl,isUserFunction:()=>Qu,last:()=>Re,objectToString:()=>mt,orVoid:()=>nl,parseStringResponse:()=>z,pick:()=>il,prefixedArray:()=>lt,remove:()=>tr,splitOn:()=>Xu,toLinesWithContent:()=>pt,trailingFunctionArgument:()=>R,trailingOptionsArgument:()=>ri});var y=h({"src/lib/utils/index.ts"(){"use strict";ul(),vm(),ym(),wm(),_m(),Tm(),km(),rr()}}),dl={};A(dl,{CheckRepoActions:()=>Ns,checkIsBareRepoTask:()=>pl,checkIsRepoRootTask:()=>fl,checkIsRepoTask:()=>Sm});function Sm(t){switch(t){case"bare":return pl();case"root":return fl()}return{commands:["rev-parse","--is-inside-work-tree"],format:"utf-8",onError:sr,parser:si}}function fl(){return{commands:["rev-parse","--git-dir"],format:"utf-8",onError:sr,parser(e){return/^\.(git)?$/.test(e.trim())}}}function pl(){return{commands:["rev-parse","--is-bare-repository"],format:"utf-8",onError:sr,parser:si}}function Cm(t){return/(Not a git repository|Kein Git-Repository)/i.test(String(t))}var Ns,sr,si,ml=h({"src/lib/tasks/check-is-repo.ts"(){"use strict";y(),Ns=(t=>(t.BARE="bare",t.IN_TREE="tree",t.IS_REPO_ROOT="root",t))(Ns||{}),sr=({exitCode:t},e,r,s)=>{if(t===128&&Cm(e))return r(Buffer.from("false"));s(e)},si=t=>t.trim()==="true"}});function Om(t,e){let r=new gl(t),s=t?vl:bl;return pt(e).forEach(i=>{let n=i.replace(s,"");r.paths.push(n),(yl.test(n)?r.folders:r.files).push(n)}),r}var gl,bl,vl,yl,Pm=h({"src/lib/responses/CleanSummary.ts"(){"use strict";y(),gl=class{constructor(t){this.dryRun=t,this.paths=[],this.files=[],this.folders=[]}},bl=/^[a-z]+\s*/i,vl=/^[a-z]+\s+[a-z]+\s*/i,yl=/\/$/}}),Bs={};A(Bs,{EMPTY_COMMANDS:()=>ir,adhocExecTask:()=>wl,configurationErrorTask:()=>H,isBufferTask:()=>xl,isEmptyTask:()=>Tl,straightThroughBufferTask:()=>_l,straightThroughStringTask:()=>N});function wl(t){return{commands:ir,format:"empty",parser:t}}function H(t){return{commands:ir,format:"empty",parser(){throw typeof t=="string"?new Wu(t):t}}}function N(t,e=!1){return{commands:t,format:"utf-8",parser(r){return e?String(r).trim():r}}}function _l(t){return{commands:t,format:"buffer",parser(e){return e}}}function xl(t){return t.format==="buffer"}function Tl(t){return t.format==="empty"||!t.commands.length}var ir,q=h({"src/lib/tasks/task.ts"(){"use strict";Ju(),ir=[]}}),kl={};A(kl,{CONFIG_ERROR_INTERACTIVE_MODE:()=>ii,CONFIG_ERROR_MODE_REQUIRED:()=>ni,CONFIG_ERROR_UNKNOWN_OPTION:()=>oi,CleanOptions:()=>Ht,cleanTask:()=>Sl,cleanWithOptionsTask:()=>Mm,isCleanOptionsArray:()=>Em});function Mm(t,e){let{cleanMode:r,options:s,valid:i}=Rm(t);return r?i.options?(s.push(...e),s.some(Dm)?H(ii):Sl(r,s)):H(oi+JSON.stringify(t)):H(ni)}function Sl(t,e){return{commands:["clean",`-${t}`,...e],format:"utf-8",parser(s){return Om(t==="n",s)}}}function Em(t){return Array.isArray(t)&&t.every(e=>ai.has(e))}function Rm(t){let e,r=[],s={cleanMode:!1,options:!0};return t.replace(/[^a-z]i/g,"").split("").forEach(i=>{qm(i)?(e=i,s.cleanMode=!0):s.options=s.options&&Am(r[r.length]=`-${i}`)}),{cleanMode:e,options:r,valid:s}}function qm(t){return t==="f"||t==="n"}function Am(t){return/^-[a-z]$/i.test(t)&&ai.has(t.charAt(1))}function Dm(t){return/^-[^\-]/.test(t)?t.indexOf("i")>0:t==="--interactive"}var ii,ni,oi,Ht,ai,Cl=h({"src/lib/tasks/clean.ts"(){"use strict";Pm(),y(),q(),ii="Git clean interactive mode is not supported",ni='Git clean mode parameter ("n" or "f") is required',oi="Git clean unknown option found in: ",Ht=(t=>(t.DRY_RUN="n",t.FORCE="f",t.IGNORED_INCLUDED="x",t.IGNORED_ONLY="X",t.EXCLUDING="e",t.QUIET="q",t.RECURSIVE="d",t))(Ht||{}),ai=new Set(["i",...sl(Object.values(Ht))])}});function $m(t){let e=new Pl;for(let r of Ol(t))e.addValue(r.file,String(r.key),r.value);return e}function Im(t,e){let r=null,s=[],i=new Map;for(let n of Ol(t,e))n.key===e&&(s.push(r=n.value),i.has(n.file)||i.set(n.file,[]),i.get(n.file).push(r));return{key:e,paths:Array.from(i.keys()),scopes:i,value:r,values:s}}function Fm(t){return t.replace(/^(file):/,"")}function*Ol(t,e=null){let r=t.split("\0");for(let s=0,i=r.length-1;s<i;){let n=Fm(r[s++]),o=r[s++],a=e;if(o.includes(`
`)){let u=Xu(o,`
`);a=u[0],o=u[1]}yield{file:n,key:a,value:o}}}var Pl,jm=h({"src/lib/responses/ConfigList.ts"(){"use strict";y(),Pl=class{constructor(){this.files=[],this.values=Object.create(null)}get all(){return this._all||(this._all=this.files.reduce((t,e)=>Object.assign(t,this.values[e]),{})),this._all}addFile(t){if(!(t in this.values)){let e=Re(this.files);this.values[t]=e?Object.create(this.values[e]):{},this.files.push(t)}return this.values[t]}addValue(t,e,r){let s=this.addFile(t);s.hasOwnProperty(e)?Array.isArray(s[e])?s[e].push(r):s[e]=[s[e],r]:s[e]=r,this._all=void 0}}}});function Rs(t,e){return typeof t=="string"&&Gs.hasOwnProperty(t)?t:e}function Lm(t,e,r,s){let i=["config",`--${s}`];return r&&i.push("--add"),i.push(t,e),{commands:i,format:"utf-8",parser(n){return n}}}function Nm(t,e){let r=["config","--null","--show-origin","--get-all",t];return e&&r.splice(1,0,`--${e}`),{commands:r,format:"utf-8",parser(s){return Im(s,t)}}}function Bm(t){let e=["config","--list","--show-origin","--null"];return t&&e.push(`--${t}`),{commands:e,format:"utf-8",parser(r){return $m(r)}}}function Gm(){return{addConfig(t,e,...r){return this._runTask(Lm(t,e,r[0]===!0,Rs(r[1],"local")),R(arguments))},getConfig(t,e){return this._runTask(Nm(t,Rs(e,void 0)),R(arguments))},listConfig(...t){return this._runTask(Bm(Rs(t[0],void 0)),R(arguments))}}}var Gs,Ml=h({"src/lib/tasks/config.ts"(){"use strict";jm(),y(),Gs=(t=>(t.system="system",t.global="global",t.local="local",t.worktree="worktree",t))(Gs||{})}});function Um(t){return El.has(t)}var qs,El,Rl=h({"src/lib/tasks/diff-name-status.ts"(){"use strict";qs=(t=>(t.ADDED="A",t.COPIED="C",t.DELETED="D",t.MODIFIED="M",t.RENAMED="R",t.CHANGED="T",t.UNMERGED="U",t.UNKNOWN="X",t.BROKEN="B",t))(qs||{}),El=new Set(Object.values(qs))}});function Hm(...t){return new Al().param(...t)}function zm(t){let e=new Set,r={};return Ks(t,s=>{let[i,n,o]=s.split(He);e.add(i),(r[i]=r[i]||[]).push({line:S(n),path:i,preview:o})}),{paths:e,results:r}}function Vm(){return{grep(t){let e=R(arguments),r=U(arguments);for(let i of ql)if(r.includes(i))return this._runTask(H(`git.grep: use of "${i}" is not supported.`),e);typeof t=="string"&&(t=Hm().param(t));let s=["grep","--null","-n","--full-name",...r,...t];return this._runTask({commands:s,format:"utf-8",parser(i){return zm(i)}},e)}}}var ql,ot,bu,Al,Dl=h({"src/lib/tasks/grep.ts"(){"use strict";y(),q(),ql=["-h"],ot=Symbol("grepQuery"),Al=class{constructor(){this[bu]=[]}*[(bu=ot,Symbol.iterator)](){for(let t of this[ot])yield t}and(...t){return t.length&&this[ot].push("--and","(",...lt(t,"-e"),")"),this}param(...t){return this[ot].push(...lt(t,"-e")),this}}}}),$l={};A($l,{ResetMode:()=>zt,getResetMode:()=>Wm,resetTask:()=>Ym});function Ym(t,e){let r=["reset"];return Il(t)&&r.push(`--${t}`),r.push(...e),N(r)}function Wm(t){if(Il(t))return t;switch(typeof t){case"string":case"undefined":return"soft"}}function Il(t){return Fl.includes(t)}var zt,Fl,jl=h({"src/lib/tasks/reset.ts"(){"use strict";q(),zt=(t=>(t.MIXED="mixed",t.SOFT="soft",t.HARD="hard",t.MERGE="merge",t.KEEP="keep",t))(zt||{}),Fl=Array.from(Object.values(zt))}});function Jm(){return(0,Kt.default)("simple-git")}function vu(t,e,r){return!e||!String(e).replace(/\s*/,"")?r?(s,...i)=>{t(s,...i),r(s,...i)}:t:(s,...i)=>{t(`%s ${s}`,e,...i),r&&r(s,...i)}}function Km(t,e,{namespace:r}){if(typeof t=="string")return t;let s=e&&e.namespace||"";return s.startsWith(r)?s.substr(r.length+1):s||r}function ui(t,e,r,s=Jm()){let i=t&&`[${t}]`||"",n=[],o=typeof e=="string"?s.extend(e):e,a=Km(le(e,I),o,s);return l(r);function u(m,f){return _(n,ui(t,a.replace(/^[^:]+/,m),f,s))}function l(m){let f=m&&`[${m}]`||"",p=o&&vu(o,f)||qe,g=vu(s,`${i} ${f}`,p);return Object.assign(o?p:g,{label:t,sibling:u,info:g,step:l})}}var Ll=h({"src/lib/git-logger.ts"(){"use strict";y(),Kt.default.formatters.L=t=>String(ei(t)?t.length:"-"),Kt.default.formatters.B=t=>Buffer.isBuffer(t)?t.toString("utf8"):mt(t)}}),Gt,Us,Qm=h({"src/lib/runners/tasks-pending-queue.ts"(){"use strict";ke(),Ll(),Gt=class{constructor(t="GitExecutor"){this.logLabel=t,this._queue=new Map}withProgress(t){return this._queue.get(t)}createProgress(t){let e=Gt.getName(t.commands[0]),r=ui(this.logLabel,e);return{task:t,logger:r,name:e}}push(t){let e=this.createProgress(t);return e.logger("Adding task to the queue, commands = %o",t.commands),this._queue.set(t,e),e}fatal(t){for(let[e,{logger:r}]of Array.from(this._queue.entries()))e===t.task?(r.info("Failed %o",t),r("Fatal exception, any as-yet un-started tasks run through this executor will not be attempted")):r.info("A fatal exception occurred in a previous task, the queue has been purged: %o",t.message),this.complete(e);if(this._queue.size!==0)throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}complete(t){this.withProgress(t)&&this._queue.delete(t)}attempt(t){let e=this.withProgress(t);if(!e)throw new ve(void 0,"TasksPendingQueue: attempt called for an unknown task");return e.logger("Starting task"),e}static getName(t="empty"){return`task:${t}:${++Gt.counter}`}},Us=Gt,Us.counter=0}});function Ee(t,e){return{method:Zu(t.commands)||"",commands:e}}function Xm(t,e){return r=>{e("[ERROR] child process exception %o",r),t.push(Buffer.from(String(r.stack),"ascii"))}}function yu(t,e,r,s){return i=>{r("%s received %L bytes",e,i),s("%B",i),t.push(i)}}var Hs,Zm=h({"src/lib/runners/git-executor-chain.ts"(){"use strict";ke(),q(),y(),Qm(),Hs=class{constructor(t,e,r){this._executor=t,this._scheduler=e,this._plugins=r,this._chain=Promise.resolve(),this._queue=new Us}get cwd(){return this._cwd||this._executor.cwd}set cwd(t){this._cwd=t}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(t){return this._queue.push(t),this._chain=this._chain.then(()=>this.attemptTask(t))}attemptTask(t){return at(this,null,function*(){let e=yield this._scheduler.next(),r=()=>this._queue.complete(t);try{let{logger:s}=this._queue.attempt(t);return yield Tl(t)?this.attemptEmptyTask(t,s):this.attemptRemoteTask(t,s)}catch(s){throw this.onFatalException(t,s)}finally{r(),e()}})}onFatalException(t,e){let r=e instanceof ve?Object.assign(e,{task:t}):new ve(t,e&&String(e));return this._chain=Promise.resolve(),this._queue.fatal(r),r}attemptRemoteTask(t,e){return at(this,null,function*(){let r=this._plugins.exec("spawn.binary","",Ee(t,t.commands)),s=this._plugins.exec("spawn.args",[...t.commands],Ee(t,t.commands)),i=yield this.gitResponse(t,r,s,this.outputHandler,e.step("SPAWN")),n=yield this.handleTaskData(t,s,i,e.step("HANDLE"));return e("passing response to task's parser as a %s",t.format),xl(t)?Ls(t.parser,n):Ls(t.parser,n.asStrings())})}attemptEmptyTask(t,e){return at(this,null,function*(){return e("empty task bypassing child process to call to task's parser"),t.parser(this)})}handleTaskData(t,e,r,s){let{exitCode:i,rejection:n,stdOut:o,stdErr:a}=r;return new Promise((u,l)=>{s("Preparing to handle process response exitCode=%d stdOut=",i);let{error:m}=this._plugins.exec("task.error",{error:n},J(J({},Ee(t,e)),r));if(m&&t.onError)return s.info("exitCode=%s handling with custom error handler"),t.onError(r,m,f=>{s.info("custom error handler treated as success"),s("custom error returned a %s",mt(f)),u(new ht(Array.isArray(f)?Buffer.concat(f):f,Buffer.concat(a)))},l);if(m)return s.info("handling as error: exitCode=%s stdErr=%s rejection=%o",i,a.length,n),l(m);s.info("retrieving task output complete"),u(new ht(Buffer.concat(o),Buffer.concat(a)))})}gitResponse(t,e,r,s,i){return at(this,null,function*(){let n=i.sibling("output"),o=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:!0},Ee(t,t.commands));return new Promise(a=>{let u=[],l=[];i.info("%s %o",e,r),i("%O",o);let m=this._beforeSpawn(t,r);if(m)return a({stdOut:u,stdErr:l,exitCode:9901,rejection:m});this._plugins.exec("spawn.before",void 0,ut(J({},Ee(t,r)),{kill(p){m=p||m}}));let f=(0,Nl.spawn)(e,r,o);f.stdout.on("data",yu(u,"stdOut",i,n.step("stdOut"))),f.stderr.on("data",yu(l,"stdErr",i,n.step("stdErr"))),f.on("error",Xm(l,i)),s&&(i("Passing child process stdOut/stdErr to custom outputHandler"),s(e,f.stdout,f.stderr,[...r])),this._plugins.exec("spawn.after",void 0,ut(J({},Ee(t,r)),{spawned:f,close(p,g){a({stdOut:u,stdErr:l,exitCode:p,rejection:m||g})},kill(p){f.killed||(m=p,f.kill("SIGINT"))}}))})})}_beforeSpawn(t,e){let r;return this._plugins.exec("spawn.before",void 0,ut(J({},Ee(t,e)),{kill(s){r=s||r}})),r}}}}),Bl={};A(Bl,{GitExecutor:()=>Gl});var Gl,eg=h({"src/lib/runners/git-executor.ts"(){"use strict";Zm(),Gl=class{constructor(t,e,r){this.cwd=t,this._scheduler=e,this._plugins=r,this._chain=new Hs(this,this._scheduler,this._plugins)}chain(){return new Hs(this,this._scheduler,this._plugins)}push(t){return this._chain.push(t)}}}});function tg(t,e,r=qe){let s=n=>{r(null,n)},i=n=>{(n==null?void 0:n.task)===t&&r(n instanceof ft?rg(n):n,void 0)};e.then(s,i)}function rg(t){let e=s=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${s} should be GitResponseError.git.${s}, this will no longer be available in version 3`),e=qe};return Object.create(t,Object.getOwnPropertyNames(t.git).reduce(r,{}));function r(s,i){return i in t||(s[i]={enumerable:!1,configurable:!1,get(){return e(i),t.git[i]}}),s}}var sg=h({"src/lib/task-callback.ts"(){"use strict";ze(),y()}});function wu(t,e){return wl(r=>{if(!Qs(t))throw new Error(`Git.cwd: cannot change to non-directory "${t}"`);return(e||r).cwd=t})}var ig=h({"src/lib/tasks/change-working-directory.ts"(){"use strict";y(),q()}});function As(t){let e=["checkout",...t];return e[1]==="-b"&&e.includes("-B")&&(e[1]=tr(e,"-B")),N(e)}function ng(){return{checkout(){return this._runTask(As(U(arguments,1)),R(arguments))},checkoutBranch(t,e){return this._runTask(As(["-b",t,e,...U(arguments)]),R(arguments))},checkoutLocalBranch(t){return this._runTask(As(["-b",t,...U(arguments)]),R(arguments))}}}var og=h({"src/lib/tasks/checkout.ts"(){"use strict";y(),q()}});function ag(){return{count:0,garbage:0,inPack:0,packs:0,prunePackable:0,size:0,sizeGarbage:0,sizePack:0}}function ug(){return{countObjects(){return this._runTask({commands:["count-objects","--verbose"],format:"utf-8",parser(t){return z(ag(),[Ul],t)}})}}}var Ul,lg=h({"src/lib/tasks/count-objects.ts"(){"use strict";y(),Ul=new w(/([a-z-]+): (\d+)$/,(t,[e,r])=>{let s=rl(e);t.hasOwnProperty(s)&&(t[s]=S(r))})}});function cg(t){return z({author:null,branch:"",commit:"",root:!1,summary:{changes:0,insertions:0,deletions:0}},Hl,t)}var Hl,hg=h({"src/lib/parsers/parse-commit.ts"(){"use strict";y(),Hl=[new w(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,(t,[e,r,s])=>{t.branch=e,t.commit=s,t.root=!!r}),new w(/\s*Author:\s(.+)/i,(t,[e])=>{let r=e.split("<"),s=r.pop();!s||!s.includes("@")||(t.author={email:s.substr(0,s.length-1),name:r.join("<").trim()})}),new w(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,(t,[e,r,s])=>{t.summary.changes=parseInt(e,10)||0,t.summary.insertions=parseInt(r,10)||0,t.summary.deletions=parseInt(s,10)||0}),new w(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,(t,[e,r,s])=>{t.summary.changes=parseInt(e,10)||0;let i=parseInt(r,10)||0;s==="-"?t.summary.deletions=i:s==="+"&&(t.summary.insertions=i)})]}});function dg(t,e,r){return{commands:["-c","core.abbrev=40","commit",...lt(t,"-m"),...e,...r],format:"utf-8",parser:cg}}function fg(){return{commit(e,...r){let s=R(arguments),i=t(e)||dg(ue(e),ue(le(r[0],Jt,[])),[...le(r[1],gt,[]),...U(arguments,0,!0)]);return this._runTask(i,s)}};function t(e){return!Jt(e)&&H("git.commit: requires the commit message to be supplied as a string/string[]")}}var pg=h({"src/lib/tasks/commit.ts"(){"use strict";hg(),y(),q()}});function mg(){return{firstCommit(){return this._runTask(N(["rev-list","--max-parents=0","HEAD"],!0),R(arguments))}}}var gg=h({"src/lib/tasks/first-commit.ts"(){"use strict";y(),q()}});function bg(t,e){let r=["hash-object",t];return e&&r.push("-w"),N(r,!0)}var vg=h({"src/lib/tasks/hash-object.ts"(){"use strict";q()}});function yg(t,e,r){let s=String(r).trim(),i;if(i=zl.exec(s))return new Vt(t,e,!1,i[1]);if(i=Vl.exec(s))return new Vt(t,e,!0,i[1]);let n="",o=s.split(" ");for(;o.length;)if(o.shift()==="in"){n=o.join(" ");break}return new Vt(t,e,/^re/i.test(s),n)}var Vt,zl,Vl,wg=h({"src/lib/responses/InitSummary.ts"(){"use strict";Vt=class{constructor(t,e,r,s){this.bare=t,this.path=e,this.existing=r,this.gitDir=s}},zl=/^Init.+ repository in (.+)$/,Vl=/^Rein.+ in (.+)$/}});function _g(t){return t.includes(li)}function xg(t=!1,e,r){let s=["init",...r];return t&&!_g(s)&&s.splice(1,0,li),{commands:s,format:"utf-8",parser(i){return yg(s.includes("--bare"),e,i)}}}var li,Tg=h({"src/lib/tasks/init.ts"(){"use strict";wg(),li="--bare"}});function ci(t){for(let e=0;e<t.length;e++){let r=hi.exec(t[e]);if(r)return`--${r[1]}`}return""}function kg(t){return hi.test(t)}var hi,bt=h({"src/lib/args/log-format.ts"(){"use strict";hi=/^--(stat|numstat|name-only|name-status)(=|$)/}}),Yl,Sg=h({"src/lib/responses/DiffSummary.ts"(){"use strict";Yl=class{constructor(){this.changed=0,this.deletions=0,this.insertions=0,this.files=[]}}}});function Wl(t=""){let e=Jl[t];return r=>z(new Yl,e,r,!1)}var Ds,_u,xu,Tu,Jl,Kl=h({"src/lib/parsers/parse-diff-summary.ts"(){"use strict";bt(),Sg(),Rl(),y(),Ds=[new w(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/,(t,[e,r,s=""])=>{t.files.push({file:e.trim(),changes:S(r),insertions:s.replace(/[^+]/g,"").length,deletions:s.replace(/[^-]/g,"").length,binary:!1})}),new w(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)/,(t,[e,r,s])=>{t.files.push({file:e.trim(),before:S(r),after:S(s),binary:!0})}),new w(/(\d+) files? changed\s*((?:, \d+ [^,]+){0,2})/,(t,[e,r])=>{let s=/(\d+) i/.exec(r),i=/(\d+) d/.exec(r);t.changed=S(e),t.insertions=S(s==null?void 0:s[1]),t.deletions=S(i==null?void 0:i[1])})],_u=[new w(/(\d+)\t(\d+)\t(.+)$/,(t,[e,r,s])=>{let i=S(e),n=S(r);t.changed++,t.insertions+=i,t.deletions+=n,t.files.push({file:s,changes:i+n,insertions:i,deletions:n,binary:!1})}),new w(/-\t-\t(.+)$/,(t,[e])=>{t.changed++,t.files.push({file:e,after:0,before:0,binary:!0})})],xu=[new w(/(.+)$/,(t,[e])=>{t.changed++,t.files.push({file:e,changes:0,insertions:0,deletions:0,binary:!1})})],Tu=[new w(/([ACDMRTUXB])([0-9]{0,3})\t(.[^\t]*)(\t(.[^\t]*))?$/,(t,[e,r,s,i,n])=>{t.changed++,t.files.push({file:n??s,changes:0,status:nl(Um(e)&&e),insertions:0,deletions:0,binary:!1})})],Jl={"":Ds,"--stat":Ds,"--numstat":_u,"--name-status":Tu,"--name-only":xu}}});function Cg(t,e){return e.reduce((r,s,i)=>(r[s]=t[i]||"",r),Object.create({diff:null}))}function Ql(t=pi,e=Xl,r=""){let s=Wl(r);return function(i){let n=pt(i,!0,di).map(function(o){let a=o.trim().split(fi),u=Cg(a[0].trim().split(t),e);return a.length>1&&a[1].trim()&&(u.diff=s(a[1])),u});return{all:n,latest:n.length&&n[0]||null,total:n.length}}}var di,fi,pi,Xl,Zl=h({"src/lib/parsers/parse-list-log-summary.ts"(){"use strict";y(),Kl(),bt(),di="\xF2\xF2\xF2\xF2\xF2\xF2 ",fi=" \xF2\xF2",pi=" \xF2 ",Xl=["hash","date","message","refs","author_name","author_email"]}}),ec={};A(ec,{diffSummaryTask:()=>Og,validateLogFormatConfig:()=>nr});function Og(t){let e=ci(t),r=["diff"];return e===""&&(e="--stat",r.push("--stat=4096")),r.push(...t),nr(r)||{commands:r,format:"utf-8",parser:Wl(e)}}function nr(t){let e=t.filter(kg);if(e.length>1)return H(`Summary flags are mutually exclusive - pick one of ${e.join(",")}`);if(e.length&&t.includes("-z"))return H(`Summary flag ${e} parsing is not compatible with null termination option '-z'`)}var mi=h({"src/lib/tasks/diff.ts"(){"use strict";bt(),Kl(),q()}});function Pg(t,e){let r=[],s=[];return Object.keys(t).forEach(i=>{r.push(i),s.push(String(t[i]))}),[r,s.join(e)]}function Mg(t){return Object.keys(t).reduce((e,r)=>(r in zs||(e[r]=t[r]),e),{})}function tc(t={},e=[]){let r=le(t.splitter,I,pi),s=!Xs(t.format)&&t.format?t.format:{hash:"%H",date:t.strictDate===!1?"%ai":"%aI",message:"%s",refs:"%D",body:t.multiLine?"%B":"%b",author_name:t.mailMap!==!1?"%aN":"%an",author_email:t.mailMap!==!1?"%aE":"%ae"},[i,n]=Pg(s,r),o=[],a=[`--pretty=format:${di}${n}${fi}`,...e],u=t.n||t["max-count"]||t.maxCount;if(u&&a.push(`--max-count=${u}`),t.from||t.to){let l=t.symmetric!==!1?"...":"..";o.push(`${t.from||""}${l}${t.to||""}`)}return I(t.file)&&a.push("--follow",bm(t.file)),ti(Mg(t),a),{fields:i,splitter:r,commands:[...a,...o]}}function Eg(t,e,r){let s=Ql(t,e,ci(r));return{commands:["log",...r],format:"utf-8",parser:s}}function Rg(){return{log(...r){let s=R(arguments),i=tc(ri(arguments),le(arguments[0],gt)),n=e(...r)||nr(i.commands)||t(i);return this._runTask(n,s)}};function t(r){return Eg(r.splitter,r.fields,r.commands)}function e(r,s){return I(r)&&I(s)&&H("git.log(string, string) should be replaced with git.log({ from: string, to: string })")}}var zs,rc=h({"src/lib/tasks/log.ts"(){"use strict";bt(),dt(),Zl(),y(),q(),mi(),zs=(t=>(t[t["--pretty"]=0]="--pretty",t[t["max-count"]=1]="max-count",t[t.maxCount=2]="maxCount",t[t.n=3]="n",t[t.file=4]="file",t[t.format=5]="format",t[t.from=6]="from",t[t.to=7]="to",t[t.splitter=8]="splitter",t[t.symmetric=9]="symmetric",t[t.mailMap=10]="mailMap",t[t.multiLine=11]="multiLine",t[t.strictDate=12]="strictDate",t))(zs||{})}}),Yt,sc,qg=h({"src/lib/responses/MergeSummary.ts"(){"use strict";Yt=class{constructor(t,e=null,r){this.reason=t,this.file=e,this.meta=r}toString(){return`${this.file}:${this.reason}`}},sc=class{constructor(){this.conflicts=[],this.merges=[],this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){return this.conflicts.length?`CONFLICTS: ${this.conflicts.join(", ")}`:"OK"}}}}),Vs,ic,Ag=h({"src/lib/responses/PullSummary.ts"(){"use strict";Vs=class{constructor(){this.remoteMessages={all:[]},this.created=[],this.deleted=[],this.files=[],this.deletions={},this.insertions={},this.summary={changes:0,deletions:0,insertions:0}}},ic=class{constructor(){this.remote="",this.hash={local:"",remote:""},this.branch={local:"",remote:""},this.message=""}toString(){return this.message}}}});function $s(t){return t.objects=t.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function ku(t){let e=/^\s*(\d+)/.exec(t),r=/delta (\d+)/i.exec(t);return{count:S(e&&e[1]||"0"),delta:S(r&&r[1]||"0")}}var nc,Dg=h({"src/lib/parsers/parse-remote-objects.ts"(){"use strict";y(),nc=[new Te(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,(t,[e,r])=>{let s=e.toLowerCase(),i=$s(t.remoteMessages);Object.assign(i,{[s]:S(r)})}),new Te(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,(t,[e,r])=>{let s=e.toLowerCase(),i=$s(t.remoteMessages);Object.assign(i,{[s]:S(r)})}),new Te(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,(t,[e,r,s])=>{let i=$s(t.remoteMessages);i.total=ku(e),i.reused=ku(r),i.packReused=S(s)})]}});function oc(t,e){return z({remoteMessages:new uc},ac,e)}var ac,uc,lc=h({"src/lib/parsers/parse-remote-messages.ts"(){"use strict";y(),Dg(),ac=[new Te(/^remote:\s*(.+)$/,(t,[e])=>(t.remoteMessages.all.push(e.trim()),!1)),...nc,new Te([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],(t,[e])=>{t.remoteMessages.pullRequestUrl=e}),new Te([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],(t,[e,r,s])=>{t.remoteMessages.vulnerabilities={count:S(e),summary:r,url:s}})],uc=class{constructor(){this.all=[]}}}});function $g(t,e){let r=z(new ic,cc,[t,e]);return r.message&&r}var Su,Cu,Ou,Pu,cc,Mu,gi,hc=h({"src/lib/parsers/parse-pull.ts"(){"use strict";Ag(),y(),lc(),Su=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,Cu=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,Ou=/^(create|delete) mode \d+ (.+)/,Pu=[new w(Su,(t,[e,r,s])=>{t.files.push(e),r&&(t.insertions[e]=r.length),s&&(t.deletions[e]=s.length)}),new w(Cu,(t,[e,,r,,s])=>r!==void 0||s!==void 0?(t.summary.changes=+e||0,t.summary.insertions=+r||0,t.summary.deletions=+s||0,!0):!1),new w(Ou,(t,[e,r])=>{_(t.files,r),_(e==="create"?t.created:t.deleted,r)})],cc=[new w(/^from\s(.+)$/i,(t,[e])=>void(t.remote=e)),new w(/^fatal:\s(.+)$/,(t,[e])=>void(t.message=e)),new w(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,(t,[e,r,s,i])=>{t.branch.local=s,t.hash.local=e,t.branch.remote=i,t.hash.remote=r})],Mu=(t,e)=>z(new Vs,Pu,[t,e]),gi=(t,e)=>Object.assign(new Vs,Mu(t,e),oc(t,e))}}),Eu,dc,Ru,Ig=h({"src/lib/parsers/parse-merge.ts"(){"use strict";qg(),y(),hc(),Eu=[new w(/^Auto-merging\s+(.+)$/,(t,[e])=>{t.merges.push(e)}),new w(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,(t,[e,r])=>{t.conflicts.push(new Yt(e,r))}),new w(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,(t,[e,r,s])=>{t.conflicts.push(new Yt(e,r,{deleteRef:s}))}),new w(/^CONFLICT\s+\((.+)\):/,(t,[e])=>{t.conflicts.push(new Yt(e,null))}),new w(/^Automatic merge failed;\s+(.+)$/,(t,[e])=>{t.result=e})],dc=(t,e)=>Object.assign(Ru(t,e),gi(t,e)),Ru=t=>z(new sc,Eu,t)}});function qu(t){return t.length?{commands:["merge",...t],format:"utf-8",parser(e,r){let s=dc(e,r);if(s.failed)throw new ft(s);return s}}:H("Git.merge requires at least one option")}var Fg=h({"src/lib/tasks/merge.ts"(){"use strict";ze(),Ig(),q()}});function jg(t,e,r){let s=r.includes("deleted"),i=r.includes("tag")||/^refs\/tags/.test(t),n=!r.includes("new");return{deleted:s,tag:i,branch:!i,new:!n,alreadyUpdated:n,local:t,remote:e}}var Au,fc,Du,Lg=h({"src/lib/parsers/parse-push.ts"(){"use strict";y(),lc(),Au=[new w(/^Pushing to (.+)$/,(t,[e])=>{t.repo=e}),new w(/^updating local tracking ref '(.+)'/,(t,[e])=>{t.ref=ut(J({},t.ref||{}),{local:e})}),new w(/^[=*-]\s+([^:]+):(\S+)\s+\[(.+)]$/,(t,[e,r,s])=>{t.pushed.push(jg(e,r,s))}),new w(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,(t,[e,r,s])=>{t.branch=ut(J({},t.branch||{}),{local:e,remote:r,remoteName:s})}),new w(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,(t,[e,r,s,i])=>{t.update={head:{local:e,remote:r},hash:{from:s,to:i}}})],fc=(t,e)=>{let r=Du(t,e),s=oc(t,e);return J(J({},r),s)},Du=(t,e)=>z({pushed:[]},Au,[t,e])}}),pc={};A(pc,{pushTagsTask:()=>Ng,pushTask:()=>bi});function Ng(t={},e){return _(e,"--tags"),bi(t,e)}function bi(t={},e){let r=["push",...e];return t.branch&&r.splice(1,0,t.branch),t.remote&&r.splice(1,0,t.remote),tr(r,"-v"),_(r,"--verbose"),_(r,"--porcelain"),{commands:r,format:"utf-8",parser:fc}}var mc=h({"src/lib/tasks/push.ts"(){"use strict";Lg(),y()}});function Bg(){return{showBuffer(){let t=["show",...U(arguments,1)];return t.includes("--binary")||t.splice(1,0,"--binary"),this._runTask(_l(t),R(arguments))},show(){let t=["show",...U(arguments,1)];return this._runTask(N(t),R(arguments))}}}var Gg=h({"src/lib/tasks/show.ts"(){"use strict";y(),q()}}),$u,gc,Ug=h({"src/lib/responses/FileStatusSummary.ts"(){"use strict";$u=/^(.+) -> (.+)$/,gc=class{constructor(t,e,r){if(this.path=t,this.index=e,this.working_dir=r,e+r==="R"){let s=$u.exec(t)||[null,t,t];this.from=s[1]||"",this.path=s[2]||""}}}}});function Iu(t){let[e,r]=t.split(He);return{from:r||e,to:e}}function W(t,e,r){return[`${t}${e}`,r]}function Is(t,...e){return e.map(r=>W(t,r,(s,i)=>_(s.conflicted,i)))}function Hg(t,e){let r=e.trim();switch(" "){case r.charAt(2):return s(r.charAt(0),r.charAt(1),r.substr(3));case r.charAt(1):return s(" ",r.charAt(0),r.substr(2));default:return}function s(i,n,o){let a=`${i}${n}`,u=bc.get(a);u&&u(t,o),a!=="##"&&a!=="!!"&&t.files.push(new gc(o.replace(/\0.+$/,""),i,n))}}var Fu,bc,vc,zg=h({"src/lib/responses/StatusSummary.ts"(){"use strict";y(),Ug(),Fu=class{constructor(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.ignored=void 0,this.modified=[],this.renamed=[],this.files=[],this.staged=[],this.ahead=0,this.behind=0,this.current=null,this.tracking=null,this.detached=!1,this.isClean=()=>!this.files.length}},bc=new Map([W(" ","A",(t,e)=>_(t.created,e)),W(" ","D",(t,e)=>_(t.deleted,e)),W(" ","M",(t,e)=>_(t.modified,e)),W("A"," ",(t,e)=>_(t.created,e)&&_(t.staged,e)),W("A","M",(t,e)=>_(t.created,e)&&_(t.staged,e)&&_(t.modified,e)),W("D"," ",(t,e)=>_(t.deleted,e)&&_(t.staged,e)),W("M"," ",(t,e)=>_(t.modified,e)&&_(t.staged,e)),W("M","M",(t,e)=>_(t.modified,e)&&_(t.staged,e)),W("R"," ",(t,e)=>{_(t.renamed,Iu(e))}),W("R","M",(t,e)=>{let r=Iu(e);_(t.renamed,r),_(t.modified,r.to)}),W("!","!",(t,e)=>{_(t.ignored=t.ignored||[],e)}),W("?","?",(t,e)=>_(t.not_added,e)),...Is("A","A","U"),...Is("D","D","U"),...Is("U","A","D","U"),["##",(t,e)=>{let r=/ahead (\d+)/,s=/behind (\d+)/,i=/^(.+?(?=(?:\.{3}|\s|$)))/,n=/\.{3}(\S*)/,o=/\son\s([\S]+)$/,a;a=r.exec(e),t.ahead=a&&+a[1]||0,a=s.exec(e),t.behind=a&&+a[1]||0,a=i.exec(e),t.current=a&&a[1],a=n.exec(e),t.tracking=a&&a[1],a=o.exec(e),t.current=a&&a[1]||t.current,t.detached=/\(no branch\)/.test(e)}]]),vc=function(t){let e=t.split(He),r=new Fu;for(let s=0,i=e.length;s<i;){let n=e[s++].trim();n&&(n.charAt(0)==="R"&&(n+=He+(e[s++]||"")),Hg(r,n))}return r}}});function Vg(t){return{format:"utf-8",commands:["status","--porcelain","-b","-u","--null",...t.filter(r=>!yc.includes(r))],parser(r){return vc(r)}}}var yc,Yg=h({"src/lib/tasks/status.ts"(){"use strict";zg(),yc=["--null","-z"]}});function Qt(t=0,e=0,r=0,s="",i=!0){return Object.defineProperty({major:t,minor:e,patch:r,agent:s,installed:i},"toString",{value(){return`${this.major}.${this.minor}.${this.patch}`},configurable:!1,enumerable:!1})}function Wg(){return Qt(0,0,0,"",!1)}function Jg(){return{version(){return this._runTask({commands:["--version"],format:"utf-8",parser:Kg,onError(t,e,r,s){if(t.exitCode===-2)return r(Buffer.from(vi));s(e)}})}}}function Kg(t){return t===vi?Wg():z(Qt(0,0,0,t),wc,t)}var vi,wc,Qg=h({"src/lib/tasks/version.ts"(){"use strict";y(),vi="installed=false",wc=[new w(/version (\d+)\.(\d+)\.(\d+)(?:\s*\((.+)\))?/,(t,[e,r,s,i=""])=>{Object.assign(t,Qt(S(e),S(r),S(s),i))}),new w(/version (\d+)\.(\d+)\.(\D+)(.+)?$/,(t,[e,r,s,i=""])=>{Object.assign(t,Qt(S(e),S(r),s,i))})]}}),_c={};A(_c,{SimpleGitApi:()=>Ys});var Ys,Xg=h({"src/lib/simple-git-api.ts"(){"use strict";sg(),ig(),og(),lg(),pg(),Ml(),gg(),Dl(),vg(),Tg(),rc(),Fg(),mc(),Gg(),Yg(),q(),Qg(),y(),Ys=class{constructor(t){this._executor=t}_runTask(t,e){let r=this._executor.chain(),s=r.push(t);return e&&tg(t,s,e),Object.create(this,{then:{value:s.then.bind(s)},catch:{value:s.catch.bind(s)},_executor:{value:r}})}add(t){return this._runTask(N(["add",...ue(t)]),R(arguments))}cwd(t){let e=R(arguments);return typeof t=="string"?this._runTask(wu(t,this._executor),e):typeof(t==null?void 0:t.path)=="string"?this._runTask(wu(t.path,t.root&&this._executor||void 0),e):this._runTask(H("Git.cwd: workingDirectory must be supplied as a string"),e)}hashObject(t,e){return this._runTask(bg(t,e===!0),R(arguments))}init(t){return this._runTask(xg(t===!0,this._executor.cwd,U(arguments)),R(arguments))}merge(){return this._runTask(qu(U(arguments)),R(arguments))}mergeFromTo(t,e){return I(t)&&I(e)?this._runTask(qu([t,e,...U(arguments)]),R(arguments,!1)):this._runTask(H("Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings"))}outputHandler(t){return this._executor.outputHandler=t,this}push(){let t=bi({remote:le(arguments[0],I),branch:le(arguments[1],I)},U(arguments));return this._runTask(t,R(arguments))}stash(){return this._runTask(N(["stash",...U(arguments)]),R(arguments))}status(){return this._runTask(Vg(U(arguments)),R(arguments))}},Object.assign(Ys.prototype,ng(),fg(),Gm(),ug(),mg(),Vm(),Rg(),Bg(),Jg())}}),xc={};A(xc,{Scheduler:()=>kc});var ju,kc,Zg=h({"src/lib/runners/scheduler.ts"(){"use strict";y(),Ll(),ju=(()=>{let t=0;return()=>{t++;let{promise:e,done:r}=(0,Tc.createDeferred)();return{promise:e,done:r,id:t}}})(),kc=class{constructor(t=2){this.concurrency=t,this.logger=ui("","scheduler"),this.pending=[],this.running=[],this.logger("Constructed, concurrency=%s",t)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency){this.logger("Schedule attempt ignored, pending=%s running=%s concurrency=%s",this.pending.length,this.running.length,this.concurrency);return}let t=_(this.running,this.pending.shift());this.logger("Attempting id=%s",t.id),t.done(()=>{this.logger("Completing id=",t.id),tr(this.running,t),this.schedule()})}next(){let{promise:t,id:e}=_(this.pending,ju());return this.logger("Scheduling id=%s",e),this.schedule(),t}}}}),Sc={};A(Sc,{applyPatchTask:()=>eb});function eb(t,e){return N(["apply",...e,...t])}var tb=h({"src/lib/tasks/apply-patch.ts"(){"use strict";q()}});function rb(t,e){return{branch:t,hash:e,success:!0}}function sb(t){return{branch:t,hash:null,success:!1}}var Cc,ib=h({"src/lib/responses/BranchDeleteSummary.ts"(){"use strict";Cc=class{constructor(){this.all=[],this.branches={},this.errors=[]}get success(){return!this.errors.length}}}});function Oc(t,e){return e===1&&Ws.test(t)}var Lu,Ws,Nu,or,nb=h({"src/lib/parsers/parse-branch-delete.ts"(){"use strict";ib(),y(),Lu=/(\S+)\s+\(\S+\s([^)]+)\)/,Ws=/^error[^']+'([^']+)'/m,Nu=[new w(Lu,(t,[e,r])=>{let s=rb(e,r);t.all.push(s),t.branches[e]=s}),new w(Ws,(t,[e])=>{let r=sb(e);t.errors.push(r),t.all.push(r),t.branches[e]=r})],or=(t,e)=>z(new Cc,Nu,[t,e])}}),Pc,ob=h({"src/lib/responses/BranchSummary.ts"(){"use strict";Pc=class{constructor(){this.all=[],this.branches={},this.current="",this.detached=!1}push(t,e,r,s,i){t==="*"&&(this.detached=e,this.current=r),this.all.push(r),this.branches[r]={current:t==="*",linkedWorkTree:t==="+",name:r,commit:s,label:i}}}}});function Bu(t){return t?t.charAt(0):""}function Mc(t){return z(new Pc,Ec,t)}var Ec,ab=h({"src/lib/parsers/parse-branch.ts"(){"use strict";ob(),y(),Ec=[new w(/^([*+]\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,(t,[e,r,s,i])=>{t.push(Bu(e),!0,r,s,i)}),new w(new RegExp("^([*+]\\s)?(\\S+)\\s+([a-z0-9]+)\\s?(.*)$","s"),(t,[e,r,s,i])=>{t.push(Bu(e),!1,r,s,i)})]}}),Rc={};A(Rc,{branchLocalTask:()=>lb,branchTask:()=>ub,containsDeleteBranchCommand:()=>qc,deleteBranchTask:()=>hb,deleteBranchesTask:()=>cb});function qc(t){let e=["-d","-D","--delete"];return t.some(r=>e.includes(r))}function ub(t){let e=qc(t),r=["branch",...t];return r.length===1&&r.push("-a"),r.includes("-v")||r.splice(1,0,"-v"),{format:"utf-8",commands:r,parser(s,i){return e?or(s,i).all[0]:Mc(s)}}}function lb(){return{format:"utf-8",commands:["branch","-v"],parser:Mc}}function cb(t,e=!1){return{format:"utf-8",commands:["branch","-v",e?"-D":"-d",...t],parser(r,s){return or(r,s)},onError({exitCode:r,stdOut:s},i,n,o){if(!Oc(String(i),r))return o(i);n(s)}}}function hb(t,e=!1){let r={format:"utf-8",commands:["branch","-v",e?"-D":"-d",t],parser(s,i){return or(s,i).branches[t]},onError({exitCode:s,stdErr:i,stdOut:n},o,a,u){if(!Oc(String(o),s))return u(o);throw new ft(r.parser(ct(n),ct(i)),String(o))}};return r}var db=h({"src/lib/tasks/branch.ts"(){"use strict";ze(),nb(),ab(),y()}}),Ac,fb=h({"src/lib/responses/CheckIgnore.ts"(){"use strict";Ac=t=>t.split(/\n/g).map(e=>e.trim()).filter(e=>!!e)}}),Dc={};A(Dc,{checkIgnoreTask:()=>pb});function pb(t){return{commands:["check-ignore",...t],format:"utf-8",parser:Ac}}var mb=h({"src/lib/tasks/check-ignore.ts"(){"use strict";fb()}}),$c={};A($c,{cloneMirrorTask:()=>bb,cloneTask:()=>Ic});function gb(t){return/^--upload-pack(=|$)/.test(t)}function Ic(t,e,r){let s=["clone",...r];return I(t)&&s.push(t),I(e)&&s.push(e),s.find(gb)?H("git.fetch: potential exploit argument blocked."):N(s)}function bb(t,e,r){return _(r,"--mirror"),Ic(t,e,r)}var vb=h({"src/lib/tasks/clone.ts"(){"use strict";q(),y()}});function yb(t,e){return z({raw:t,remote:null,branches:[],tags:[],updated:[],deleted:[]},Fc,[t,e])}var Fc,wb=h({"src/lib/parsers/parse-fetch.ts"(){"use strict";y(),Fc=[new w(/From (.+)$/,(t,[e])=>{t.remote=e}),new w(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,(t,[e,r])=>{t.branches.push({name:e,tracking:r})}),new w(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,(t,[e,r])=>{t.tags.push({name:e,tracking:r})}),new w(/- \[deleted]\s+\S+\s*-> (.+)$/,(t,[e])=>{t.deleted.push({tracking:e})}),new w(/\s*([^.]+)\.\.(\S+)\s+(\S+)\s*-> (.+)$/,(t,[e,r,s,i])=>{t.updated.push({name:s,tracking:i,to:r,from:e})})]}}),jc={};A(jc,{fetchTask:()=>xb});function _b(t){return/^--upload-pack(=|$)/.test(t)}function xb(t,e,r){let s=["fetch",...r];return t&&e&&s.push(t,e),s.find(_b)?H("git.fetch: potential exploit argument blocked."):{commands:s,format:"utf-8",parser:yb}}var Tb=h({"src/lib/tasks/fetch.ts"(){"use strict";wb(),q()}});function kb(t){return z({moves:[]},Lc,t)}var Lc,Sb=h({"src/lib/parsers/parse-move.ts"(){"use strict";y(),Lc=[new w(/^Renaming (.+) to (.+)$/,(t,[e,r])=>{t.moves.push({from:e,to:r})})]}}),Nc={};A(Nc,{moveTask:()=>Cb});function Cb(t,e){return{commands:["mv","-v",...ue(t),e],format:"utf-8",parser:kb}}var Ob=h({"src/lib/tasks/move.ts"(){"use strict";Sb(),y()}}),Bc={};A(Bc,{pullTask:()=>Pb});function Pb(t,e,r){let s=["pull",...r];return t&&e&&s.splice(1,0,t,e),{commands:s,format:"utf-8",parser(i,n){return gi(i,n)},onError(i,n,o,a){let u=$g(ct(i.stdOut),ct(i.stdErr));if(u)return a(new ft(u));a(n)}}}var Mb=h({"src/lib/tasks/pull.ts"(){"use strict";ze(),hc(),y()}});function Eb(t){let e={};return Gc(t,([r])=>e[r]={name:r}),Object.values(e)}function Rb(t){let e={};return Gc(t,([r,s,i])=>{e.hasOwnProperty(r)||(e[r]={name:r,refs:{fetch:"",push:""}}),i&&s&&(e[r].refs[i.replace(/[^a-z]/g,"")]=s)}),Object.values(e)}function Gc(t,e){Ks(t,r=>e(r.split(/\s+/)))}var qb=h({"src/lib/responses/GetRemoteSummary.ts"(){"use strict";y()}}),Uc={};A(Uc,{addRemoteTask:()=>Ab,getRemotesTask:()=>Db,listRemotesTask:()=>$b,remoteTask:()=>Ib,removeRemoteTask:()=>Fb});function Ab(t,e,r){return N(["remote","add",...r,t,e])}function Db(t){let e=["remote"];return t&&e.push("-v"),{commands:e,format:"utf-8",parser:t?Rb:Eb}}function $b(t){let e=[...t];return e[0]!=="ls-remote"&&e.unshift("ls-remote"),N(e)}function Ib(t){let e=[...t];return e[0]!=="remote"&&e.unshift("remote"),N(e)}function Fb(t){return N(["remote","remove",t])}var jb=h({"src/lib/tasks/remote.ts"(){"use strict";qb(),q()}}),Hc={};A(Hc,{stashListTask:()=>Lb});function Lb(t={},e){let r=tc(t),s=["stash","list",...r.commands,...e],i=Ql(r.splitter,r.fields,ci(s));return nr(s)||{commands:s,format:"utf-8",parser:i}}var Nb=h({"src/lib/tasks/stash-list.ts"(){"use strict";bt(),Zl(),mi(),rc()}}),zc={};A(zc,{addSubModuleTask:()=>Bb,initSubModuleTask:()=>Gb,subModuleTask:()=>ar,updateSubModuleTask:()=>Ub});function Bb(t,e){return ar(["add",t,e])}function Gb(t){return ar(["init",...t])}function ar(t){let e=[...t];return e[0]!=="submodule"&&e.unshift("submodule"),N(e)}function Ub(t){return ar(["update",...t])}var Hb=h({"src/lib/tasks/sub-module.ts"(){"use strict";q()}});function zb(t,e){let r=isNaN(t),s=isNaN(e);return r!==s?r?1:-1:r?Vc(t,e):0}function Vc(t,e){return t===e?0:t>e?1:-1}function Vb(t){return t.trim()}function Ut(t){return typeof t=="string"&&parseInt(t.replace(/^\D+/g,""),10)||0}var Gu,Yc,Yb=h({"src/lib/responses/TagList.ts"(){"use strict";Gu=class{constructor(t,e){this.all=t,this.latest=e}},Yc=function(t,e=!1){let r=t.split(`
`).map(Vb).filter(Boolean);e||r.sort(function(i,n){let o=i.split("."),a=n.split(".");if(o.length===1||a.length===1)return zb(Ut(o[0]),Ut(a[0]));for(let u=0,l=Math.max(o.length,a.length);u<l;u++){let m=Vc(Ut(o[u]),Ut(a[u]));if(m)return m}return 0});let s=e?r[0]:[...r].reverse().find(i=>i.indexOf(".")>=0);return new Gu(r,s)}}}),Wc={};A(Wc,{addAnnotatedTagTask:()=>Kb,addTagTask:()=>Jb,tagListTask:()=>Wb});function Wb(t=[]){let e=t.some(r=>/^--sort=/.test(r));return{format:"utf-8",commands:["tag","-l",...t],parser(r){return Yc(r,e)}}}function Jb(t){return{format:"utf-8",commands:["tag",t],parser(){return{name:t}}}}function Kb(t,e){return{format:"utf-8",commands:["tag","-a","-m",e,t],parser(){return{name:t}}}}var Qb=h({"src/lib/tasks/tag.ts"(){"use strict";Yb()}}),Xb=mm({"src/git.js"(t,e){"use strict";var{GitExecutor:r}=(eg(),E(Bl)),{SimpleGitApi:s}=(Xg(),E(_c)),{Scheduler:i}=(Zg(),E(xc)),{configurationErrorTask:n}=(q(),E(Bs)),{asArray:o,filterArray:a,filterPrimitives:u,filterString:l,filterStringOrStringArray:m,filterType:f,getTrailingOptions:p,trailingFunctionArgument:g,trailingOptionsArgument:F}=(y(),E(hl)),{applyPatchTask:j}=(tb(),E(Sc)),{branchTask:C,branchLocalTask:D,deleteBranchesTask:K,deleteBranchTask:Ae}=(db(),E(Rc)),{checkIgnoreTask:De}=(mb(),E(Dc)),{checkIsRepoTask:_i}=(ml(),E(dl)),{cloneTask:Ye,cloneMirrorTask:ur}=(vb(),E($c)),{cleanWithOptionsTask:yt,isCleanOptionsArray:lr}=(Cl(),E(kl)),{diffSummaryTask:th}=(mi(),E(ec)),{fetchTask:rh}=(Tb(),E(jc)),{moveTask:sh}=(Ob(),E(Nc)),{pullTask:ih}=(Mb(),E(Bc)),{pushTagsTask:nh}=(mc(),E(pc)),{addRemoteTask:oh,getRemotesTask:ah,listRemotesTask:uh,remoteTask:lh,removeRemoteTask:ch}=(jb(),E(Uc)),{getResetMode:hh,resetTask:dh}=(jl(),E($l)),{stashListTask:fh}=(Nb(),E(Hc)),{addSubModuleTask:ph,initSubModuleTask:mh,subModuleTask:gh,updateSubModuleTask:bh}=(Hb(),E(zc)),{addAnnotatedTagTask:vh,addTagTask:yh,tagListTask:wh}=(Qb(),E(Wc)),{straightThroughBufferTask:_h,straightThroughStringTask:te}=(q(),E(Bs));function v(c,b){this._plugins=b,this._executor=new r(c.baseDir,new i(c.maxConcurrentProcesses),b),this._trimmed=c.trimmed}(v.prototype=Object.create(s.prototype)).constructor=v,v.prototype.customBinary=function(c){return this._plugins.reconfigure("binary",c),this},v.prototype.env=function(c,b){return arguments.length===1&&typeof c=="object"?this._executor.env=c:(this._executor.env=this._executor.env||{})[c]=b,this},v.prototype.stashList=function(c){return this._runTask(fh(F(arguments)||{},a(c)&&c||[]),g(arguments))};function xi(c,b,T,L){return typeof T!="string"?n(`git.${c}() requires a string 'repoPath'`):b(T,f(L,l),p(arguments))}v.prototype.clone=function(){return this._runTask(xi("clone",Ye,...arguments),g(arguments))},v.prototype.mirror=function(){return this._runTask(xi("mirror",ur,...arguments),g(arguments))},v.prototype.mv=function(c,b){return this._runTask(sh(c,b),g(arguments))},v.prototype.checkoutLatestTag=function(c){var b=this;return this.pull(function(){b.tags(function(T,L){b.checkout(L.latest,c)})})},v.prototype.pull=function(c,b,T,L){return this._runTask(ih(f(c,l),f(b,l),p(arguments)),g(arguments))},v.prototype.fetch=function(c,b){return this._runTask(rh(f(c,l),f(b,l),p(arguments)),g(arguments))},v.prototype.silent=function(c){return console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3"),this},v.prototype.tags=function(c,b){return this._runTask(wh(p(arguments)),g(arguments))},v.prototype.rebase=function(){return this._runTask(te(["rebase",...p(arguments)]),g(arguments))},v.prototype.reset=function(c){return this._runTask(dh(hh(c),p(arguments)),g(arguments))},v.prototype.revert=function(c){let b=g(arguments);return typeof c!="string"?this._runTask(n("Commit must be a string"),b):this._runTask(te(["revert",...p(arguments,0,!0),c]),b)},v.prototype.addTag=function(c){let b=typeof c=="string"?yh(c):n("Git.addTag requires a tag name");return this._runTask(b,g(arguments))},v.prototype.addAnnotatedTag=function(c,b){return this._runTask(vh(c,b),g(arguments))},v.prototype.deleteLocalBranch=function(c,b,T){return this._runTask(Ae(c,typeof b=="boolean"?b:!1),g(arguments))},v.prototype.deleteLocalBranches=function(c,b,T){return this._runTask(K(c,typeof b=="boolean"?b:!1),g(arguments))},v.prototype.branch=function(c,b){return this._runTask(C(p(arguments)),g(arguments))},v.prototype.branchLocal=function(c){return this._runTask(D(),g(arguments))},v.prototype.raw=function(c){let b=!Array.isArray(c),T=[].slice.call(b?arguments:c,0);for(let Q=0;Q<T.length&&b;Q++)if(!u(T[Q])){T.splice(Q,T.length-Q);break}T.push(...p(arguments,0,!0));var L=g(arguments);return T.length?this._runTask(te(T,this._trimmed),L):this._runTask(n("Raw: must supply one or more command to execute"),L)},v.prototype.submoduleAdd=function(c,b,T){return this._runTask(ph(c,b),g(arguments))},v.prototype.submoduleUpdate=function(c,b){return this._runTask(bh(p(arguments,!0)),g(arguments))},v.prototype.submoduleInit=function(c,b){return this._runTask(mh(p(arguments,!0)),g(arguments))},v.prototype.subModule=function(c,b){return this._runTask(gh(p(arguments)),g(arguments))},v.prototype.listRemote=function(){return this._runTask(uh(p(arguments)),g(arguments))},v.prototype.addRemote=function(c,b,T){return this._runTask(oh(c,b,p(arguments)),g(arguments))},v.prototype.removeRemote=function(c,b){return this._runTask(ch(c),g(arguments))},v.prototype.getRemotes=function(c,b){return this._runTask(ah(c===!0),g(arguments))},v.prototype.remote=function(c,b){return this._runTask(lh(p(arguments)),g(arguments))},v.prototype.tag=function(c,b){let T=p(arguments);return T[0]!=="tag"&&T.unshift("tag"),this._runTask(te(T),g(arguments))},v.prototype.updateServerInfo=function(c){return this._runTask(te(["update-server-info"]),g(arguments))},v.prototype.pushTags=function(c,b){let T=nh({remote:f(c,l)},p(arguments));return this._runTask(T,g(arguments))},v.prototype.rm=function(c){return this._runTask(te(["rm","-f",...o(c)]),g(arguments))},v.prototype.rmKeepLocal=function(c){return this._runTask(te(["rm","--cached",...o(c)]),g(arguments))},v.prototype.catFile=function(c,b){return this._catFile("utf-8",arguments)},v.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)},v.prototype._catFile=function(c,b){var T=g(b),L=["cat-file"],Q=b[0];if(typeof Q=="string")return this._runTask(n("Git.catFile: options must be supplied as an array of strings"),T);Array.isArray(Q)&&L.push.apply(L,Q);let cr=c==="buffer"?_h(L):te(L);return this._runTask(cr,T)},v.prototype.diff=function(c,b){let T=l(c)?n("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):te(["diff",...p(arguments)]);return this._runTask(T,g(arguments))},v.prototype.diffSummary=function(){return this._runTask(th(p(arguments,1)),g(arguments))},v.prototype.applyPatch=function(c){let b=m(c)?j(o(c),p([].slice.call(arguments,1))):n("git.applyPatch requires one or more string patches as the first argument");return this._runTask(b,g(arguments))},v.prototype.revparse=function(){let c=["rev-parse",...p(arguments,!0)];return this._runTask(te(c,!0),g(arguments))},v.prototype.clean=function(c,b,T){let L=lr(c),Q=L&&c.join("")||f(c,l)||"",cr=p([].slice.call(arguments,L?1:0));return this._runTask(yt(Q,cr),g(arguments))},v.prototype.exec=function(c){let b={commands:[],format:"utf-8",parser(){typeof c=="function"&&c()}};return this._runTask(b)},v.prototype.clearQueue=function(){return this},v.prototype.checkIgnore=function(c,b){return this._runTask(De(o(f(c,m,[]))),g(arguments))},v.prototype.checkIsRepo=function(c,b){return this._runTask(_i(f(c,l)),g(arguments))},e.exports=v}});dt();ke();var Zb=class extends ve{constructor(t,e){super(void 0,e),this.config=t}};ke();ke();var be=class extends ve{constructor(t,e,r){super(t,r),this.task=t,this.plugin=e,Object.setPrototypeOf(this,new.target.prototype)}};ze();Ju();ml();Cl();Ml();Rl();Dl();jl();function ev(t){return t?[{type:"spawn.before",action(s,i){t.aborted&&i.kill(new be(void 0,"abort","Abort already signaled"))}},{type:"spawn.after",action(s,i){function n(){i.kill(new be(void 0,"abort","Abort signal received"))}t.addEventListener("abort",n),i.spawned.on("close",()=>t.removeEventListener("abort",n))}}]:void 0}function tv(t){return typeof t=="string"&&t.trim().toLowerCase()==="-c"}function rv(t,e){if(tv(t)&&/^\s*protocol(.[a-z]+)?.allow/.test(e))throw new be(void 0,"unsafe","Configuring protocol.allow is not permitted without enabling allowUnsafeExtProtocol")}function sv(t,e){if(/^\s*--(upload|receive)-pack/.test(t))throw new be(void 0,"unsafe","Use of --upload-pack or --receive-pack is not permitted without enabling allowUnsafePack");if(e==="clone"&&/^\s*-u\b/.test(t))throw new be(void 0,"unsafe","Use of clone with option -u is not permitted without enabling allowUnsafePack");if(e==="push"&&/^\s*--exec\b/.test(t))throw new be(void 0,"unsafe","Use of push with option --exec is not permitted without enabling allowUnsafePack")}function iv({allowUnsafeProtocolOverride:t=!1,allowUnsafePack:e=!1}={}){return{type:"spawn.args",action(r,s){return r.forEach((i,n)=>{let o=n<r.length?r[n+1]:"";t||rv(i,o),e||sv(i,s.method)}),r}}}y();function nv(t){let e=lt(t,"-c");return{type:"spawn.args",action(r){return[...e,...r]}}}y();var Uu=(0,Ue.deferred)().promise;function ov({onClose:t=!0,onExit:e=50}={}){function r(){let i=-1,n={close:(0,Ue.deferred)(),closeTimeout:(0,Ue.deferred)(),exit:(0,Ue.deferred)(),exitTimeout:(0,Ue.deferred)()},o=Promise.race([t===!1?Uu:n.closeTimeout.promise,e===!1?Uu:n.exitTimeout.promise]);return s(t,n.close,n.closeTimeout),s(e,n.exit,n.exitTimeout),{close(a){i=a,n.close.done()},exit(a){i=a,n.exit.done()},get exitCode(){return i},result:o}}function s(i,n,o){i!==!1&&(i===!0?n.promise:n.promise.then(()=>Fs(i))).then(o.done)}return{type:"spawn.after",action(i,n){return at(this,arguments,function*(o,{spawned:a,close:u}){var l,m;let f=r(),p=!0,g=()=>void(p=!1);(l=a.stdout)==null||l.on("data",g),(m=a.stderr)==null||m.on("data",g),a.on("error",g),a.on("close",F=>f.close(F)),a.on("exit",F=>f.exit(F));try{yield f.result,p&&(yield Fs(50)),u(f.exitCode)}catch(F){u(f.exitCode,F)}})}}}y();var av="Invalid value supplied for custom binary, requires a single string or an array containing either one or two strings",Hu="Invalid value supplied for custom binary, restricted characters must be removed or supply the unsafe.allowUnsafeCustomBinary option";function uv(t){return!t||!/^([a-z]:)?([a-z0-9/.\\_-]+)$/i.test(t)}function zu(t,e){if(t.length<1||t.length>2)throw new be(void 0,"binary",av);if(t.some(uv))if(e)console.warn(Hu);else throw new be(void 0,"binary",Hu);let[s,i]=t;return{binary:s,prefix:i}}function lv(t,e=["git"],r=!1){let s=zu(ue(e),r);t.on("binary",i=>{s=zu(ue(i),r)}),t.append("spawn.binary",()=>s.binary),t.append("spawn.args",i=>s.prefix?[s.prefix,...i]:i)}ke();function cv(t){return!!(t.exitCode&&t.stdErr.length)}function hv(t){return Buffer.concat([...t.stdOut,...t.stdErr])}function dv(t=!1,e=cv,r=hv){return(s,i)=>!t&&s||!e(i)?s:r(i)}function Vu(t){return{type:"task.error",action(e,r){let s=t(e.error,{stdErr:r.stdErr,stdOut:r.stdOut,exitCode:r.exitCode});return Buffer.isBuffer(s)?{error:new ve(void 0,s.toString("utf-8"))}:{error:s}}}}y();var fv=class{constructor(){this.plugins=new Set,this.events=new Jc.EventEmitter}on(t,e){this.events.on(t,e)}reconfigure(t,e){this.events.emit(t,e)}append(t,e){let r=_(this.plugins,{type:t,action:e});return()=>this.plugins.delete(r)}add(t){let e=[];return ue(t).forEach(r=>r&&this.plugins.add(_(e,r))),()=>{e.forEach(r=>this.plugins.delete(r))}}exec(t,e,r){let s=e,i=Object.freeze(Object.create(r));for(let n of this.plugins)n.type===t&&(s=n.action(s,i));return s}};y();function pv(t){let e="--progress",r=["checkout","clone","fetch","pull","push"];return[{type:"spawn.args",action(n,o){return r.includes(o.method)?tl(n,e):n}},{type:"spawn.after",action(n,o){var a;o.commands.includes(e)&&((a=o.spawned.stderr)==null||a.on("data",u=>{let l=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(u.toString("utf8"));l&&t({method:o.method,stage:mv(l[1]),progress:S(l[2]),processed:S(l[3]),total:S(l[4])})}))}}]}function mv(t){return String(t.toLowerCase().split(" ",1))||"unknown"}y();function gv(t){let e=il(t,["uid","gid"]);return{type:"spawn.options",action(r){return J(J({},e),r)}}}function bv({block:t,stdErr:e=!0,stdOut:r=!0}){if(t>0)return{type:"spawn.after",action(s,i){var n,o;let a;function u(){a&&clearTimeout(a),a=setTimeout(m,t)}function l(){var f,p;(f=i.spawned.stdout)==null||f.off("data",u),(p=i.spawned.stderr)==null||p.off("data",u),i.spawned.off("exit",l),i.spawned.off("close",l),a&&clearTimeout(a)}function m(){l(),i.kill(new be(void 0,"timeout","block timeout reached"))}r&&((n=i.spawned.stdout)==null||n.on("data",u)),e&&((o=i.spawned.stderr)==null||o.on("data",u)),i.spawned.on("exit",l),i.spawned.on("close",l),u()}}}dt();function vv(){return{type:"spawn.args",action(t){let e=[],r;function s(i){(r=r||[]).push(...i)}for(let i=0;i<t.length;i++){let n=t[i];if(Wt(n)){s(gu(n));continue}if(n==="--"){s(t.slice(i+1).flatMap(o=>Wt(o)&&gu(o)||o));break}e.push(n)}return r?[...e,"--",...r.map(String)]:e}}}y();var yv=Xb();function wv(t,e){var r;let s=new fv,i=ll(t&&(typeof t=="string"?{baseDir:t}:t)||{},e);if(!Qs(i.baseDir))throw new Zb(i,"Cannot use simple-git on a directory that does not exist");return Array.isArray(i.config)&&s.add(nv(i.config)),s.add(iv(i.unsafe)),s.add(vv()),s.add(ov(i.completion)),i.abort&&s.add(ev(i.abort)),i.progress&&s.add(pv(i.progress)),i.timeout&&s.add(bv(i.timeout)),i.spawnOptions&&s.add(gv(i.spawnOptions)),s.add(Vu(dv(!0))),i.errors&&s.add(Vu(i.errors)),lv(s,i.binary,(r=i.unsafe)==null?void 0:r.allowUnsafeCustomBinary),new yv(i,s)}ze();var Kc=wv;var _v="https://github.com/AlphaFoxz/create-github-pages-template",xv="https://gitee.com/AlphaFoxz/create-github-pages-template";async function yi(t,e,r="git",s="base"){let i=r==="git"?`${_v}-${t}`:`${xv}-${t}`,n=Kc(),o=!0;return await n.clone(i,e,["-b",s]).catch(a=>{console.error(a),o=!1}),o&&(await Tv(1e3),Xc.default.rmSync(Qc.default.join(e,".git"),{recursive:!0})),o}async function Tv(t){return new Promise(e=>setTimeout(e,t))}var vt=X(require("node:fs"),1),wi=X(require("node:path"),1);function Zc(t,e,r){e&&!e.startsWith("/")&&(e="/"+e);let s=kv(),i=s?`./${t}`:".",n=s?".":i,o=`# https://github.com/actions/deploy-pages#usage
# https://nuxt.com/deploy/github-pages
name: Deploy to GitHub Pages
on:
  workflow_dispatch:
  push:
    branches:
      - ${r}
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: corepack enable
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
      - name: Setup pnpm
        uses: pnpm/action-setup@v4
        with:
          version: 8
      # Pick your own package manager and build script
      - run: cd ${i} && pnpm install
      # Setup environment variables
      # NUXT_APP_BASE_URL is your GitHub Repo Name.
      - run: cd ${i} && echo 'NUXT_APP_BASE_URL=${e}' > ./.env
      # Build project
      - run: cd ${i} && pnpm build
      - name: Upload artifact \u{1F680}
        uses: actions/upload-pages-artifact@v3
        with:
          path: ${i}/.output/public

  # Deployment job
  deploy:
    # Add a dependency to the build job
    needs: build
    # Grant GITHUB_TOKEN the permissions required to make a Pages deployment
    permissions:
      pages: write # to deploy to Pages
      id-token: write # to verify the deployment originates from an appropriate source
    # Deploy to the github_pages environment
    environment:
      name: github_pages
      url: \${{ steps.deployment.outputs.page_url }}
    # Specify runner + deployment step
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
`,a=wi.default.join(n,".github","workflows");vt.default.mkdirSync(a,{recursive:!0});let u=wi.default.join(a,"github-pages.yml");vt.default.writeFileSync(u,o,"utf-8")}function kv(){return vt.default.existsSync("./.git")||vt.default.existsSync("./package.json")}var Ve=Oe.action.t;Sv().catch(t=>{console.error(t.message),console.error(Ve("signal.exitWithError"))});process.on("SIGINT",nt);async function Sv(){console.log(Ve("signal.scriptStarted"));let{template:t,folderName:e,prefix:r,branchName:s}=await nu();if(eh.default.existsSync(e))return console.error(Ve("message.error.duplicateFolder",{name:e})),!1;let i=await yi(t,`./${e}`,"git");return i||(console.warn(Ve("message.error.retryDownloadTemplate")),i=await yi(t,`./${e}`,"gitee")),i?(Zc(e,r,s),console.info(Ve("signal.exitWithSuccess")),!0):(console.error(Ve("message.error.downloadTemplate")),!1)}
