var od=Object.create;var Yi=Object.defineProperty;var ad=Object.getOwnPropertyDescriptor;var ud=Object.getOwnPropertyNames;var ld=Object.getPrototypeOf,cd=Object.prototype.hasOwnProperty;var g=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var hd=(r,e,s,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of ud(e))!cd.call(r,n)&&n!==s&&Yi(r,n,{get:()=>e[n],enumerable:!(i=ad(e,n))||i.enumerable});return r};var N=(r,e,s)=>(s=r!=null?od(ld(r)):{},hd(e||!r||!r.__esModule?Yi(s,"default",{value:r,enumerable:!0}):s,r));var E=g((xy,Ki)=>{"use strict";var{FORCE_COLOR:gd,NODE_DISABLE_COLORS:vd,TERM:bd}=process.env,T={enabled:!vd&&bd!=="dumb"&&gd!=="0",reset:S(0,0),bold:S(1,22),dim:S(2,22),italic:S(3,23),underline:S(4,24),inverse:S(7,27),hidden:S(8,28),strikethrough:S(9,29),black:S(30,39),red:S(31,39),green:S(32,39),yellow:S(33,39),blue:S(34,39),magenta:S(35,39),cyan:S(36,39),white:S(37,39),gray:S(90,39),grey:S(90,39),bgBlack:S(40,49),bgRed:S(41,49),bgGreen:S(42,49),bgYellow:S(43,49),bgBlue:S(44,49),bgMagenta:S(45,49),bgCyan:S(46,49),bgWhite:S(47,49)};function Ji(r,e){let s=0,i,n="",o="";for(;s<r.length;s++)i=r[s],n+=i.open,o+=i.close,e.includes(i.close)&&(e=e.replace(i.rgx,i.close+i.open));return n+e+o}function yd(r,e){let s={has:r,keys:e};return s.reset=T.reset.bind(s),s.bold=T.bold.bind(s),s.dim=T.dim.bind(s),s.italic=T.italic.bind(s),s.underline=T.underline.bind(s),s.inverse=T.inverse.bind(s),s.hidden=T.hidden.bind(s),s.strikethrough=T.strikethrough.bind(s),s.black=T.black.bind(s),s.red=T.red.bind(s),s.green=T.green.bind(s),s.yellow=T.yellow.bind(s),s.blue=T.blue.bind(s),s.magenta=T.magenta.bind(s),s.cyan=T.cyan.bind(s),s.white=T.white.bind(s),s.gray=T.gray.bind(s),s.grey=T.grey.bind(s),s.bgBlack=T.bgBlack.bind(s),s.bgRed=T.bgRed.bind(s),s.bgGreen=T.bgGreen.bind(s),s.bgYellow=T.bgYellow.bind(s),s.bgBlue=T.bgBlue.bind(s),s.bgMagenta=T.bgMagenta.bind(s),s.bgCyan=T.bgCyan.bind(s),s.bgWhite=T.bgWhite.bind(s),s}function S(r,e){let s={open:`\x1B[${r}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(i){return this!==void 0&&this.has!==void 0?(this.has.includes(r)||(this.has.push(r),this.keys.push(s)),i===void 0?this:T.enabled?Ji(this.keys,i+""):i+""):i===void 0?yd([r],[s]):T.enabled?Ji([s],i+""):i+""}}Ki.exports=T});var Qi=g((Ty,Zi)=>{"use strict";Zi.exports=(r,e)=>{if(!(r.meta&&r.name!=="escape")){if(r.ctrl){if(r.name==="a")return"first";if(r.name==="c"||r.name==="d")return"abort";if(r.name==="e")return"last";if(r.name==="g")return"reset"}if(e){if(r.name==="j")return"down";if(r.name==="k")return"up"}return r.name==="return"||r.name==="enter"?"submit":r.name==="backspace"?"delete":r.name==="delete"?"deleteForward":r.name==="abort"?"abort":r.name==="escape"?"exit":r.name==="tab"?"next":r.name==="pagedown"?"nextPage":r.name==="pageup"?"prevPage":r.name==="home"?"home":r.name==="end"?"end":r.name==="up"?"up":r.name==="down"?"down":r.name==="right"?"right":r.name==="left"?"left":!1}}});var At=g((ky,Xi)=>{"use strict";Xi.exports=r=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),s=new RegExp(e,"g");return typeof r=="string"?r.replace(s,""):r}});var M=g((Sy,en)=>{"use strict";var Rr="\x1B",R=`${Rr}[`,wd="\x07",Mr={to(r,e){return e?`${R}${e+1};${r+1}H`:`${R}${r+1}G`},move(r,e){let s="";return r<0?s+=`${R}${-r}D`:r>0&&(s+=`${R}${r}C`),e<0?s+=`${R}${-e}A`:e>0&&(s+=`${R}${e}B`),s},up:(r=1)=>`${R}${r}A`,down:(r=1)=>`${R}${r}B`,forward:(r=1)=>`${R}${r}C`,backward:(r=1)=>`${R}${r}D`,nextLine:(r=1)=>`${R}E`.repeat(r),prevLine:(r=1)=>`${R}F`.repeat(r),left:`${R}G`,hide:`${R}?25l`,show:`${R}?25h`,save:`${Rr}7`,restore:`${Rr}8`},_d={up:(r=1)=>`${R}S`.repeat(r),down:(r=1)=>`${R}T`.repeat(r)},xd={screen:`${R}2J`,up:(r=1)=>`${R}1J`.repeat(r),down:(r=1)=>`${R}J`.repeat(r),line:`${R}2K`,lineEnd:`${R}K`,lineStart:`${R}1K`,lines(r){let e="";for(let s=0;s<r;s++)e+=this.line+(s<r-1?Mr.up():"");return r&&(e+=Mr.left),e}};en.exports={cursor:Mr,scroll:_d,erase:xd,beep:wd}});var on=g((Cy,nn)=>{"use strict";function Td(r,e){var s=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!s){if(Array.isArray(r)||(s=kd(r))||e&&r&&typeof r.length=="number"){s&&(r=s);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,u;return{s:function(){s=s.call(r)},n:function(){var c=s.next();return o=c.done,c},e:function(c){a=!0,u=c},f:function(){try{!o&&s.return!=null&&s.return()}finally{if(a)throw u}}}}function kd(r,e){if(r){if(typeof r=="string")return tn(r,e);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return tn(r,e)}}function tn(r,e){(e==null||e>r.length)&&(e=r.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=r[s];return i}var Sd=At(),sn=M(),rn=sn.erase,Cd=sn.cursor,Od=r=>[...Sd(r)].length;nn.exports=function(r,e){if(!e)return rn.line+Cd.to(0);let s=0,i=r.split(/\r?\n/);var n=Td(i),o;try{for(n.s();!(o=n.n()).done;){let a=o.value;s+=1+Math.floor(Math.max(Od(a)-1,0)/e)}}catch(a){n.e(a)}finally{n.f()}return rn.lines(s)}});var Ar=g((Oy,an)=>{"use strict";var rt={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},Pd={arrowUp:rt.arrowUp,arrowDown:rt.arrowDown,arrowLeft:rt.arrowLeft,arrowRight:rt.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},Ed=process.platform==="win32"?Pd:rt;an.exports=Ed});var ln=g((Py,un)=>{"use strict";var Ue=E(),Ae=Ar(),Ir=Object.freeze({password:{scale:1,render:r=>"*".repeat(r.length)},emoji:{scale:2,render:r=>"\u{1F603}".repeat(r.length)},invisible:{scale:0,render:r=>""},default:{scale:1,render:r=>`${r}`}}),Rd=r=>Ir[r]||Ir.default,st=Object.freeze({aborted:Ue.red(Ae.cross),done:Ue.green(Ae.tick),exited:Ue.yellow(Ae.cross),default:Ue.cyan("?")}),Md=(r,e,s)=>e?st.aborted:s?st.exited:r?st.done:st.default,Ad=r=>Ue.gray(r?Ae.ellipsis:Ae.pointerSmall),Id=(r,e)=>Ue.gray(r?e?Ae.pointerSmall:"+":Ae.line);un.exports={styles:Ir,render:Rd,symbols:st,symbol:Md,delimiter:Ad,item:Id}});var hn=g((Ey,cn)=>{"use strict";var Fd=At();cn.exports=function(r,e){let s=String(Fd(r)||"").split(/\r?\n/);return e?s.map(i=>Math.ceil(i.length/e)).reduce((i,n)=>i+n):s.length}});var fn=g((Ry,dn)=>{"use strict";dn.exports=(r,e={})=>{let s=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(r||"").split(/\r?\n/g).map(n=>n.split(/\s+/g).reduce((o,a)=>(a.length+s.length>=i||o[o.length-1].length+a.length+1<i?o[o.length-1]+=` ${a}`:o.push(`${s}${a}`),o),[s]).join(`
`)).join(`
`)}});var mn=g((My,pn)=>{"use strict";pn.exports=(r,e,s)=>{s=s||e;let i=Math.min(e-s,r-Math.floor(s/2));i<0&&(i=0);let n=Math.min(i+s,e);return{startIndex:i,endIndex:n}}});var re=g((Ay,gn)=>{"use strict";gn.exports={action:Qi(),clear:on(),style:ln(),strip:At(),figures:Ar(),lines:hn(),wrap:fn(),entriesToDisplay:mn()}});var pe=g((Iy,yn)=>{"use strict";var vn=require("readline"),$d=re(),qd=$d.action,Dd=require("events"),bn=M(),jd=bn.beep,Ld=bn.cursor,Nd=E(),Fr=class extends Dd{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let s=vn.createInterface({input:this.in,escapeCodeTimeout:50});vn.emitKeypressEvents(this.in,s),this.in.isTTY&&this.in.setRawMode(!0);let i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,n=(o,a)=>{let u=qd(a,i);u===!1?this._&&this._(o,a):typeof this[u]=="function"?this[u](a):this.bell()};this.close=()=>{this.out.write(Ld.show),this.in.removeListener("keypress",n),this.in.isTTY&&this.in.setRawMode(!1),s.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",n)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(jd)}render(){this.onRender(Nd),this.firstRender&&(this.firstRender=!1)}};yn.exports=Fr});var kn=g((Fy,Tn)=>{"use strict";function wn(r,e,s,i,n,o,a){try{var u=r[o](a),l=u.value}catch(c){s(c);return}u.done?e(l):Promise.resolve(l).then(i,n)}function _n(r){return function(){var e=this,s=arguments;return new Promise(function(i,n){var o=r.apply(e,s);function a(l){wn(o,i,n,a,u,"next",l)}function u(l){wn(o,i,n,a,u,"throw",l)}a(void 0)})}}var It=E(),Bd=pe(),xn=M(),Gd=xn.erase,it=xn.cursor,Ft=re(),$r=Ft.style,qr=Ft.clear,Ud=Ft.lines,Vd=Ft.figures,Dr=class extends Bd{constructor(e={}){super(e),this.transform=$r.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=qr("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=It.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return _n(function*(){let s=yield e.validator(e.value);typeof s=="string"&&(e.errorMsg=s,s=!1),e.error=!s})()}submit(){var e=this;return _n(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,s){let i=this.value.slice(0,this.cursor),n=this.value.slice(this.cursor);this.value=`${i}${e}${n}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),s=this.value.slice(this.cursor);this.value=`${e}${s}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor+1);this.value=`${e}${s}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(it.down(Ud(this.outputError,this.out.columns)-1)+qr(this.outputError,this.out.columns)),this.out.write(qr(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[$r.symbol(this.done,this.aborted),It.bold(this.msg),$r.delimiter(this.done),this.red?It.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,s,i)=>e+`
${i?" ":Vd.pointerSmall} ${It.red().italic(s)}`,"")),this.out.write(Gd.line+it.to(0)+this.outputText+it.save+this.outputError+it.restore+it.move(this.cursorOffset,0)))}};Tn.exports=Dr});var Pn=g(($y,On)=>{"use strict";var me=E(),Hd=pe(),nt=re(),Sn=nt.style,Cn=nt.clear,$t=nt.figures,zd=nt.wrap,Yd=nt.entriesToDisplay,Wd=M(),Jd=Wd.cursor,jr=class extends Hd{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((s,i)=>(typeof s=="string"&&(s={title:s,value:i}),{title:s&&(s.title||s.value||s),value:s&&(s.value===void 0?i:s.value),description:s&&s.description,selected:s&&s.selected,disabled:s&&s.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Cn("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,s){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(Jd.hide):this.out.write(Cn(this.outputText,this.out.columns)),super.render();let e=Yd(this.cursor,this.choices.length,this.optionsPerPage),s=e.startIndex,i=e.endIndex;if(this.outputText=[Sn.symbol(this.done,this.aborted),me.bold(this.msg),Sn.delimiter(!1),this.done?this.selection.title:this.selection.disabled?me.yellow(this.warn):me.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let n=s;n<i;n++){let o,a,u="",l=this.choices[n];n===s&&s>0?a=$t.arrowUp:n===i-1&&i<this.choices.length?a=$t.arrowDown:a=" ",l.disabled?(o=this.cursor===n?me.gray().underline(l.title):me.strikethrough().gray(l.title),a=(this.cursor===n?me.bold().gray($t.pointer)+" ":"  ")+a):(o=this.cursor===n?me.cyan().underline(l.title):l.title,a=(this.cursor===n?me.cyan($t.pointer)+" ":"  ")+a,l.description&&this.cursor===n&&(u=` - ${l.description}`,(a.length+o.length+u.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(u=`
`+zd(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${a} ${o}${me.gray(u)}
`}}this.out.write(this.outputText)}};On.exports=jr});var Fn=g((qy,In)=>{"use strict";var qt=E(),Kd=pe(),Mn=re(),En=Mn.style,Zd=Mn.clear,An=M(),Rn=An.cursor,Qd=An.erase,Lr=class extends Kd{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,s){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(Rn.hide):this.out.write(Zd(this.outputText,this.out.columns)),super.render(),this.outputText=[En.symbol(this.done,this.aborted),qt.bold(this.msg),En.delimiter(this.done),this.value?this.inactive:qt.cyan().underline(this.inactive),qt.gray("/"),this.value?qt.cyan().underline(this.active):this.active].join(" "),this.out.write(Qd.line+Rn.to(0)+this.outputText))}};In.exports=Lr});var oe=g((Dy,$n)=>{"use strict";var Nr=class r{constructor({token:e,date:s,parts:i,locales:n}){this.token=e,this.date=s||new Date,this.parts=i||[this],this.locales=n||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((s,i)=>i>e&&s instanceof r)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),s=e.indexOf(this);return e.find((i,n)=>n>s&&i instanceof r)}toString(){return String(this.date)}};$n.exports=Nr});var Dn=g((jy,qn)=>{"use strict";var Xd=oe(),Br=class extends Xd{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};qn.exports=Br});var Ln=g((Ly,jn)=>{"use strict";var ef=oe(),tf=r=>(r=r%10,r===1?"st":r===2?"nd":r===3?"rd":"th"),Gr=class extends ef{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),s=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+tf(e):this.token==="d"?s+1:this.token==="ddd"?this.locales.weekdaysShort[s]:this.token==="dddd"?this.locales.weekdays[s]:e}};jn.exports=Gr});var Bn=g((Ny,Nn)=>{"use strict";var rf=oe(),Ur=class extends rf{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};Nn.exports=Ur});var Un=g((By,Gn)=>{"use strict";var sf=oe(),Vr=class extends sf{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Gn.exports=Vr});var Hn=g((Gy,Vn)=>{"use strict";var nf=oe(),Hr=class extends nf{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};Vn.exports=Hr});var Yn=g((Uy,zn)=>{"use strict";var of=oe(),zr=class extends of{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),s=this.token.length;return s===2?String(e+1).padStart(2,"0"):s===3?this.locales.monthsShort[e]:s===4?this.locales.months[e]:String(e+1)}};zn.exports=zr});var Jn=g((Vy,Wn)=>{"use strict";var af=oe(),Yr=class extends af{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Wn.exports=Yr});var Zn=g((Hy,Kn)=>{"use strict";var uf=oe(),Wr=class extends uf{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};Kn.exports=Wr});var Xn=g((zy,Qn)=>{"use strict";Qn.exports={DatePart:oe(),Meridiem:Dn(),Day:Ln(),Hours:Bn(),Milliseconds:Un(),Minutes:Hn(),Month:Yn(),Seconds:Jn(),Year:Zn()}});var lo=g((Yy,uo)=>{"use strict";function eo(r,e,s,i,n,o,a){try{var u=r[o](a),l=u.value}catch(c){s(c);return}u.done?e(l):Promise.resolve(l).then(i,n)}function to(r){return function(){var e=this,s=arguments;return new Promise(function(i,n){var o=r.apply(e,s);function a(l){eo(o,i,n,a,u,"next",l)}function u(l){eo(o,i,n,a,u,"throw",l)}a(void 0)})}}var Jr=E(),lf=pe(),Zr=re(),ro=Zr.style,so=Zr.clear,cf=Zr.figures,ao=M(),hf=ao.erase,io=ao.cursor,ge=Xn(),no=ge.DatePart,df=ge.Meridiem,ff=ge.Day,pf=ge.Hours,mf=ge.Milliseconds,gf=ge.Minutes,vf=ge.Month,bf=ge.Seconds,yf=ge.Year,wf=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,oo={1:({token:r})=>r.replace(/\\(.)/g,"$1"),2:r=>new ff(r),3:r=>new vf(r),4:r=>new yf(r),5:r=>new df(r),6:r=>new pf(r),7:r=>new gf(r),8:r=>new bf(r),9:r=>new mf(r)},_f={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},Kr=class extends lf{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(_f,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=so("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let s;for(this.parts=[];s=wf.exec(e);){let n=s.shift(),o=s.findIndex(a=>a!=null);this.parts.push(o in oo?oo[o]({token:s[o]||n,date:this.date,parts:this.parts,locales:this.locales}):s[o]||n)}let i=this.parts.reduce((n,o)=>(typeof o=="string"&&typeof n[n.length-1]=="string"?n[n.length-1]+=o:n.push(o),n),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof no)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return to(function*(){let s=yield e.validator(e.value);typeof s=="string"&&(e.errorMsg=s,s=!1),e.error=!s})()}submit(){var e=this;return to(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(s=>s instanceof no)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(io.hide):this.out.write(so(this.outputText,this.out.columns)),super.render(),this.outputText=[ro.symbol(this.done,this.aborted),Jr.bold(this.msg),ro.delimiter(!1),this.parts.reduce((e,s,i)=>e.concat(i===this.cursor&&!this.done?Jr.cyan().underline(s.toString()):s),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,s,i)=>e+`
${i?" ":cf.pointerSmall} ${Jr.red().italic(s)}`,"")),this.out.write(hf.line+io.to(0)+this.outputText))}};uo.exports=Kr});var vo=g((Wy,go)=>{"use strict";function co(r,e,s,i,n,o,a){try{var u=r[o](a),l=u.value}catch(c){s(c);return}u.done?e(l):Promise.resolve(l).then(i,n)}function ho(r){return function(){var e=this,s=arguments;return new Promise(function(i,n){var o=r.apply(e,s);function a(l){co(o,i,n,a,u,"next",l)}function u(l){co(o,i,n,a,u,"throw",l)}a(void 0)})}}var Dt=E(),xf=pe(),mo=M(),jt=mo.cursor,Tf=mo.erase,Lt=re(),Qr=Lt.style,kf=Lt.figures,fo=Lt.clear,Sf=Lt.lines,Cf=/[0-9]/,Xr=r=>r!==void 0,po=(r,e)=>{let s=Math.pow(10,e);return Math.round(r*s)/s},es=class extends xf{constructor(e={}){super(e),this.transform=Qr.render(e.style),this.msg=e.message,this.initial=Xr(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Xr(e.min)?e.min:-1/0,this.max=Xr(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=Dt.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${po(e,this.round)}`),this._value=po(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||Cf.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return ho(function*(){let s=yield e.validator(e.value);typeof s=="string"&&(e.errorMsg=s,s=!1),e.error=!s})()}submit(){var e=this;return ho(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let s=e.value;e.value=s!==""?s:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,s){if(!this.valid(e))return this.bell();let i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=i,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(jt.down(Sf(this.outputError,this.out.columns)-1)+fo(this.outputError,this.out.columns)),this.out.write(fo(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Qr.symbol(this.done,this.aborted),Dt.bold(this.msg),Qr.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Dt[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,s,i)=>e+`
${i?" ":kf.pointerSmall} ${Dt.red().italic(s)}`,"")),this.out.write(Tf.line+jt.to(0)+this.outputText+jt.save+this.outputError+jt.restore))}};go.exports=es});var rs=g((Jy,wo)=>{"use strict";var ae=E(),Of=M(),Pf=Of.cursor,Ef=pe(),ot=re(),bo=ot.clear,Te=ot.figures,yo=ot.style,Rf=ot.wrap,Mf=ot.entriesToDisplay,ts=class extends Ef{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((s,i)=>(typeof s=="string"&&(s={title:s,value:i}),{title:s&&(s.title||s.value||s),description:s&&s.description,value:s&&(s.value===void 0?i:s.value),selected:s&&s.selected,disabled:s&&s.disabled})),this.clear=bo("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(s=>s.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(s=>s.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(s=>!s.disabled).forEach(s=>s.selected=e),this.render()}_(e,s){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Te.arrowUp}/${Te.arrowDown}: Highlight option
    ${Te.arrowLeft}/${Te.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,s,i,n){let o=(s.selected?ae.green(Te.radioOn):Te.radioOff)+" "+n+" ",a,u;return s.disabled?a=e===i?ae.gray().underline(s.title):ae.strikethrough().gray(s.title):(a=e===i?ae.cyan().underline(s.title):s.title,e===i&&s.description&&(u=` - ${s.description}`,(o.length+a.length+u.length>=this.out.columns||s.description.split(/\r?\n/).length>1)&&(u=`
`+Rf(s.description,{margin:o.length,width:this.out.columns})))),o+a+ae.gray(u||"")}paginateOptions(e){if(e.length===0)return ae.red("No matches for this query.");let s=Mf(this.cursor,e.length,this.optionsPerPage),i=s.startIndex,n=s.endIndex,o,a=[];for(let u=i;u<n;u++)u===i&&i>0?o=Te.arrowUp:u===n-1&&n<e.length?o=Te.arrowDown:o=" ",a.push(this.renderOption(this.cursor,e[u],u,o));return`
`+a.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(s=>s.selected).map(s=>s.title).join(", ");let e=[ae.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(ae.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Pf.hide),super.render();let e=[yo.symbol(this.done,this.aborted),ae.bold(this.msg),yo.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=ae.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=bo(e,this.out.columns)}};wo.exports=ts});var Oo=g((Ky,Co)=>{"use strict";function _o(r,e,s,i,n,o,a){try{var u=r[o](a),l=u.value}catch(c){s(c);return}u.done?e(l):Promise.resolve(l).then(i,n)}function Af(r){return function(){var e=this,s=arguments;return new Promise(function(i,n){var o=r.apply(e,s);function a(l){_o(o,i,n,a,u,"next",l)}function u(l){_o(o,i,n,a,u,"throw",l)}a(void 0)})}}var at=E(),If=pe(),So=M(),Ff=So.erase,xo=So.cursor,ut=re(),ss=ut.style,To=ut.clear,is=ut.figures,$f=ut.wrap,qf=ut.entriesToDisplay,ko=(r,e)=>r[e]&&(r[e].value||r[e].title||r[e]),Df=(r,e)=>r[e]&&(r[e].title||r[e].value||r[e]),jf=(r,e)=>{let s=r.findIndex(i=>i.value===e||i.title===e);return s>-1?s:void 0},ns=class extends If{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:jf(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=ss.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=To("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=ko(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var s=this;return Af(function*(){let i=s.completing=s.suggest(s.input,s.choices),n=yield i;if(s.completing!==i)return;s.suggestions=n.map((a,u,l)=>({title:Df(l,u),value:ko(l,u),description:a.description})),s.completing=!1;let o=Math.max(n.length-1,0);s.moveSelect(Math.min(o,s.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,s){let i=this.input.slice(0,this.cursor),n=this.input.slice(this.cursor);this.input=`${i}${e}${n}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),s=this.input.slice(this.cursor);this.input=`${e}${s}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor+1);this.input=`${e}${s}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,s,i,n){let o,a=i?is.arrowUp:n?is.arrowDown:" ",u=s?at.cyan().underline(e.title):e.title;return a=(s?at.cyan(is.pointer)+" ":"  ")+a,e.description&&(o=` - ${e.description}`,(a.length+u.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o=`
`+$f(e.description,{margin:3,width:this.out.columns}))),a+" "+u+at.gray(o||"")}render(){if(this.closed)return;this.firstRender?this.out.write(xo.hide):this.out.write(To(this.outputText,this.out.columns)),super.render();let e=qf(this.select,this.choices.length,this.limit),s=e.startIndex,i=e.endIndex;if(this.outputText=[ss.symbol(this.done,this.aborted,this.exited),at.bold(this.msg),ss.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let n=this.suggestions.slice(s,i).map((o,a)=>this.renderOption(o,this.select===a+s,a===0&&s>0,a+s===i-1&&i<this.choices.length)).join(`
`);this.outputText+=`
`+(n||at.gray(this.fallback.title))}this.out.write(Ff.line+xo.to(0)+this.outputText)}};Co.exports=ns});var Mo=g((Zy,Ro)=>{"use strict";var ve=E(),Lf=M(),Nf=Lf.cursor,Bf=rs(),as=re(),Po=as.clear,Eo=as.style,Ve=as.figures,os=class extends Bf{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=Po("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let s=this.filteredOptions.findIndex(i=>i===e);this.cursor=s<0?0:s,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(s=>s.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,s){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Ve.arrowUp}/${Ve.arrowDown}: Highlight option
    ${Ve.arrowLeft}/${Ve.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:ve.gray("Enter something to filter")}
`}renderOption(e,s,i){let n;return s.disabled?n=e===i?ve.gray().underline(s.title):ve.strikethrough().gray(s.title):n=e===i?ve.cyan().underline(s.title):s.title,(s.selected?ve.green(Ve.radioOn):Ve.radioOff)+"  "+n}renderDoneOrInstructions(){if(this.done)return this.value.filter(s=>s.selected).map(s=>s.title).join(", ");let e=[ve.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(ve.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Nf.hide),super.render();let e=[Eo.symbol(this.done,this.aborted),ve.bold(this.msg),Eo.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=ve.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=Po(e,this.out.columns)}};Ro.exports=os});var jo=g((Qy,Do)=>{"use strict";var Ao=E(),Gf=pe(),$o=re(),Io=$o.style,Uf=$o.clear,qo=M(),Vf=qo.erase,Fo=qo.cursor,us=class extends Gf{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,s){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Fo.hide):this.out.write(Uf(this.outputText,this.out.columns)),super.render(),this.outputText=[Io.symbol(this.done,this.aborted),Ao.bold(this.msg),Io.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:Ao.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Vf.line+Fo.to(0)+this.outputText))}};Do.exports=us});var No=g((Xy,Lo)=>{"use strict";Lo.exports={TextPrompt:kn(),SelectPrompt:Pn(),TogglePrompt:Fn(),DatePrompt:lo(),NumberPrompt:vo(),MultiselectPrompt:rs(),AutocompletePrompt:Oo(),AutocompleteMultiselectPrompt:Mo(),ConfirmPrompt:jo()}});var Go=g(Bo=>{"use strict";var V=Bo,Hf=No(),Nt=r=>r;function ue(r,e,s={}){return new Promise((i,n)=>{let o=new Hf[r](e),a=s.onAbort||Nt,u=s.onSubmit||Nt,l=s.onExit||Nt;o.on("state",e.onState||Nt),o.on("submit",c=>i(u(c))),o.on("exit",c=>i(l(c))),o.on("abort",c=>n(a(c)))})}V.text=r=>ue("TextPrompt",r);V.password=r=>(r.style="password",V.text(r));V.invisible=r=>(r.style="invisible",V.text(r));V.number=r=>ue("NumberPrompt",r);V.date=r=>ue("DatePrompt",r);V.confirm=r=>ue("ConfirmPrompt",r);V.list=r=>{let e=r.separator||",";return ue("TextPrompt",r,{onSubmit:s=>s.split(e).map(i=>i.trim())})};V.toggle=r=>ue("TogglePrompt",r);V.select=r=>ue("SelectPrompt",r);V.multiselect=r=>{r.choices=[].concat(r.choices||[]);let e=s=>s.filter(i=>i.selected).map(i=>i.value);return ue("MultiselectPrompt",r,{onAbort:e,onSubmit:e})};V.autocompleteMultiselect=r=>{r.choices=[].concat(r.choices||[]);let e=s=>s.filter(i=>i.selected).map(i=>i.value);return ue("AutocompleteMultiselectPrompt",r,{onAbort:e,onSubmit:e})};var zf=(r,e)=>Promise.resolve(e.filter(s=>s.title.slice(0,r.length).toLowerCase()===r.toLowerCase()));V.autocomplete=r=>(r.suggest=r.suggest||zf,r.choices=[].concat(r.choices||[]),ue("AutocompletePrompt",r))});var Ko=g((tw,Jo)=>{"use strict";function Uo(r,e){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),s.push.apply(s,i)}return s}function Vo(r){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Uo(Object(s),!0).forEach(function(i){Yf(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Uo(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}function Yf(r,e,s){return e in r?Object.defineProperty(r,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[e]=s,r}function Wf(r,e){var s=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!s){if(Array.isArray(r)||(s=Jf(r))||e&&r&&typeof r.length=="number"){s&&(r=s);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,u;return{s:function(){s=s.call(r)},n:function(){var c=s.next();return o=c.done,c},e:function(c){a=!0,u=c},f:function(){try{!o&&s.return!=null&&s.return()}finally{if(a)throw u}}}}function Jf(r,e){if(r){if(typeof r=="string")return Ho(r,e);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Ho(r,e)}}function Ho(r,e){(e==null||e>r.length)&&(e=r.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=r[s];return i}function zo(r,e,s,i,n,o,a){try{var u=r[o](a),l=u.value}catch(c){s(c);return}u.done?e(l):Promise.resolve(l).then(i,n)}function Yo(r){return function(){var e=this,s=arguments;return new Promise(function(i,n){var o=r.apply(e,s);function a(l){zo(o,i,n,a,u,"next",l)}function u(l){zo(o,i,n,a,u,"throw",l)}a(void 0)})}}var ls=Go(),Kf=["suggest","format","onState","validate","onRender","type"],Wo=()=>{};function ke(){return cs.apply(this,arguments)}function cs(){return cs=Yo(function*(r=[],{onSubmit:e=Wo,onCancel:s=Wo}={}){let i={},n=ke._override||{};r=[].concat(r);let o,a,u,l,c,f,h=function(){var P=Yo(function*(q,ee,Be=!1){if(!(!Be&&q.validate&&q.validate(ee)!==!0))return q.format?yield q.format(ee,i):ee});return function(ee,Be){return P.apply(this,arguments)}}();var p=Wf(r),v;try{for(p.s();!(v=p.n()).done;){a=v.value;var O=a;if(l=O.name,c=O.type,typeof c=="function"&&(c=yield c(o,Vo({},i),a),a.type=c),!!c){for(let P in a){if(Kf.includes(P))continue;let q=a[P];a[P]=typeof q=="function"?yield q(o,Vo({},i),f):q}if(f=a,typeof a.message!="string")throw new Error("prompt message is required");var L=a;if(l=L.name,c=L.type,ls[c]===void 0)throw new Error(`prompt type (${c}) is not defined`);if(n[a.name]!==void 0&&(o=yield h(a,n[a.name]),o!==void 0)){i[l]=o;continue}try{o=ke._injected?Zf(ke._injected,a.initial):yield ls[c](a),i[l]=o=yield h(a,o,!0),u=yield e(a,o,i)}catch{u=!(yield s(a,i))}if(u)return i}}}catch(P){p.e(P)}finally{p.f()}return i}),cs.apply(this,arguments)}function Zf(r,e){let s=r.shift();if(s instanceof Error)throw s;return s===void 0?e:s}function Qf(r){ke._injected=(ke._injected||[]).concat(r)}function Xf(r){ke._override=Object.assign({},r)}Jo.exports=Object.assign(ke,{prompt:ke,prompts:ls,inject:Qf,override:Xf})});var Qo=g((rw,Zo)=>{"use strict";Zo.exports=(r,e)=>{if(!(r.meta&&r.name!=="escape")){if(r.ctrl){if(r.name==="a")return"first";if(r.name==="c"||r.name==="d")return"abort";if(r.name==="e")return"last";if(r.name==="g")return"reset"}if(e){if(r.name==="j")return"down";if(r.name==="k")return"up"}return r.name==="return"||r.name==="enter"?"submit":r.name==="backspace"?"delete":r.name==="delete"?"deleteForward":r.name==="abort"?"abort":r.name==="escape"?"exit":r.name==="tab"?"next":r.name==="pagedown"?"nextPage":r.name==="pageup"?"prevPage":r.name==="home"?"home":r.name==="end"?"end":r.name==="up"?"up":r.name==="down"?"down":r.name==="right"?"right":r.name==="left"?"left":!1}}});var Bt=g((sw,Xo)=>{"use strict";Xo.exports=r=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),s=new RegExp(e,"g");return typeof r=="string"?r.replace(s,""):r}});var ra=g((iw,ta)=>{"use strict";var ep=Bt(),{erase:ea,cursor:tp}=M(),rp=r=>[...ep(r)].length;ta.exports=function(r,e){if(!e)return ea.line+tp.to(0);let s=0,i=r.split(/\r?\n/);for(let n of i)s+=1+Math.floor(Math.max(rp(n)-1,0)/e);return ea.lines(s)}});var hs=g((nw,sa)=>{"use strict";var lt={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},sp={arrowUp:lt.arrowUp,arrowDown:lt.arrowDown,arrowLeft:lt.arrowLeft,arrowRight:lt.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},ip=process.platform==="win32"?sp:lt;sa.exports=ip});var na=g((ow,ia)=>{"use strict";var He=E(),Ie=hs(),ds=Object.freeze({password:{scale:1,render:r=>"*".repeat(r.length)},emoji:{scale:2,render:r=>"\u{1F603}".repeat(r.length)},invisible:{scale:0,render:r=>""},default:{scale:1,render:r=>`${r}`}}),np=r=>ds[r]||ds.default,ct=Object.freeze({aborted:He.red(Ie.cross),done:He.green(Ie.tick),exited:He.yellow(Ie.cross),default:He.cyan("?")}),op=(r,e,s)=>e?ct.aborted:s?ct.exited:r?ct.done:ct.default,ap=r=>He.gray(r?Ie.ellipsis:Ie.pointerSmall),up=(r,e)=>He.gray(r?e?Ie.pointerSmall:"+":Ie.line);ia.exports={styles:ds,render:np,symbols:ct,symbol:op,delimiter:ap,item:up}});var aa=g((aw,oa)=>{"use strict";var lp=Bt();oa.exports=function(r,e){let s=String(lp(r)||"").split(/\r?\n/);return e?s.map(i=>Math.ceil(i.length/e)).reduce((i,n)=>i+n):s.length}});var la=g((uw,ua)=>{"use strict";ua.exports=(r,e={})=>{let s=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(r||"").split(/\r?\n/g).map(n=>n.split(/\s+/g).reduce((o,a)=>(a.length+s.length>=i||o[o.length-1].length+a.length+1<i?o[o.length-1]+=` ${a}`:o.push(`${s}${a}`),o),[s]).join(`
`)).join(`
`)}});var ha=g((lw,ca)=>{"use strict";ca.exports=(r,e,s)=>{s=s||e;let i=Math.min(e-s,r-Math.floor(s/2));i<0&&(i=0);let n=Math.min(i+s,e);return{startIndex:i,endIndex:n}}});var se=g((cw,da)=>{"use strict";da.exports={action:Qo(),clear:ra(),style:na(),strip:Bt(),figures:hs(),lines:aa(),wrap:la(),entriesToDisplay:ha()}});var be=g((hw,pa)=>{"use strict";var fa=require("readline"),{action:cp}=se(),hp=require("events"),{beep:dp,cursor:fp}=M(),pp=E(),fs=class extends hp{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let s=fa.createInterface({input:this.in,escapeCodeTimeout:50});fa.emitKeypressEvents(this.in,s),this.in.isTTY&&this.in.setRawMode(!0);let i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,n=(o,a)=>{let u=cp(a,i);u===!1?this._&&this._(o,a):typeof this[u]=="function"?this[u](a):this.bell()};this.close=()=>{this.out.write(fp.show),this.in.removeListener("keypress",n),this.in.isTTY&&this.in.setRawMode(!1),s.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",n)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(dp)}render(){this.onRender(pp),this.firstRender&&(this.firstRender=!1)}};pa.exports=fs});var ga=g((dw,ma)=>{var Gt=E(),mp=be(),{erase:gp,cursor:ht}=M(),{style:ps,clear:ms,lines:vp,figures:bp}=se(),gs=class extends mp{constructor(e={}){super(e),this.transform=ps.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=ms("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=Gt.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,s){let i=this.value.slice(0,this.cursor),n=this.value.slice(this.cursor);this.value=`${i}${e}${n}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),s=this.value.slice(this.cursor);this.value=`${e}${s}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor+1);this.value=`${e}${s}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ht.down(vp(this.outputError,this.out.columns)-1)+ms(this.outputError,this.out.columns)),this.out.write(ms(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[ps.symbol(this.done,this.aborted),Gt.bold(this.msg),ps.delimiter(this.done),this.red?Gt.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,s,i)=>e+`
${i?" ":bp.pointerSmall} ${Gt.red().italic(s)}`,"")),this.out.write(gp.line+ht.to(0)+this.outputText+ht.save+this.outputError+ht.restore+ht.move(this.cursorOffset,0)))}};ma.exports=gs});var wa=g((fw,ya)=>{"use strict";var ye=E(),yp=be(),{style:va,clear:ba,figures:Ut,wrap:wp,entriesToDisplay:_p}=se(),{cursor:xp}=M(),vs=class extends yp{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((s,i)=>(typeof s=="string"&&(s={title:s,value:i}),{title:s&&(s.title||s.value||s),value:s&&(s.value===void 0?i:s.value),description:s&&s.description,selected:s&&s.selected,disabled:s&&s.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=ba("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,s){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(xp.hide):this.out.write(ba(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:s}=_p(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[va.symbol(this.done,this.aborted),ye.bold(this.msg),va.delimiter(!1),this.done?this.selection.title:this.selection.disabled?ye.yellow(this.warn):ye.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let i=e;i<s;i++){let n,o,a="",u=this.choices[i];i===e&&e>0?o=Ut.arrowUp:i===s-1&&s<this.choices.length?o=Ut.arrowDown:o=" ",u.disabled?(n=this.cursor===i?ye.gray().underline(u.title):ye.strikethrough().gray(u.title),o=(this.cursor===i?ye.bold().gray(Ut.pointer)+" ":"  ")+o):(n=this.cursor===i?ye.cyan().underline(u.title):u.title,o=(this.cursor===i?ye.cyan(Ut.pointer)+" ":"  ")+o,u.description&&this.cursor===i&&(a=` - ${u.description}`,(o.length+n.length+a.length>=this.out.columns||u.description.split(/\r?\n/).length>1)&&(a=`
`+wp(u.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${n}${ye.gray(a)}
`}}this.out.write(this.outputText)}};ya.exports=vs});var ka=g((pw,Ta)=>{var Vt=E(),Tp=be(),{style:_a,clear:kp}=se(),{cursor:xa,erase:Sp}=M(),bs=class extends Tp{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,s){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(xa.hide):this.out.write(kp(this.outputText,this.out.columns)),super.render(),this.outputText=[_a.symbol(this.done,this.aborted),Vt.bold(this.msg),_a.delimiter(this.done),this.value?this.inactive:Vt.cyan().underline(this.inactive),Vt.gray("/"),this.value?Vt.cyan().underline(this.active):this.active].join(" "),this.out.write(Sp.line+xa.to(0)+this.outputText))}};Ta.exports=bs});var le=g((mw,Sa)=>{"use strict";var ys=class r{constructor({token:e,date:s,parts:i,locales:n}){this.token=e,this.date=s||new Date,this.parts=i||[this],this.locales=n||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((s,i)=>i>e&&s instanceof r)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),s=e.indexOf(this);return e.find((i,n)=>n>s&&i instanceof r)}toString(){return String(this.date)}};Sa.exports=ys});var Oa=g((gw,Ca)=>{"use strict";var Cp=le(),ws=class extends Cp{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};Ca.exports=ws});var Ea=g((vw,Pa)=>{"use strict";var Op=le(),Pp=r=>(r=r%10,r===1?"st":r===2?"nd":r===3?"rd":"th"),_s=class extends Op{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),s=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+Pp(e):this.token==="d"?s+1:this.token==="ddd"?this.locales.weekdaysShort[s]:this.token==="dddd"?this.locales.weekdays[s]:e}};Pa.exports=_s});var Ma=g((bw,Ra)=>{"use strict";var Ep=le(),xs=class extends Ep{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};Ra.exports=xs});var Ia=g((yw,Aa)=>{"use strict";var Rp=le(),Ts=class extends Rp{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Aa.exports=Ts});var $a=g((ww,Fa)=>{"use strict";var Mp=le(),ks=class extends Mp{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};Fa.exports=ks});var Da=g((_w,qa)=>{"use strict";var Ap=le(),Ss=class extends Ap{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),s=this.token.length;return s===2?String(e+1).padStart(2,"0"):s===3?this.locales.monthsShort[e]:s===4?this.locales.months[e]:String(e+1)}};qa.exports=Ss});var La=g((xw,ja)=>{"use strict";var Ip=le(),Cs=class extends Ip{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};ja.exports=Cs});var Ba=g((Tw,Na)=>{"use strict";var Fp=le(),Os=class extends Fp{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};Na.exports=Os});var Ua=g((kw,Ga)=>{"use strict";Ga.exports={DatePart:le(),Meridiem:Oa(),Day:Ea(),Hours:Ma(),Milliseconds:Ia(),Minutes:$a(),Month:Da(),Seconds:La(),Year:Ba()}});var Ka=g((Sw,Ja)=>{"use strict";var Ps=E(),$p=be(),{style:Va,clear:Ha,figures:qp}=se(),{erase:Dp,cursor:za}=M(),{DatePart:Ya,Meridiem:jp,Day:Lp,Hours:Np,Milliseconds:Bp,Minutes:Gp,Month:Up,Seconds:Vp,Year:Hp}=Ua(),zp=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Wa={1:({token:r})=>r.replace(/\\(.)/g,"$1"),2:r=>new Lp(r),3:r=>new Up(r),4:r=>new Hp(r),5:r=>new jp(r),6:r=>new Np(r),7:r=>new Gp(r),8:r=>new Vp(r),9:r=>new Bp(r)},Yp={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},Es=class extends $p{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(Yp,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Ha("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let s;for(this.parts=[];s=zp.exec(e);){let n=s.shift(),o=s.findIndex(a=>a!=null);this.parts.push(o in Wa?Wa[o]({token:s[o]||n,date:this.date,parts:this.parts,locales:this.locales}):s[o]||n)}let i=this.parts.reduce((n,o)=>(typeof o=="string"&&typeof n[n.length-1]=="string"?n[n.length-1]+=o:n.push(o),n),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof Ya)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(s=>s instanceof Ya)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(za.hide):this.out.write(Ha(this.outputText,this.out.columns)),super.render(),this.outputText=[Va.symbol(this.done,this.aborted),Ps.bold(this.msg),Va.delimiter(!1),this.parts.reduce((e,s,i)=>e.concat(i===this.cursor&&!this.done?Ps.cyan().underline(s.toString()):s),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,s,i)=>e+`
${i?" ":qp.pointerSmall} ${Ps.red().italic(s)}`,"")),this.out.write(Dp.line+za.to(0)+this.outputText))}};Ja.exports=Es});var eu=g((Cw,Xa)=>{var Ht=E(),Wp=be(),{cursor:zt,erase:Jp}=M(),{style:Rs,figures:Kp,clear:Za,lines:Zp}=se(),Qp=/[0-9]/,Ms=r=>r!==void 0,Qa=(r,e)=>{let s=Math.pow(10,e);return Math.round(r*s)/s},As=class extends Wp{constructor(e={}){super(e),this.transform=Rs.render(e.style),this.msg=e.message,this.initial=Ms(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Ms(e.min)?e.min:-1/0,this.max=Ms(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=Ht.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Qa(e,this.round)}`),this._value=Qa(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||Qp.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=e!==""?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,s){if(!this.valid(e))return this.bell();let i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=i,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(zt.down(Zp(this.outputError,this.out.columns)-1)+Za(this.outputError,this.out.columns)),this.out.write(Za(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Rs.symbol(this.done,this.aborted),Ht.bold(this.msg),Rs.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Ht[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,s,i)=>e+`
${i?" ":Kp.pointerSmall} ${Ht.red().italic(s)}`,"")),this.out.write(Jp.line+zt.to(0)+this.outputText+zt.save+this.outputError+zt.restore))}};Xa.exports=As});var Fs=g((Ow,su)=>{"use strict";var ce=E(),{cursor:Xp}=M(),em=be(),{clear:tu,figures:Se,style:ru,wrap:tm,entriesToDisplay:rm}=se(),Is=class extends em{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((s,i)=>(typeof s=="string"&&(s={title:s,value:i}),{title:s&&(s.title||s.value||s),description:s&&s.description,value:s&&(s.value===void 0?i:s.value),selected:s&&s.selected,disabled:s&&s.disabled})),this.clear=tu("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(s=>s.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(s=>s.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(s=>!s.disabled).forEach(s=>s.selected=e),this.render()}_(e,s){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Se.arrowUp}/${Se.arrowDown}: Highlight option
    ${Se.arrowLeft}/${Se.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,s,i,n){let o=(s.selected?ce.green(Se.radioOn):Se.radioOff)+" "+n+" ",a,u;return s.disabled?a=e===i?ce.gray().underline(s.title):ce.strikethrough().gray(s.title):(a=e===i?ce.cyan().underline(s.title):s.title,e===i&&s.description&&(u=` - ${s.description}`,(o.length+a.length+u.length>=this.out.columns||s.description.split(/\r?\n/).length>1)&&(u=`
`+tm(s.description,{margin:o.length,width:this.out.columns})))),o+a+ce.gray(u||"")}paginateOptions(e){if(e.length===0)return ce.red("No matches for this query.");let{startIndex:s,endIndex:i}=rm(this.cursor,e.length,this.optionsPerPage),n,o=[];for(let a=s;a<i;a++)a===s&&s>0?n=Se.arrowUp:a===i-1&&i<e.length?n=Se.arrowDown:n=" ",o.push(this.renderOption(this.cursor,e[a],a,n));return`
`+o.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(s=>s.selected).map(s=>s.title).join(", ");let e=[ce.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(ce.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Xp.hide),super.render();let e=[ru.symbol(this.done,this.aborted),ce.bold(this.msg),ru.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=ce.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=tu(e,this.out.columns)}};su.exports=Is});var uu=g((Pw,au)=>{"use strict";var dt=E(),sm=be(),{erase:im,cursor:iu}=M(),{style:$s,clear:nu,figures:qs,wrap:nm,entriesToDisplay:om}=se(),ou=(r,e)=>r[e]&&(r[e].value||r[e].title||r[e]),am=(r,e)=>r[e]&&(r[e].title||r[e].value||r[e]),um=(r,e)=>{let s=r.findIndex(i=>i.value===e||i.title===e);return s>-1?s:void 0},Ds=class extends sm{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:um(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=$s.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=nu("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=ou(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let s=this.completing=this.suggest(this.input,this.choices),i=await s;if(this.completing!==s)return;this.suggestions=i.map((o,a,u)=>({title:am(u,a),value:ou(u,a),description:o.description})),this.completing=!1;let n=Math.max(i.length-1,0);this.moveSelect(Math.min(n,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,s){let i=this.input.slice(0,this.cursor),n=this.input.slice(this.cursor);this.input=`${i}${e}${n}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),s=this.input.slice(this.cursor);this.input=`${e}${s}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor+1);this.input=`${e}${s}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,s,i,n){let o,a=i?qs.arrowUp:n?qs.arrowDown:" ",u=s?dt.cyan().underline(e.title):e.title;return a=(s?dt.cyan(qs.pointer)+" ":"  ")+a,e.description&&(o=` - ${e.description}`,(a.length+u.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o=`
`+nm(e.description,{margin:3,width:this.out.columns}))),a+" "+u+dt.gray(o||"")}render(){if(this.closed)return;this.firstRender?this.out.write(iu.hide):this.out.write(nu(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:s}=om(this.select,this.choices.length,this.limit);if(this.outputText=[$s.symbol(this.done,this.aborted,this.exited),dt.bold(this.msg),$s.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let i=this.suggestions.slice(e,s).map((n,o)=>this.renderOption(n,this.select===o+e,o===0&&e>0,o+e===s-1&&s<this.choices.length)).join(`
`);this.outputText+=`
`+(i||dt.gray(this.fallback.title))}this.out.write(im.line+iu.to(0)+this.outputText)}};au.exports=Ds});var du=g((Ew,hu)=>{"use strict";var we=E(),{cursor:lm}=M(),cm=Fs(),{clear:lu,style:cu,figures:ze}=se(),js=class extends cm{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=lu("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let s=this.filteredOptions.findIndex(i=>i===e);this.cursor=s<0?0:s,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(s=>s.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,s){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${ze.arrowUp}/${ze.arrowDown}: Highlight option
    ${ze.arrowLeft}/${ze.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:we.gray("Enter something to filter")}
`}renderOption(e,s,i){let n;return s.disabled?n=e===i?we.gray().underline(s.title):we.strikethrough().gray(s.title):n=e===i?we.cyan().underline(s.title):s.title,(s.selected?we.green(ze.radioOn):ze.radioOff)+"  "+n}renderDoneOrInstructions(){if(this.done)return this.value.filter(s=>s.selected).map(s=>s.title).join(", ");let e=[we.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(we.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(lm.hide),super.render();let e=[cu.symbol(this.done,this.aborted),we.bold(this.msg),cu.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=we.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=lu(e,this.out.columns)}};hu.exports=js});var vu=g((Rw,gu)=>{var fu=E(),hm=be(),{style:pu,clear:dm}=se(),{erase:fm,cursor:mu}=M(),Ls=class extends hm{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,s){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(mu.hide):this.out.write(dm(this.outputText,this.out.columns)),super.render(),this.outputText=[pu.symbol(this.done,this.aborted),fu.bold(this.msg),pu.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:fu.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(fm.line+mu.to(0)+this.outputText))}};gu.exports=Ls});var yu=g((Mw,bu)=>{"use strict";bu.exports={TextPrompt:ga(),SelectPrompt:wa(),TogglePrompt:ka(),DatePrompt:Ka(),NumberPrompt:eu(),MultiselectPrompt:Fs(),AutocompletePrompt:uu(),AutocompleteMultiselectPrompt:du(),ConfirmPrompt:vu()}});var _u=g(wu=>{"use strict";var H=wu,pm=yu(),Yt=r=>r;function he(r,e,s={}){return new Promise((i,n)=>{let o=new pm[r](e),a=s.onAbort||Yt,u=s.onSubmit||Yt,l=s.onExit||Yt;o.on("state",e.onState||Yt),o.on("submit",c=>i(u(c))),o.on("exit",c=>i(l(c))),o.on("abort",c=>n(a(c)))})}H.text=r=>he("TextPrompt",r);H.password=r=>(r.style="password",H.text(r));H.invisible=r=>(r.style="invisible",H.text(r));H.number=r=>he("NumberPrompt",r);H.date=r=>he("DatePrompt",r);H.confirm=r=>he("ConfirmPrompt",r);H.list=r=>{let e=r.separator||",";return he("TextPrompt",r,{onSubmit:s=>s.split(e).map(i=>i.trim())})};H.toggle=r=>he("TogglePrompt",r);H.select=r=>he("SelectPrompt",r);H.multiselect=r=>{r.choices=[].concat(r.choices||[]);let e=s=>s.filter(i=>i.selected).map(i=>i.value);return he("MultiselectPrompt",r,{onAbort:e,onSubmit:e})};H.autocompleteMultiselect=r=>{r.choices=[].concat(r.choices||[]);let e=s=>s.filter(i=>i.selected).map(i=>i.value);return he("AutocompleteMultiselectPrompt",r,{onAbort:e,onSubmit:e})};var mm=(r,e)=>Promise.resolve(e.filter(s=>s.title.slice(0,r.length).toLowerCase()===r.toLowerCase()));H.autocomplete=r=>(r.suggest=r.suggest||mm,r.choices=[].concat(r.choices||[]),he("AutocompletePrompt",r))});var ku=g((Iw,Tu)=>{"use strict";var Ns=_u(),gm=["suggest","format","onState","validate","onRender","type"],xu=()=>{};async function Ce(r=[],{onSubmit:e=xu,onCancel:s=xu}={}){let i={},n=Ce._override||{};r=[].concat(r);let o,a,u,l,c,f,h=async(p,v,O=!1)=>{if(!(!O&&p.validate&&p.validate(v)!==!0))return p.format?await p.format(v,i):v};for(a of r)if({name:l,type:c}=a,typeof c=="function"&&(c=await c(o,{...i},a),a.type=c),!!c){for(let p in a){if(gm.includes(p))continue;let v=a[p];a[p]=typeof v=="function"?await v(o,{...i},f):v}if(f=a,typeof a.message!="string")throw new Error("prompt message is required");if({name:l,type:c}=a,Ns[c]===void 0)throw new Error(`prompt type (${c}) is not defined`);if(n[a.name]!==void 0&&(o=await h(a,n[a.name]),o!==void 0)){i[l]=o;continue}try{o=Ce._injected?vm(Ce._injected,a.initial):await Ns[c](a),i[l]=o=await h(a,o,!0),u=await e(a,o,i)}catch{u=!await s(a,i)}if(u)return i}return i}function vm(r,e){let s=r.shift();if(s instanceof Error)throw s;return s===void 0?e:s}function bm(r){Ce._injected=(Ce._injected||[]).concat(r)}function ym(r){Ce._override=Object.assign({},r)}Tu.exports=Object.assign(Ce,{prompt:Ce,prompts:Ns,inject:bm,override:ym})});var Cu=g((Fw,Su)=>{function wm(r){r=(Array.isArray(r)?r:r.split(".")).map(Number);let e=0,s=process.versions.node.split(".").map(Number);for(;e<r.length;e++){if(s[e]>r[e])return!1;if(r[e]>s[e])return!0}return!1}Su.exports=wm("8.6.0")?Ko():ku()});var $u=g((Lw,Fu)=>{var We=1e3,Je=We*60,Ke=Je*60,$e=Ke*24,Pm=$e*7,Em=$e*365.25;Fu.exports=function(r,e){e=e||{};var s=typeof r;if(s==="string"&&r.length>0)return Rm(r);if(s==="number"&&isFinite(r))return e.long?Am(r):Mm(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function Rm(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var s=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return s*Em;case"weeks":case"week":case"w":return s*Pm;case"days":case"day":case"d":return s*$e;case"hours":case"hour":case"hrs":case"hr":case"h":return s*Ke;case"minutes":case"minute":case"mins":case"min":case"m":return s*Je;case"seconds":case"second":case"secs":case"sec":case"s":return s*We;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function Mm(r){var e=Math.abs(r);return e>=$e?Math.round(r/$e)+"d":e>=Ke?Math.round(r/Ke)+"h":e>=Je?Math.round(r/Je)+"m":e>=We?Math.round(r/We)+"s":r+"ms"}function Am(r){var e=Math.abs(r);return e>=$e?Qt(r,e,$e,"day"):e>=Ke?Qt(r,e,Ke,"hour"):e>=Je?Qt(r,e,Je,"minute"):e>=We?Qt(r,e,We,"second"):r+" ms"}function Qt(r,e,s,i){var n=e>=s*1.5;return Math.round(r/s)+" "+i+(n?"s":"")}});var Hs=g((Nw,qu)=>{function Im(r){s.debug=s,s.default=s,s.coerce=l,s.disable=o,s.enable=n,s.enabled=a,s.humanize=$u(),s.destroy=c,Object.keys(r).forEach(f=>{s[f]=r[f]}),s.names=[],s.skips=[],s.formatters={};function e(f){let h=0;for(let p=0;p<f.length;p++)h=(h<<5)-h+f.charCodeAt(p),h|=0;return s.colors[Math.abs(h)%s.colors.length]}s.selectColor=e;function s(f){let h,p=null,v,O;function L(...P){if(!L.enabled)return;let q=L,ee=Number(new Date),Be=ee-(h||ee);q.diff=Be,q.prev=h,q.curr=ee,h=ee,P[0]=s.coerce(P[0]),typeof P[0]!="string"&&P.unshift("%O");let Ge=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,(tt,Sr)=>{if(tt==="%%")return"%";Ge++;let Mt=s.formatters[Sr];if(typeof Mt=="function"){let Cr=P[Ge];tt=Mt.call(q,Cr),P.splice(Ge,1),Ge--}return tt}),s.formatArgs.call(q,P),(q.log||s.log).apply(q,P)}return L.namespace=f,L.useColors=s.useColors(),L.color=s.selectColor(f),L.extend=i,L.destroy=s.destroy,Object.defineProperty(L,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(v!==s.namespaces&&(v=s.namespaces,O=s.enabled(f)),O),set:P=>{p=P}}),typeof s.init=="function"&&s.init(L),L}function i(f,h){let p=s(this.namespace+(typeof h>"u"?":":h)+f);return p.log=this.log,p}function n(f){s.save(f),s.namespaces=f,s.names=[],s.skips=[];let h,p=(typeof f=="string"?f:"").split(/[\s,]+/),v=p.length;for(h=0;h<v;h++)p[h]&&(f=p[h].replace(/\*/g,".*?"),f[0]==="-"?s.skips.push(new RegExp("^"+f.slice(1)+"$")):s.names.push(new RegExp("^"+f+"$")))}function o(){let f=[...s.names.map(u),...s.skips.map(u).map(h=>"-"+h)].join(",");return s.enable(""),f}function a(f){if(f[f.length-1]==="*")return!0;let h,p;for(h=0,p=s.skips.length;h<p;h++)if(s.skips[h].test(f))return!1;for(h=0,p=s.names.length;h<p;h++)if(s.names[h].test(f))return!0;return!1}function u(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function l(f){return f instanceof Error?f.stack||f.message:f}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}qu.exports=Im});var Du=g((J,Xt)=>{J.formatArgs=$m;J.save=qm;J.load=Dm;J.useColors=Fm;J.storage=jm();J.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();J.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Fm(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function $m(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Xt.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let s=0,i=0;r[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(s++,n==="%c"&&(i=s))}),r.splice(i,0,e)}J.log=console.debug||console.log||(()=>{});function qm(r){try{r?J.storage.setItem("debug",r):J.storage.removeItem("debug")}catch{}}function Dm(){let r;try{r=J.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function jm(){try{return localStorage}catch{}}Xt.exports=Hs()(J);var{formatters:Lm}=Xt.exports;Lm.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Lu=g((Bw,ju)=>{"use strict";ju.exports=(r,e=process.argv)=>{let s=r.startsWith("-")?"":r.length===1?"-":"--",i=e.indexOf(s+r),n=e.indexOf("--");return i!==-1&&(n===-1||i<n)}});var Gu=g((Gw,Bu)=>{"use strict";var Nm=require("os"),Nu=require("tty"),Q=Lu(),{env:D}=process,Pe;Q("no-color")||Q("no-colors")||Q("color=false")||Q("color=never")?Pe=0:(Q("color")||Q("colors")||Q("color=true")||Q("color=always"))&&(Pe=1);"FORCE_COLOR"in D&&(D.FORCE_COLOR==="true"?Pe=1:D.FORCE_COLOR==="false"?Pe=0:Pe=D.FORCE_COLOR.length===0?1:Math.min(parseInt(D.FORCE_COLOR,10),3));function zs(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function Ys(r,e){if(Pe===0)return 0;if(Q("color=16m")||Q("color=full")||Q("color=truecolor"))return 3;if(Q("color=256"))return 2;if(r&&!e&&Pe===void 0)return 0;let s=Pe||0;if(D.TERM==="dumb")return s;if(process.platform==="win32"){let i=Nm.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in D)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(i=>i in D)||D.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in D)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(D.TEAMCITY_VERSION)?1:0;if(D.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in D){let i=parseInt((D.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(D.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(D.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(D.TERM)||"COLORTERM"in D?1:s}function Bm(r){let e=Ys(r,r&&r.isTTY);return zs(e)}Bu.exports={supportsColor:Bm,stdout:zs(Ys(!0,Nu.isatty(1))),stderr:zs(Ys(!0,Nu.isatty(2)))}});var Vu=g((j,tr)=>{var Gm=require("tty"),er=require("util");j.init=Jm;j.log=zm;j.formatArgs=Vm;j.save=Ym;j.load=Wm;j.useColors=Um;j.destroy=er.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");j.colors=[6,2,3,4,5,1];try{let r=Gu();r&&(r.stderr||r).level>=2&&(j.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}j.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let s=e.substring(6).toLowerCase().replace(/_([a-z])/g,(n,o)=>o.toUpperCase()),i=process.env[e];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),r[s]=i,r},{});function Um(){return"colors"in j.inspectOpts?!!j.inspectOpts.colors:Gm.isatty(process.stderr.fd)}function Vm(r){let{namespace:e,useColors:s}=this;if(s){let i=this.color,n="\x1B[3"+(i<8?i:"8;5;"+i),o=`  ${n};1m${e} \x1B[0m`;r[0]=o+r[0].split(`
`).join(`
`+o),r.push(n+"m+"+tr.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=Hm()+e+" "+r[0]}function Hm(){return j.inspectOpts.hideDate?"":new Date().toISOString()+" "}function zm(...r){return process.stderr.write(er.formatWithOptions(j.inspectOpts,...r)+`
`)}function Ym(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function Wm(){return process.env.DEBUG}function Jm(r){r.inspectOpts={};let e=Object.keys(j.inspectOpts);for(let s=0;s<e.length;s++)r.inspectOpts[e[s]]=j.inspectOpts[e[s]]}tr.exports=Hs()(j);var{formatters:Uu}=tr.exports;Uu.o=function(r){return this.inspectOpts.colors=this.useColors,er.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Uu.O=function(r){return this.inspectOpts.colors=this.useColors,er.inspect(r,this.inspectOpts)}});var Js=g((Uw,Ws)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ws.exports=Du():Ws.exports=Vu()});var Hu=g(K=>{"use strict";var Km=K&&K.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(K,"__esModule",{value:!0});var Zm=require("fs"),Qm=Km(Js()),Ze=Qm.default("@kwsites/file-exists");function Xm(r,e,s){Ze("checking %s",r);try{let i=Zm.statSync(r);return i.isFile()&&e?(Ze("[OK] path represents a file"),!0):i.isDirectory()&&s?(Ze("[OK] path represents a directory"),!0):(Ze("[FAIL] path represents something other than a file or directory"),!1)}catch(i){if(i.code==="ENOENT")return Ze("[FAIL] path is not accessible: %o",i),!1;throw Ze("[FATAL] %o",i),i}}function eg(r,e=K.READABLE){return Xm(r,(e&K.FILE)>0,(e&K.FOLDER)>0)}K.exists=eg;K.FILE=1;K.FOLDER=2;K.READABLE=K.FILE+K.FOLDER});var zu=g(rr=>{"use strict";function tg(r){for(var e in r)rr.hasOwnProperty(e)||(rr[e]=r[e])}Object.defineProperty(rr,"__esModule",{value:!0});tg(Hu())});var Zs=g(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.createDeferred=qe.deferred=void 0;function Ks(){let r,e,s="pending";return{promise:new Promise((n,o)=>{r=n,e=o}),done(n){s==="pending"&&(s="resolved",r(n))},fail(n){s==="pending"&&(s="rejected",e(n))},get fulfilled(){return s!=="pending"},get status(){return s}}}qe.deferred=Ks;qe.createDeferred=Ks;qe.default=Ks});var dd={"signal.scriptStarted":"===== \u7A0B\u5E8F\u5F00\u59CB\u6267\u884C =====","signal.exitWithError":"===== \u7A0B\u5E8F\u5F02\u5E38\u9000\u51FA =====","signal.exitWithSuccess":"===== \u7A0B\u5E8F\u6267\u884C\u6210\u529F =====","args.operationType":"\u8BF7\u9009\u62E9\u4E00\u4E2A\u672C\u6B21\u8981\u6267\u884C\u7684\u64CD\u4F5C\u7C7B\u578B","args.operationType.create":"\u521B\u5EFAGithub Pages","args.operationType.update":"\u68C0\u67E5\u5E76\u66F4\u65B0\u4EE3\u7801\u6A21\u677F","args.template":"\u8BF7\u9009\u62E9\u4E00\u4E2A\u6A21\u677F\uFF0C\u7528\u4E8E\u6E32\u67D3\u60A8\u7684markdown\u6587\u4EF6","args.folderName":"\u8BF7\u8F93\u5165\u6587\u4EF6\u5939\u540D\u79F0\uFF0C\u8FD9\u5C06\u5728\u5F53\u524D\u76EE\u5F55\u521B\u5EFA\u4E00\u4E2A\u6587\u4EF6\u5939\uFF0C\u7528\u4E8E\u521D\u59CB\u5316\u6587\u6863\u9879\u76EE","args.prefix":"\u8BF7\u8F93\u5165\u6B64\u9879\u76EE\u7684GitPages\u524D\u7F00\uFF08\u4ED3\u5E93\u540D\uFF09\uFF0C\u5982\uFF1A/ProjectName","args.branchName":"\u8BF7\u8F93\u5165\u89E6\u53D1git\u90E8\u7F72\u7684\u5206\u652F\u540D\u79F0","info.templateIsAlreadyUpdated":"\u6A21\u677F\u5DF2\u7ECF\u662F\u6700\u65B0\u7248\u672C\u7684\u4E86","error.duplicateFolder{name}":"\u540C\u540D\u6587\u4EF6\u5939\u6216\u6587\u4EF6\u5DF2\u5B58\u5728\uFF1A{name}","error.invalidFolder{name}":"\u65E0\u6548\u7684\u6587\u4EF6\u5939\uFF1A{name}","error.subtitle":"\u9519\u8BEF: ","error.userCancel":"\u7528\u6237\u7EC8\u6B62\u4E86\u811A\u672C\u6267\u884C","error.downloadTemplate":"\u4E0B\u8F7D\u6A21\u677F\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u60A8\u7684\u7F51\u7EDC","error.networkError":"\u7F51\u7EDC\u9519\u8BEF","error.networkError{info}":"\u7F51\u7EDC\u9519\u8BEF\uFF1A{info}","warn.retryDownloadTemplate":"\u4E0B\u8F7D\u6A21\u677F\u5931\u8D25\uFF0C\u5C1D\u8BD5\u4ECEgitee\u4E0B\u8F7D"},Wi=dd;var fd={"signal.scriptStarted":"===== Script start =====","signal.exitWithError":"===== Exit with error =====","signal.exitWithSuccess":"===== Program execution succeeded =====","args.operationType":"Select a operation whitch you want to execute","args.operationType.create":"Create Github Pages","args.operationType.update":"Check and update the code template","args.template":"Select a template to render your markdown files","args.folderName":"Input folder name, this will create a folder in the current directory to initialize the md project","args.prefix":"Input this project GitPages prefix (repository name), e.g.: /ProjectName","args.branchName":"Input branch name witch will trigger git deploy action","info.templateIsAlreadyUpdated":"The template is already updated to the latest version","error.duplicateFolder{name}":"Folder or file already exists: {name}","error.invalidFolder{name}":"Invalid folder: {name}","error.subtitle":"ERROR: ","error.userCancel":"User canceled","error.downloadTemplate":"Download Failed, please check your network","error.networkError":"Network error","error.networkError{info}":"Network error: {info}","warn.retryDownloadTemplate":"Download template failed, try to download from gitee"},Pr=fd;function Me(r){let e={value:r,_watchCallbacks:[]};return new Proxy(e,{get:(s,i)=>s[i],set:(s,i,n)=>{s[i]=n;for(let o of s._watchCallbacks)o(s[i],n);return!0}})}var Er=Me(Pr);function pd(r,e,s){let i=Er.value[r];return i||(typeof e=="string"?i=e:typeof s=="string"&&(i=s)),i?(typeof e=="object"&&(i=i.replace(/\{\s*([a-zA-z_]+)\s*\}/g,(n,o)=>String(e[o]))),i):""}function md(r){r==="zh"?Er.value=Wi:r==="en"&&(Er.value=Pr)}globalThis.t=pd;globalThis.updateLang=md;var gt=N(Cu(),1);var ie=N(require("node:fs"),1),Ou=N(require("node:path"),1);function Fe(){throw Error(t("error.userCancel"))}function Oe(r){throw new Error(r)}function ft(r){return ie.default.existsSync(r)&&ie.default.lstatSync(r).isDirectory()}function _m(r){return ie.default.existsSync(r)&&ie.default.lstatSync(r).isFile()}function Pu(r){return ie.default.readdirSync(r).length===0}function Wt(r,e=!1){ft(r)?(ie.default.readdirSync(r).forEach(s=>{let i=Ou.default.join(r,s);ie.default.lstatSync(i).isDirectory()?Wt(i,!0):ie.default.unlinkSync(i)}),e&&ie.default.rmdirSync(r)):_m?ie.default.unlinkSync(r):console.warn(t("error.invalidFolder{name}",{name:r}))}function Gs(r,e){let s=/[<>:"/\\|?*\x00-\x1F]/g,i=r.replace(s,"");return i=i.replace(/[. ]+$/,""),i.length===0?e:i}function xm(r){return/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][\da-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][\da-zA-Z-]*))*))?(?:\+([\da-zA-Z-]+(?:\.[\da-zA-Z-]+)*))?$/.test(r)}function Eu(r){return{isValid:xm(r),isOlderThan(e){return Bs(r,e)===-1},isNewerThan(e){return Bs(r,e)===1},isEqualTo(e){return Bs(r,e)===0}}}function Bs(r,e){let s=c=>{let[f,h]=c.split("-"),[p,v,O]=f.split(".").map(Number),L=h?h.split("."):[];return{major:p,minor:v,patch:O,pre:L}},i=c=>/\D/.test(c),n=(c,f)=>c>f?1:c<f?-1:0,o=(c,f)=>{for(let h=0;h<Math.max(c.length,f.length);h++){if(h>=c.length)return-1;if(h>=f.length)return 1;let p=/^\d+$/.test(c[h]),v=/^\d+$/.test(f[h]);if(p&&v){let O=n(+c[h],+f[h]);if(O!==0)return O}else{if(!p&&v)return 1;if(p&&!v)return-1;{let O=n(c[h],f[h]);if(O!==0)return O}}}return 0},a=s(r),u=s(e),l=n(a.major,u.major)||n(a.minor,u.minor)||n(a.patch,u.patch);return l!==0?l:!a.pre.length&&!u.pre.length?0:a.pre.length?u.pre.length?o(a.pre,u.pre):-1:1}function Ru(){return process.cwd()||__dirname}function Jt(r){return{template:r,map:{},set(s,i){return this.map[s]=i,this},toString(){let s=this.template;return Object.keys(this.map).forEach(i=>{let n=this.map[i],o=new RegExp(`\\{\\{${i}\\}\\}`,"g");s=s.replace(o,n)}),s}}}var Mu=N(require("node:path"),1),Us=Me(!1),Au=Me("create"),pt=Me({}),mt=Me({}),Iu=Mu.default.basename(Ru()),Kt=".github-pages",Zt="main";async function Tm(){let{lang:r}=await(0,gt.default)([{name:"lang",type:"select",message:"Choose The language during this creation process",choices:[{title:"English",value:"en"},{title:"\u4E2D\u6587",value:"zh"}]}],{onCancel:Fe});return updateLang(r),r}async function km(){let{operationType:r}=await(0,gt.default)([{name:"operationType",type:"select",message:t("args.operationType"),choices:[{title:t("args.operationType.create"),value:"create"},{title:t("args.operationType.update"),value:"update"}]}],{onCancel:Fe});return Au.value=r,r}async function Sm(){let{template:r,folderName:e,prefix:s,branchName:i}=await(0,gt.default)([{name:"template",type:"select",message:t("args.template"),choices:[{title:"Nuxt Content",value:"nuxt_content"}]},{name:"folderName",type:"text",message:t("args.folderName"),initial:Kt,onState:n=>Gs(n.value,Kt)},{name:"prefix",type:"text",message:t("args.prefix"),initial:`/${Iu}`,onState:n=>!n.value||/(\s|\/|\\)+/.test(n.value)?"":n.value},{name:"branchName",type:"text",message:t("args.branchName"),initial:Zt,onState:n=>n.value.trim()?n.value:Zt}],{onCancel:Fe});pt.value.template=r,pt.value.branchName=i,pt.value.prefix=s,pt.value.folderName=e}async function Cm(){let{template:r,folderName:e,prefix:s,branchName:i}=await(0,gt.default)([{name:"template",type:"select",message:t("args.template"),choices:[{title:"Nuxt Content",value:"nuxt_content"}]},{name:"folderName",type:"text",message:t("args.folderName"),initial:Kt,onState:n=>Gs(n.value,Kt)},{name:"prefix",type:"text",message:t("args.prefix"),initial:`/${Iu}`,onState:n=>!n.value||/(\s|\/|\\)+/.test(n.value)?"":n.value},{name:"branchName",type:"text",message:t("args.branchName"),initial:Zt,onState:n=>n.value.trim()?n.value:Zt}],{onCancel:Fe});mt.value.template=r,mt.value.branchName=i,mt.value.prefix=s,mt.value.folderName=e}async function Om(){if(Us.value)return;await Tm();let r=await km();r==="create"?await Sm():r==="update"?await Cm():void 0,Us.value=!0}function Ye(){return{action:{init:Om},state:{isReady:Us,currerntOperation:Au,createArgs:pt,updateArgs:mt}}}var Ui=N(require("node:fs"),1);var Ni=N(require("node:path"),1),Bi=N(require("node:fs"),1);var mr=N(zu(),1),hr=N(Js(),1),yc=require("child_process"),rh=N(Zs(),1),Qe=N(Zs(),1),Ph=require("node:events"),fr=Object.defineProperty,rg=Object.defineProperties,sg=Object.getOwnPropertyDescriptor,ig=Object.getOwnPropertyDescriptors,gi=Object.getOwnPropertyNames,Yu=Object.getOwnPropertySymbols,Cl=Object.prototype.hasOwnProperty,ng=Object.prototype.propertyIsEnumerable,Wu=(r,e,s)=>e in r?fr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s,X=(r,e)=>{for(var s in e||(e={}))Cl.call(e,s)&&Wu(r,s,e[s]);if(Yu)for(var s of Yu(e))ng.call(e,s)&&Wu(r,s,e[s]);return r},yt=(r,e)=>rg(r,ig(e)),m=(r,e)=>function(){return r&&(e=(0,r[gi(r)[0]])(r=0)),e},og=(r,e)=>function(){return e||(0,r[gi(r)[0]])((e={exports:{}}).exports,e),e.exports},$=(r,e)=>{for(var s in e)fr(r,s,{get:e[s],enumerable:!0})},ag=(r,e,s,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of gi(e))!Cl.call(r,n)&&n!==s&&fr(r,n,{get:()=>e[n],enumerable:!(i=sg(e,n))||i.enumerable});return r},A=r=>ag(fr({},"__esModule",{value:!0}),r),bt=(r,e,s)=>new Promise((i,n)=>{var o=l=>{try{u(s.next(l))}catch(c){n(c)}},a=l=>{try{u(s.throw(l))}catch(c){n(c)}},u=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,a);u((s=s.apply(r,e)).next())});function ug(...r){let e=new String(r);return pr.set(e,r),e}function lr(r){return r instanceof String&&pr.has(r)}function Ju(r){return pr.get(r)||[]}var pr,Tt=m({"src/lib/args/pathspec.ts"(){"use strict";pr=new WeakMap}}),xe,Re=m({"src/lib/errors/git-error.ts"(){"use strict";xe=class extends Error{constructor(r,e){super(e),this.task=r,Object.setPrototypeOf(this,new.target.prototype)}}}}),kt,et=m({"src/lib/errors/git-response-error.ts"(){"use strict";Re(),kt=class extends xe{constructor(r,e){super(void 0,e||String(r)),this.git=r}}}}),Ol,Pl=m({"src/lib/errors/task-configuration-error.ts"(){"use strict";Re(),Ol=class extends xe{constructor(r){super(void 0,r)}}}});function El(r){return typeof r=="function"?r:Le}function Rl(r){return typeof r=="function"&&r!==Le}function Ml(r,e){let s=r.indexOf(e);return s<=0?[r,""]:[r.substr(0,s),r.substr(s+1)]}function Al(r,e=0){return Il(r)&&r.length>e?r[e]:void 0}function je(r,e=0){if(Il(r)&&r.length>e)return r[r.length-1-e]}function Il(r){return!!(r&&typeof r.length=="number")}function St(r="",e=!0,s=`
`){return r.split(s).reduce((i,n)=>{let o=e?n.trim():n;return o&&i.push(o),i},[])}function vi(r,e){return St(r,!0).map(s=>e(s))}function bi(r){return(0,mr.exists)(r,mr.FOLDER)}function x(r,e){return Array.isArray(r)?r.includes(e)||r.push(e):r.add(e),e}function Fl(r,e){return Array.isArray(r)&&!r.includes(e)&&r.push(e),r}function gr(r,e){if(Array.isArray(r)){let s=r.indexOf(e);s>=0&&r.splice(s,1)}else r.delete(e);return e}function de(r){return Array.isArray(r)?r:[r]}function $l(r){return r.replace(/[\s-]+(.)/g,(e,s)=>s.toUpperCase())}function ql(r){return de(r).map(String)}function C(r,e=0){if(r==null)return e;let s=parseInt(r,10);return isNaN(s)?e:s}function wt(r,e){let s=[];for(let i=0,n=r.length;i<n;i++)s.push(e,r[i]);return s}function _t(r){return(Array.isArray(r)?Buffer.concat(r):r).toString("utf-8")}function Dl(r,e){return Object.assign({},...e.map(s=>s in r?{[s]:r[s]}:{}))}function ii(r=0){return new Promise(e=>setTimeout(e,r))}function jl(r){if(r!==!1)return r}var Xe,Le,Ct,vr=m({"src/lib/utils/util.ts"(){"use strict";Xe="\0",Le=()=>{},Ct=Object.prototype.toString.call.bind(Object.prototype.toString)}});function fe(r,e,s){return e(r)?r:arguments.length>2?s:void 0}function yi(r,e){let s=lr(r)?"string":typeof r;return/number|string|boolean/.test(s)&&(!e||!e.includes(s))}function wi(r){return!!r&&Ct(r)==="[object Object]"}function Ll(r){return typeof r=="function"}var Ot,B,Nl,cr,_i,Bl=m({"src/lib/utils/argument-filters.ts"(){"use strict";vr(),Tt(),Ot=r=>Array.isArray(r),B=r=>typeof r=="string",Nl=r=>Array.isArray(r)&&r.every(B),cr=r=>B(r)||Array.isArray(r)&&r.every(B),_i=r=>r==null||"number|boolean|function".includes(typeof r)?!1:Array.isArray(r)||typeof r=="string"||typeof r.length=="number"}}),ni,lg=m({"src/lib/utils/exit-codes.ts"(){"use strict";ni=(r=>(r[r.SUCCESS=0]="SUCCESS",r[r.ERROR=1]="ERROR",r[r.NOT_FOUND=-2]="NOT_FOUND",r[r.UNCLEAN=128]="UNCLEAN",r))(ni||{})}}),xt,cg=m({"src/lib/utils/git-output-streams.ts"(){"use strict";xt=class{constructor(r,e){this.stdOut=r,this.stdErr=e}asStrings(){return new xt(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}}),_,Ee,hg=m({"src/lib/utils/line-parser.ts"(){"use strict";_=class{constructor(r,e){this.matches=[],this.parse=(s,i)=>(this.resetMatches(),this._regExp.every((n,o)=>this.addMatch(n,o,s(o)))?this.useMatches(i,this.prepareMatches())!==!1:!1),this._regExp=Array.isArray(r)?r:[r],e&&(this.useMatches=e)}useMatches(r,e){throw new Error("LineParser:useMatches not implemented")}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(r,e,s){let i=s&&r.exec(s);return i&&this.pushMatch(e,i),!!i}pushMatch(r,e){this.matches.push(...e.slice(1))}},Ee=class extends _{addMatch(r,e,s){return/^remote:\s/.test(String(s))&&super.addMatch(r,e,s)}pushMatch(r,e){(r>0||e.length>1)&&super.pushMatch(r,e)}}}});function Gl(...r){let e=process.cwd(),s=Object.assign(X({baseDir:e},Ul),...r.filter(i=>typeof i=="object"&&i));return s.baseDir=s.baseDir||e,s.trimmed=s.trimmed===!0,s}var Ul,dg=m({"src/lib/utils/simple-git-options.ts"(){"use strict";Ul={binary:"git",maxConcurrentProcesses:5,config:[],trimmed:!1}}});function xi(r,e=[]){return wi(r)?Object.keys(r).reduce((s,i)=>{let n=r[i];return lr(n)?s.push(n):yi(n,["boolean"])?s.push(i+"="+n):s.push(i),s},e):e}function z(r,e=0,s=!1){let i=[];for(let n=0,o=e<0?r.length:e;n<o;n++)"string|number".includes(typeof r[n])&&i.push(String(r[n]));return xi(Ti(r),i),s||i.push(...fg(r)),i}function fg(r){let e=typeof je(r)=="function";return fe(je(r,e?1:0),Ot,[])}function Ti(r){let e=Ll(je(r));return fe(je(r,e?1:0),wi)}function I(r,e=!0){let s=El(je(r));return e||Rl(s)?s:void 0}var pg=m({"src/lib/utils/task-options.ts"(){"use strict";Bl(),vr(),Tt()}});function oi(r,e){return r(e.stdOut,e.stdErr)}function W(r,e,s,i=!0){return de(s).forEach(n=>{for(let o=St(n,i),a=0,u=o.length;a<u;a++){let l=(c=0)=>{if(!(a+c>=u))return o[a+c]};e.some(({parse:c})=>c(l,r))}}),r}var mg=m({"src/lib/utils/task-parser.ts"(){"use strict";vr()}}),Vl={};$(Vl,{ExitCodes:()=>ni,GitOutputStreams:()=>xt,LineParser:()=>_,NOOP:()=>Le,NULL:()=>Xe,RemoteLineParser:()=>Ee,append:()=>x,appendTaskOptions:()=>xi,asArray:()=>de,asCamelCase:()=>$l,asFunction:()=>El,asNumber:()=>C,asStringArray:()=>ql,bufferToString:()=>_t,callTaskParser:()=>oi,createInstanceConfig:()=>Gl,delay:()=>ii,filterArray:()=>Ot,filterFunction:()=>Ll,filterHasLength:()=>_i,filterPlainObject:()=>wi,filterPrimitives:()=>yi,filterString:()=>B,filterStringArray:()=>Nl,filterStringOrStringArray:()=>cr,filterType:()=>fe,first:()=>Al,folderExists:()=>bi,forEachLineWithContent:()=>vi,getTrailingOptions:()=>z,including:()=>Fl,isUserFunction:()=>Rl,last:()=>je,objectToString:()=>Ct,orVoid:()=>jl,parseStringResponse:()=>W,pick:()=>Dl,prefixedArray:()=>wt,remove:()=>gr,splitOn:()=>Ml,toLinesWithContent:()=>St,trailingFunctionArgument:()=>I,trailingOptionsArgument:()=>Ti});var w=m({"src/lib/utils/index.ts"(){"use strict";Bl(),lg(),cg(),hg(),dg(),pg(),mg(),vr()}}),Hl={};$(Hl,{CheckRepoActions:()=>ai,checkIsBareRepoTask:()=>Yl,checkIsRepoRootTask:()=>zl,checkIsRepoTask:()=>gg});function gg(r){switch(r){case"bare":return Yl();case"root":return zl()}return{commands:["rev-parse","--is-inside-work-tree"],format:"utf-8",onError:br,parser:ki}}function zl(){return{commands:["rev-parse","--git-dir"],format:"utf-8",onError:br,parser(e){return/^\.(git)?$/.test(e.trim())}}}function Yl(){return{commands:["rev-parse","--is-bare-repository"],format:"utf-8",onError:br,parser:ki}}function vg(r){return/(Not a git repository|Kein Git-Repository)/i.test(String(r))}var ai,br,ki,Wl=m({"src/lib/tasks/check-is-repo.ts"(){"use strict";w(),ai=(r=>(r.BARE="bare",r.IN_TREE="tree",r.IS_REPO_ROOT="root",r))(ai||{}),br=({exitCode:r},e,s,i)=>{if(r===128&&vg(e))return s(Buffer.from("false"));i(e)},ki=r=>r.trim()==="true"}});function bg(r,e){let s=new Jl(r),i=r?Zl:Kl;return St(e).forEach(n=>{let o=n.replace(i,"");s.paths.push(o),(Ql.test(o)?s.folders:s.files).push(o)}),s}var Jl,Kl,Zl,Ql,yg=m({"src/lib/responses/CleanSummary.ts"(){"use strict";w(),Jl=class{constructor(r){this.dryRun=r,this.paths=[],this.files=[],this.folders=[]}},Kl=/^[a-z]+\s*/i,Zl=/^[a-z]+\s+[a-z]+\s*/i,Ql=/\/$/}}),ui={};$(ui,{EMPTY_COMMANDS:()=>yr,adhocExecTask:()=>Xl,configurationErrorTask:()=>Y,isBufferTask:()=>tc,isEmptyTask:()=>rc,straightThroughBufferTask:()=>ec,straightThroughStringTask:()=>U});function Xl(r){return{commands:yr,format:"empty",parser:r}}function Y(r){return{commands:yr,format:"empty",parser(){throw typeof r=="string"?new Ol(r):r}}}function U(r,e=!1){return{commands:r,format:"utf-8",parser(s){return e?String(s).trim():s}}}function ec(r){return{commands:r,format:"buffer",parser(e){return e}}}function tc(r){return r.format==="buffer"}function rc(r){return r.format==="empty"||!r.commands.length}var yr,F=m({"src/lib/tasks/task.ts"(){"use strict";Pl(),yr=[]}}),sc={};$(sc,{CONFIG_ERROR_INTERACTIVE_MODE:()=>Si,CONFIG_ERROR_MODE_REQUIRED:()=>Ci,CONFIG_ERROR_UNKNOWN_OPTION:()=>Oi,CleanOptions:()=>nr,cleanTask:()=>ic,cleanWithOptionsTask:()=>wg,isCleanOptionsArray:()=>_g});function wg(r,e){let{cleanMode:s,options:i,valid:n}=xg(r);return s?n.options?(i.push(...e),i.some(Sg)?Y(Si):ic(s,i)):Y(Oi+JSON.stringify(r)):Y(Ci)}function ic(r,e){return{commands:["clean",`-${r}`,...e],format:"utf-8",parser(i){return bg(r==="n",i)}}}function _g(r){return Array.isArray(r)&&r.every(e=>Pi.has(e))}function xg(r){let e,s=[],i={cleanMode:!1,options:!0};return r.replace(/[^a-z]i/g,"").split("").forEach(n=>{Tg(n)?(e=n,i.cleanMode=!0):i.options=i.options&&kg(s[s.length]=`-${n}`)}),{cleanMode:e,options:s,valid:i}}function Tg(r){return r==="f"||r==="n"}function kg(r){return/^-[a-z]$/i.test(r)&&Pi.has(r.charAt(1))}function Sg(r){return/^-[^\-]/.test(r)?r.indexOf("i")>0:r==="--interactive"}var Si,Ci,Oi,nr,Pi,nc=m({"src/lib/tasks/clean.ts"(){"use strict";yg(),w(),F(),Si="Git clean interactive mode is not supported",Ci='Git clean mode parameter ("n" or "f") is required',Oi="Git clean unknown option found in: ",nr=(r=>(r.DRY_RUN="n",r.FORCE="f",r.IGNORED_INCLUDED="x",r.IGNORED_ONLY="X",r.EXCLUDING="e",r.QUIET="q",r.RECURSIVE="d",r))(nr||{}),Pi=new Set(["i",...ql(Object.values(nr))])}});function Cg(r){let e=new ac;for(let s of oc(r))e.addValue(s.file,String(s.key),s.value);return e}function Og(r,e){let s=null,i=[],n=new Map;for(let o of oc(r,e))o.key===e&&(i.push(s=o.value),n.has(o.file)||n.set(o.file,[]),n.get(o.file).push(s));return{key:e,paths:Array.from(n.keys()),scopes:n,value:s,values:i}}function Pg(r){return r.replace(/^(file):/,"")}function*oc(r,e=null){let s=r.split("\0");for(let i=0,n=s.length-1;i<n;){let o=Pg(s[i++]),a=s[i++],u=e;if(a.includes(`
`)){let l=Ml(a,`
`);u=l[0],a=l[1]}yield{file:o,key:u,value:a}}}var ac,Eg=m({"src/lib/responses/ConfigList.ts"(){"use strict";w(),ac=class{constructor(){this.files=[],this.values=Object.create(null)}get all(){return this._all||(this._all=this.files.reduce((r,e)=>Object.assign(r,this.values[e]),{})),this._all}addFile(r){if(!(r in this.values)){let e=je(this.files);this.values[r]=e?Object.create(this.values[e]):{},this.files.push(r)}return this.values[r]}addValue(r,e,s){let i=this.addFile(r);i.hasOwnProperty(e)?Array.isArray(i[e])?i[e].push(s):i[e]=[i[e],s]:i[e]=s,this._all=void 0}}}});function Qs(r,e){return typeof r=="string"&&li.hasOwnProperty(r)?r:e}function Rg(r,e,s,i){let n=["config",`--${i}`];return s&&n.push("--add"),n.push(r,e),{commands:n,format:"utf-8",parser(o){return o}}}function Mg(r,e){let s=["config","--null","--show-origin","--get-all",r];return e&&s.splice(1,0,`--${e}`),{commands:s,format:"utf-8",parser(i){return Og(i,r)}}}function Ag(r){let e=["config","--list","--show-origin","--null"];return r&&e.push(`--${r}`),{commands:e,format:"utf-8",parser(s){return Cg(s)}}}function Ig(){return{addConfig(r,e,...s){return this._runTask(Rg(r,e,s[0]===!0,Qs(s[1],"local")),I(arguments))},getConfig(r,e){return this._runTask(Mg(r,Qs(e,void 0)),I(arguments))},listConfig(...r){return this._runTask(Ag(Qs(r[0],void 0)),I(arguments))}}}var li,uc=m({"src/lib/tasks/config.ts"(){"use strict";Eg(),w(),li=(r=>(r.system="system",r.global="global",r.local="local",r.worktree="worktree",r))(li||{})}});function Fg(r){return lc.has(r)}var Xs,lc,cc=m({"src/lib/tasks/diff-name-status.ts"(){"use strict";Xs=(r=>(r.ADDED="A",r.COPIED="C",r.DELETED="D",r.MODIFIED="M",r.RENAMED="R",r.CHANGED="T",r.UNMERGED="U",r.UNKNOWN="X",r.BROKEN="B",r))(Xs||{}),lc=new Set(Object.values(Xs))}});function $g(...r){return new dc().param(...r)}function qg(r){let e=new Set,s={};return vi(r,i=>{let[n,o,a]=i.split(Xe);e.add(n),(s[n]=s[n]||[]).push({line:C(o),path:n,preview:a})}),{paths:e,results:s}}function Dg(){return{grep(r){let e=I(arguments),s=z(arguments);for(let n of hc)if(s.includes(n))return this._runTask(Y(`git.grep: use of "${n}" is not supported.`),e);typeof r=="string"&&(r=$g().param(r));let i=["grep","--null","-n","--full-name",...s,...r];return this._runTask({commands:i,format:"utf-8",parser(n){return qg(n)}},e)}}}var hc,vt,Ku,dc,fc=m({"src/lib/tasks/grep.ts"(){"use strict";w(),F(),hc=["-h"],vt=Symbol("grepQuery"),dc=class{constructor(){this[Ku]=[]}*[(Ku=vt,Symbol.iterator)](){for(let r of this[vt])yield r}and(...r){return r.length&&this[vt].push("--and","(",...wt(r,"-e"),")"),this}param(...r){return this[vt].push(...wt(r,"-e")),this}}}}),pc={};$(pc,{ResetMode:()=>or,getResetMode:()=>Lg,resetTask:()=>jg});function jg(r,e){let s=["reset"];return mc(r)&&s.push(`--${r}`),s.push(...e),U(s)}function Lg(r){if(mc(r))return r;switch(typeof r){case"string":case"undefined":return"soft"}}function mc(r){return gc.includes(r)}var or,gc,vc=m({"src/lib/tasks/reset.ts"(){"use strict";F(),or=(r=>(r.MIXED="mixed",r.SOFT="soft",r.HARD="hard",r.MERGE="merge",r.KEEP="keep",r))(or||{}),gc=Array.from(Object.values(or))}});function Ng(){return(0,hr.default)("simple-git")}function Zu(r,e,s){return!e||!String(e).replace(/\s*/,"")?s?(i,...n)=>{r(i,...n),s(i,...n)}:r:(i,...n)=>{r(`%s ${i}`,e,...n),s&&s(i,...n)}}function Bg(r,e,{namespace:s}){if(typeof r=="string")return r;let i=e&&e.namespace||"";return i.startsWith(s)?i.substr(s.length+1):i||s}function Ei(r,e,s,i=Ng()){let n=r&&`[${r}]`||"",o=[],a=typeof e=="string"?i.extend(e):e,u=Bg(fe(e,B),a,i);return c(s);function l(f,h){return x(o,Ei(r,u.replace(/^[^:]+/,f),h,i))}function c(f){let h=f&&`[${f}]`||"",p=a&&Zu(a,h)||Le,v=Zu(i,`${n} ${h}`,p);return Object.assign(a?p:v,{label:r,sibling:l,info:v,step:c})}}var bc=m({"src/lib/git-logger.ts"(){"use strict";w(),hr.default.formatters.L=r=>String(_i(r)?r.length:"-"),hr.default.formatters.B=r=>Buffer.isBuffer(r)?r.toString("utf8"):Ct(r)}}),sr,ci,Gg=m({"src/lib/runners/tasks-pending-queue.ts"(){"use strict";Re(),bc(),sr=class{constructor(r="GitExecutor"){this.logLabel=r,this._queue=new Map}withProgress(r){return this._queue.get(r)}createProgress(r){let e=sr.getName(r.commands[0]),s=Ei(this.logLabel,e);return{task:r,logger:s,name:e}}push(r){let e=this.createProgress(r);return e.logger("Adding task to the queue, commands = %o",r.commands),this._queue.set(r,e),e}fatal(r){for(let[e,{logger:s}]of Array.from(this._queue.entries()))e===r.task?(s.info("Failed %o",r),s("Fatal exception, any as-yet un-started tasks run through this executor will not be attempted")):s.info("A fatal exception occurred in a previous task, the queue has been purged: %o",r.message),this.complete(e);if(this._queue.size!==0)throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}complete(r){this.withProgress(r)&&this._queue.delete(r)}attempt(r){let e=this.withProgress(r);if(!e)throw new xe(void 0,"TasksPendingQueue: attempt called for an unknown task");return e.logger("Starting task"),e}static getName(r="empty"){return`task:${r}:${++sr.counter}`}},ci=sr,ci.counter=0}});function De(r,e){return{method:Al(r.commands)||"",commands:e}}function Ug(r,e){return s=>{e("[ERROR] child process exception %o",s),r.push(Buffer.from(String(s.stack),"ascii"))}}function Qu(r,e,s,i){return n=>{s("%s received %L bytes",e,n),i("%B",n),r.push(n)}}var hi,Vg=m({"src/lib/runners/git-executor-chain.ts"(){"use strict";Re(),F(),w(),Gg(),hi=class{constructor(r,e,s){this._executor=r,this._scheduler=e,this._plugins=s,this._chain=Promise.resolve(),this._queue=new ci}get cwd(){return this._cwd||this._executor.cwd}set cwd(r){this._cwd=r}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(r){return this._queue.push(r),this._chain=this._chain.then(()=>this.attemptTask(r))}attemptTask(r){return bt(this,null,function*(){let e=yield this._scheduler.next(),s=()=>this._queue.complete(r);try{let{logger:i}=this._queue.attempt(r);return yield rc(r)?this.attemptEmptyTask(r,i):this.attemptRemoteTask(r,i)}catch(i){throw this.onFatalException(r,i)}finally{s(),e()}})}onFatalException(r,e){let s=e instanceof xe?Object.assign(e,{task:r}):new xe(r,e&&String(e));return this._chain=Promise.resolve(),this._queue.fatal(s),s}attemptRemoteTask(r,e){return bt(this,null,function*(){let s=this._plugins.exec("spawn.binary","",De(r,r.commands)),i=this._plugins.exec("spawn.args",[...r.commands],De(r,r.commands)),n=yield this.gitResponse(r,s,i,this.outputHandler,e.step("SPAWN")),o=yield this.handleTaskData(r,i,n,e.step("HANDLE"));return e("passing response to task's parser as a %s",r.format),tc(r)?oi(r.parser,o):oi(r.parser,o.asStrings())})}attemptEmptyTask(r,e){return bt(this,null,function*(){return e("empty task bypassing child process to call to task's parser"),r.parser(this)})}handleTaskData(r,e,s,i){let{exitCode:n,rejection:o,stdOut:a,stdErr:u}=s;return new Promise((l,c)=>{i("Preparing to handle process response exitCode=%d stdOut=",n);let{error:f}=this._plugins.exec("task.error",{error:o},X(X({},De(r,e)),s));if(f&&r.onError)return i.info("exitCode=%s handling with custom error handler"),r.onError(s,f,h=>{i.info("custom error handler treated as success"),i("custom error returned a %s",Ct(h)),l(new xt(Array.isArray(h)?Buffer.concat(h):h,Buffer.concat(u)))},c);if(f)return i.info("handling as error: exitCode=%s stdErr=%s rejection=%o",n,u.length,o),c(f);i.info("retrieving task output complete"),l(new xt(Buffer.concat(a),Buffer.concat(u)))})}gitResponse(r,e,s,i,n){return bt(this,null,function*(){let o=n.sibling("output"),a=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:!0},De(r,r.commands));return new Promise(u=>{let l=[],c=[];n.info("%s %o",e,s),n("%O",a);let f=this._beforeSpawn(r,s);if(f)return u({stdOut:l,stdErr:c,exitCode:9901,rejection:f});this._plugins.exec("spawn.before",void 0,yt(X({},De(r,s)),{kill(p){f=p||f}}));let h=(0,yc.spawn)(e,s,a);h.stdout.on("data",Qu(l,"stdOut",n,o.step("stdOut"))),h.stderr.on("data",Qu(c,"stdErr",n,o.step("stdErr"))),h.on("error",Ug(c,n)),i&&(n("Passing child process stdOut/stdErr to custom outputHandler"),i(e,h.stdout,h.stderr,[...s])),this._plugins.exec("spawn.after",void 0,yt(X({},De(r,s)),{spawned:h,close(p,v){u({stdOut:l,stdErr:c,exitCode:p,rejection:f||v})},kill(p){h.killed||(f=p,h.kill("SIGINT"))}}))})})}_beforeSpawn(r,e){let s;return this._plugins.exec("spawn.before",void 0,yt(X({},De(r,e)),{kill(i){s=i||s}})),s}}}}),wc={};$(wc,{GitExecutor:()=>_c});var _c,Hg=m({"src/lib/runners/git-executor.ts"(){"use strict";Vg(),_c=class{constructor(r,e,s){this.cwd=r,this._scheduler=e,this._plugins=s,this._chain=new hi(this,this._scheduler,this._plugins)}chain(){return new hi(this,this._scheduler,this._plugins)}push(r){return this._chain.push(r)}}}});function zg(r,e,s=Le){let i=o=>{s(null,o)},n=o=>{o?.task===r&&s(o instanceof kt?Yg(o):o,void 0)};e.then(i,n)}function Yg(r){let e=i=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${i} should be GitResponseError.git.${i}, this will no longer be available in version 3`),e=Le};return Object.create(r,Object.getOwnPropertyNames(r.git).reduce(s,{}));function s(i,n){return n in r||(i[n]={enumerable:!1,configurable:!1,get(){return e(n),r.git[n]}}),i}}var Wg=m({"src/lib/task-callback.ts"(){"use strict";et(),w()}});function Xu(r,e){return Xl(s=>{if(!bi(r))throw new Error(`Git.cwd: cannot change to non-directory "${r}"`);return(e||s).cwd=r})}var Jg=m({"src/lib/tasks/change-working-directory.ts"(){"use strict";w(),F()}});function ei(r){let e=["checkout",...r];return e[1]==="-b"&&e.includes("-B")&&(e[1]=gr(e,"-B")),U(e)}function Kg(){return{checkout(){return this._runTask(ei(z(arguments,1)),I(arguments))},checkoutBranch(r,e){return this._runTask(ei(["-b",r,e,...z(arguments)]),I(arguments))},checkoutLocalBranch(r){return this._runTask(ei(["-b",r,...z(arguments)]),I(arguments))}}}var Zg=m({"src/lib/tasks/checkout.ts"(){"use strict";w(),F()}});function Qg(){return{count:0,garbage:0,inPack:0,packs:0,prunePackable:0,size:0,sizeGarbage:0,sizePack:0}}function Xg(){return{countObjects(){return this._runTask({commands:["count-objects","--verbose"],format:"utf-8",parser(r){return W(Qg(),[xc],r)}})}}}var xc,ev=m({"src/lib/tasks/count-objects.ts"(){"use strict";w(),xc=new _(/([a-z-]+): (\d+)$/,(r,[e,s])=>{let i=$l(e);r.hasOwnProperty(i)&&(r[i]=C(s))})}});function tv(r){return W({author:null,branch:"",commit:"",root:!1,summary:{changes:0,insertions:0,deletions:0}},Tc,r)}var Tc,rv=m({"src/lib/parsers/parse-commit.ts"(){"use strict";w(),Tc=[new _(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,(r,[e,s,i])=>{r.branch=e,r.commit=i,r.root=!!s}),new _(/\s*Author:\s(.+)/i,(r,[e])=>{let s=e.split("<"),i=s.pop();!i||!i.includes("@")||(r.author={email:i.substr(0,i.length-1),name:s.join("<").trim()})}),new _(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,(r,[e,s,i])=>{r.summary.changes=parseInt(e,10)||0,r.summary.insertions=parseInt(s,10)||0,r.summary.deletions=parseInt(i,10)||0}),new _(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,(r,[e,s,i])=>{r.summary.changes=parseInt(e,10)||0;let n=parseInt(s,10)||0;i==="-"?r.summary.deletions=n:i==="+"&&(r.summary.insertions=n)})]}});function sv(r,e,s){return{commands:["-c","core.abbrev=40","commit",...wt(r,"-m"),...e,...s],format:"utf-8",parser:tv}}function iv(){return{commit(e,...s){let i=I(arguments),n=r(e)||sv(de(e),de(fe(s[0],cr,[])),[...fe(s[1],Ot,[]),...z(arguments,0,!0)]);return this._runTask(n,i)}};function r(e){return!cr(e)&&Y("git.commit: requires the commit message to be supplied as a string/string[]")}}var nv=m({"src/lib/tasks/commit.ts"(){"use strict";rv(),w(),F()}});function ov(){return{firstCommit(){return this._runTask(U(["rev-list","--max-parents=0","HEAD"],!0),I(arguments))}}}var av=m({"src/lib/tasks/first-commit.ts"(){"use strict";w(),F()}});function uv(r,e){let s=["hash-object",r];return e&&s.push("-w"),U(s,!0)}var lv=m({"src/lib/tasks/hash-object.ts"(){"use strict";F()}});function cv(r,e,s){let i=String(s).trim(),n;if(n=kc.exec(i))return new ar(r,e,!1,n[1]);if(n=Sc.exec(i))return new ar(r,e,!0,n[1]);let o="",a=i.split(" ");for(;a.length;)if(a.shift()==="in"){o=a.join(" ");break}return new ar(r,e,/^re/i.test(i),o)}var ar,kc,Sc,hv=m({"src/lib/responses/InitSummary.ts"(){"use strict";ar=class{constructor(r,e,s,i){this.bare=r,this.path=e,this.existing=s,this.gitDir=i}},kc=/^Init.+ repository in (.+)$/,Sc=/^Rein.+ in (.+)$/}});function dv(r){return r.includes(Ri)}function fv(r=!1,e,s){let i=["init",...s];return r&&!dv(i)&&i.splice(1,0,Ri),{commands:i,format:"utf-8",parser(n){return cv(i.includes("--bare"),e,n)}}}var Ri,pv=m({"src/lib/tasks/init.ts"(){"use strict";hv(),Ri="--bare"}});function Mi(r){for(let e=0;e<r.length;e++){let s=Ai.exec(r[e]);if(s)return`--${s[1]}`}return""}function mv(r){return Ai.test(r)}var Ai,Pt=m({"src/lib/args/log-format.ts"(){"use strict";Ai=/^--(stat|numstat|name-only|name-status)(=|$)/}}),Cc,gv=m({"src/lib/responses/DiffSummary.ts"(){"use strict";Cc=class{constructor(){this.changed=0,this.deletions=0,this.insertions=0,this.files=[]}}}});function Oc(r=""){let e=Pc[r];return s=>W(new Cc,e,s,!1)}var ti,el,tl,rl,Pc,Ec=m({"src/lib/parsers/parse-diff-summary.ts"(){"use strict";Pt(),gv(),cc(),w(),ti=[new _(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/,(r,[e,s,i=""])=>{r.files.push({file:e.trim(),changes:C(s),insertions:i.replace(/[^+]/g,"").length,deletions:i.replace(/[^-]/g,"").length,binary:!1})}),new _(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)/,(r,[e,s,i])=>{r.files.push({file:e.trim(),before:C(s),after:C(i),binary:!0})}),new _(/(\d+) files? changed\s*((?:, \d+ [^,]+){0,2})/,(r,[e,s])=>{let i=/(\d+) i/.exec(s),n=/(\d+) d/.exec(s);r.changed=C(e),r.insertions=C(i?.[1]),r.deletions=C(n?.[1])})],el=[new _(/(\d+)\t(\d+)\t(.+)$/,(r,[e,s,i])=>{let n=C(e),o=C(s);r.changed++,r.insertions+=n,r.deletions+=o,r.files.push({file:i,changes:n+o,insertions:n,deletions:o,binary:!1})}),new _(/-\t-\t(.+)$/,(r,[e])=>{r.changed++,r.files.push({file:e,after:0,before:0,binary:!0})})],tl=[new _(/(.+)$/,(r,[e])=>{r.changed++,r.files.push({file:e,changes:0,insertions:0,deletions:0,binary:!1})})],rl=[new _(/([ACDMRTUXB])([0-9]{0,3})\t(.[^\t]*)(\t(.[^\t]*))?$/,(r,[e,s,i,n,o])=>{r.changed++,r.files.push({file:o??i,changes:0,status:jl(Fg(e)&&e),insertions:0,deletions:0,binary:!1})})],Pc={"":ti,"--stat":ti,"--numstat":el,"--name-status":rl,"--name-only":tl}}});function vv(r,e){return e.reduce((s,i,n)=>(s[i]=r[n]||"",s),Object.create({diff:null}))}function Rc(r=$i,e=Mc,s=""){let i=Oc(s);return function(n){let o=St(n,!0,Ii).map(function(a){let u=a.trim().split(Fi),l=vv(u[0].trim().split(r),e);return u.length>1&&u[1].trim()&&(l.diff=i(u[1])),l});return{all:o,latest:o.length&&o[0]||null,total:o.length}}}var Ii,Fi,$i,Mc,Ac=m({"src/lib/parsers/parse-list-log-summary.ts"(){"use strict";w(),Ec(),Pt(),Ii="\xF2\xF2\xF2\xF2\xF2\xF2 ",Fi=" \xF2\xF2",$i=" \xF2 ",Mc=["hash","date","message","refs","author_name","author_email"]}}),Ic={};$(Ic,{diffSummaryTask:()=>bv,validateLogFormatConfig:()=>wr});function bv(r){let e=Mi(r),s=["diff"];return e===""&&(e="--stat",s.push("--stat=4096")),s.push(...r),wr(s)||{commands:s,format:"utf-8",parser:Oc(e)}}function wr(r){let e=r.filter(mv);if(e.length>1)return Y(`Summary flags are mutually exclusive - pick one of ${e.join(",")}`);if(e.length&&r.includes("-z"))return Y(`Summary flag ${e} parsing is not compatible with null termination option '-z'`)}var qi=m({"src/lib/tasks/diff.ts"(){"use strict";Pt(),Ec(),F()}});function yv(r,e){let s=[],i=[];return Object.keys(r).forEach(n=>{s.push(n),i.push(String(r[n]))}),[s,i.join(e)]}function wv(r){return Object.keys(r).reduce((e,s)=>(s in di||(e[s]=r[s]),e),{})}function Fc(r={},e=[]){let s=fe(r.splitter,B,$i),i=!yi(r.format)&&r.format?r.format:{hash:"%H",date:r.strictDate===!1?"%ai":"%aI",message:"%s",refs:"%D",body:r.multiLine?"%B":"%b",author_name:r.mailMap!==!1?"%aN":"%an",author_email:r.mailMap!==!1?"%aE":"%ae"},[n,o]=yv(i,s),a=[],u=[`--pretty=format:${Ii}${o}${Fi}`,...e],l=r.n||r["max-count"]||r.maxCount;if(l&&u.push(`--max-count=${l}`),r.from||r.to){let c=r.symmetric!==!1?"...":"..";a.push(`${r.from||""}${c}${r.to||""}`)}return B(r.file)&&u.push("--follow",ug(r.file)),xi(wv(r),u),{fields:n,splitter:s,commands:[...u,...a]}}function _v(r,e,s){let i=Rc(r,e,Mi(s));return{commands:["log",...s],format:"utf-8",parser:i}}function xv(){return{log(...s){let i=I(arguments),n=Fc(Ti(arguments),fe(arguments[0],Ot)),o=e(...s)||wr(n.commands)||r(n);return this._runTask(o,i)}};function r(s){return _v(s.splitter,s.fields,s.commands)}function e(s,i){return B(s)&&B(i)&&Y("git.log(string, string) should be replaced with git.log({ from: string, to: string })")}}var di,$c=m({"src/lib/tasks/log.ts"(){"use strict";Pt(),Tt(),Ac(),w(),F(),qi(),di=(r=>(r[r["--pretty"]=0]="--pretty",r[r["max-count"]=1]="max-count",r[r.maxCount=2]="maxCount",r[r.n=3]="n",r[r.file=4]="file",r[r.format=5]="format",r[r.from=6]="from",r[r.to=7]="to",r[r.splitter=8]="splitter",r[r.symmetric=9]="symmetric",r[r.mailMap=10]="mailMap",r[r.multiLine=11]="multiLine",r[r.strictDate=12]="strictDate",r))(di||{})}}),ur,qc,Tv=m({"src/lib/responses/MergeSummary.ts"(){"use strict";ur=class{constructor(r,e=null,s){this.reason=r,this.file=e,this.meta=s}toString(){return`${this.file}:${this.reason}`}},qc=class{constructor(){this.conflicts=[],this.merges=[],this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){return this.conflicts.length?`CONFLICTS: ${this.conflicts.join(", ")}`:"OK"}}}}),fi,Dc,kv=m({"src/lib/responses/PullSummary.ts"(){"use strict";fi=class{constructor(){this.remoteMessages={all:[]},this.created=[],this.deleted=[],this.files=[],this.deletions={},this.insertions={},this.summary={changes:0,deletions:0,insertions:0}}},Dc=class{constructor(){this.remote="",this.hash={local:"",remote:""},this.branch={local:"",remote:""},this.message=""}toString(){return this.message}}}});function ri(r){return r.objects=r.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function sl(r){let e=/^\s*(\d+)/.exec(r),s=/delta (\d+)/i.exec(r);return{count:C(e&&e[1]||"0"),delta:C(s&&s[1]||"0")}}var jc,Sv=m({"src/lib/parsers/parse-remote-objects.ts"(){"use strict";w(),jc=[new Ee(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,(r,[e,s])=>{let i=e.toLowerCase(),n=ri(r.remoteMessages);Object.assign(n,{[i]:C(s)})}),new Ee(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,(r,[e,s])=>{let i=e.toLowerCase(),n=ri(r.remoteMessages);Object.assign(n,{[i]:C(s)})}),new Ee(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,(r,[e,s,i])=>{let n=ri(r.remoteMessages);n.total=sl(e),n.reused=sl(s),n.packReused=C(i)})]}});function Lc(r,e){return W({remoteMessages:new Bc},Nc,e)}var Nc,Bc,Gc=m({"src/lib/parsers/parse-remote-messages.ts"(){"use strict";w(),Sv(),Nc=[new Ee(/^remote:\s*(.+)$/,(r,[e])=>(r.remoteMessages.all.push(e.trim()),!1)),...jc,new Ee([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],(r,[e])=>{r.remoteMessages.pullRequestUrl=e}),new Ee([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],(r,[e,s,i])=>{r.remoteMessages.vulnerabilities={count:C(e),summary:s,url:i}})],Bc=class{constructor(){this.all=[]}}}});function Cv(r,e){let s=W(new Dc,Uc,[r,e]);return s.message&&s}var il,nl,ol,al,Uc,ul,Di,Vc=m({"src/lib/parsers/parse-pull.ts"(){"use strict";kv(),w(),Gc(),il=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,nl=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,ol=/^(create|delete) mode \d+ (.+)/,al=[new _(il,(r,[e,s,i])=>{r.files.push(e),s&&(r.insertions[e]=s.length),i&&(r.deletions[e]=i.length)}),new _(nl,(r,[e,,s,,i])=>s!==void 0||i!==void 0?(r.summary.changes=+e||0,r.summary.insertions=+s||0,r.summary.deletions=+i||0,!0):!1),new _(ol,(r,[e,s])=>{x(r.files,s),x(e==="create"?r.created:r.deleted,s)})],Uc=[new _(/^from\s(.+)$/i,(r,[e])=>void(r.remote=e)),new _(/^fatal:\s(.+)$/,(r,[e])=>void(r.message=e)),new _(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,(r,[e,s,i,n])=>{r.branch.local=i,r.hash.local=e,r.branch.remote=n,r.hash.remote=s})],ul=(r,e)=>W(new fi,al,[r,e]),Di=(r,e)=>Object.assign(new fi,ul(r,e),Lc(r,e))}}),ll,Hc,cl,Ov=m({"src/lib/parsers/parse-merge.ts"(){"use strict";Tv(),w(),Vc(),ll=[new _(/^Auto-merging\s+(.+)$/,(r,[e])=>{r.merges.push(e)}),new _(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,(r,[e,s])=>{r.conflicts.push(new ur(e,s))}),new _(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,(r,[e,s,i])=>{r.conflicts.push(new ur(e,s,{deleteRef:i}))}),new _(/^CONFLICT\s+\((.+)\):/,(r,[e])=>{r.conflicts.push(new ur(e,null))}),new _(/^Automatic merge failed;\s+(.+)$/,(r,[e])=>{r.result=e})],Hc=(r,e)=>Object.assign(cl(r,e),Di(r,e)),cl=r=>W(new qc,ll,r)}});function hl(r){return r.length?{commands:["merge",...r],format:"utf-8",parser(e,s){let i=Hc(e,s);if(i.failed)throw new kt(i);return i}}:Y("Git.merge requires at least one option")}var Pv=m({"src/lib/tasks/merge.ts"(){"use strict";et(),Ov(),F()}});function Ev(r,e,s){let i=s.includes("deleted"),n=s.includes("tag")||/^refs\/tags/.test(r),o=!s.includes("new");return{deleted:i,tag:n,branch:!n,new:!o,alreadyUpdated:o,local:r,remote:e}}var dl,zc,fl,Rv=m({"src/lib/parsers/parse-push.ts"(){"use strict";w(),Gc(),dl=[new _(/^Pushing to (.+)$/,(r,[e])=>{r.repo=e}),new _(/^updating local tracking ref '(.+)'/,(r,[e])=>{r.ref=yt(X({},r.ref||{}),{local:e})}),new _(/^[=*-]\s+([^:]+):(\S+)\s+\[(.+)]$/,(r,[e,s,i])=>{r.pushed.push(Ev(e,s,i))}),new _(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,(r,[e,s,i])=>{r.branch=yt(X({},r.branch||{}),{local:e,remote:s,remoteName:i})}),new _(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,(r,[e,s,i,n])=>{r.update={head:{local:e,remote:s},hash:{from:i,to:n}}})],zc=(r,e)=>{let s=fl(r,e),i=Lc(r,e);return X(X({},s),i)},fl=(r,e)=>W({pushed:[]},dl,[r,e])}}),Yc={};$(Yc,{pushTagsTask:()=>Mv,pushTask:()=>ji});function Mv(r={},e){return x(e,"--tags"),ji(r,e)}function ji(r={},e){let s=["push",...e];return r.branch&&s.splice(1,0,r.branch),r.remote&&s.splice(1,0,r.remote),gr(s,"-v"),x(s,"--verbose"),x(s,"--porcelain"),{commands:s,format:"utf-8",parser:zc}}var Wc=m({"src/lib/tasks/push.ts"(){"use strict";Rv(),w()}});function Av(){return{showBuffer(){let r=["show",...z(arguments,1)];return r.includes("--binary")||r.splice(1,0,"--binary"),this._runTask(ec(r),I(arguments))},show(){let r=["show",...z(arguments,1)];return this._runTask(U(r),I(arguments))}}}var Iv=m({"src/lib/tasks/show.ts"(){"use strict";w(),F()}}),pl,Jc,Fv=m({"src/lib/responses/FileStatusSummary.ts"(){"use strict";pl=/^(.+) -> (.+)$/,Jc=class{constructor(r,e,s){if(this.path=r,this.index=e,this.working_dir=s,e+s==="R"){let i=pl.exec(r)||[null,r,r];this.from=i[1]||"",this.path=i[2]||""}}}}});function ml(r){let[e,s]=r.split(Xe);return{from:s||e,to:e}}function Z(r,e,s){return[`${r}${e}`,s]}function si(r,...e){return e.map(s=>Z(r,s,(i,n)=>x(i.conflicted,n)))}function $v(r,e){let s=e.trim();switch(" "){case s.charAt(2):return i(s.charAt(0),s.charAt(1),s.substr(3));case s.charAt(1):return i(" ",s.charAt(0),s.substr(2));default:return}function i(n,o,a){let u=`${n}${o}`,l=Kc.get(u);l&&l(r,a),u!=="##"&&u!=="!!"&&r.files.push(new Jc(a.replace(/\0.+$/,""),n,o))}}var gl,Kc,Zc,qv=m({"src/lib/responses/StatusSummary.ts"(){"use strict";w(),Fv(),gl=class{constructor(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.ignored=void 0,this.modified=[],this.renamed=[],this.files=[],this.staged=[],this.ahead=0,this.behind=0,this.current=null,this.tracking=null,this.detached=!1,this.isClean=()=>!this.files.length}},Kc=new Map([Z(" ","A",(r,e)=>x(r.created,e)),Z(" ","D",(r,e)=>x(r.deleted,e)),Z(" ","M",(r,e)=>x(r.modified,e)),Z("A"," ",(r,e)=>x(r.created,e)&&x(r.staged,e)),Z("A","M",(r,e)=>x(r.created,e)&&x(r.staged,e)&&x(r.modified,e)),Z("D"," ",(r,e)=>x(r.deleted,e)&&x(r.staged,e)),Z("M"," ",(r,e)=>x(r.modified,e)&&x(r.staged,e)),Z("M","M",(r,e)=>x(r.modified,e)&&x(r.staged,e)),Z("R"," ",(r,e)=>{x(r.renamed,ml(e))}),Z("R","M",(r,e)=>{let s=ml(e);x(r.renamed,s),x(r.modified,s.to)}),Z("!","!",(r,e)=>{x(r.ignored=r.ignored||[],e)}),Z("?","?",(r,e)=>x(r.not_added,e)),...si("A","A","U"),...si("D","D","U"),...si("U","A","D","U"),["##",(r,e)=>{let s=/ahead (\d+)/,i=/behind (\d+)/,n=/^(.+?(?=(?:\.{3}|\s|$)))/,o=/\.{3}(\S*)/,a=/\son\s([\S]+)$/,u;u=s.exec(e),r.ahead=u&&+u[1]||0,u=i.exec(e),r.behind=u&&+u[1]||0,u=n.exec(e),r.current=u&&u[1],u=o.exec(e),r.tracking=u&&u[1],u=a.exec(e),r.current=u&&u[1]||r.current,r.detached=/\(no branch\)/.test(e)}]]),Zc=function(r){let e=r.split(Xe),s=new gl;for(let i=0,n=e.length;i<n;){let o=e[i++].trim();o&&(o.charAt(0)==="R"&&(o+=Xe+(e[i++]||"")),$v(s,o))}return s}}});function Dv(r){return{format:"utf-8",commands:["status","--porcelain","-b","-u","--null",...r.filter(s=>!Qc.includes(s))],parser(s){return Zc(s)}}}var Qc,jv=m({"src/lib/tasks/status.ts"(){"use strict";qv(),Qc=["--null","-z"]}});function dr(r=0,e=0,s=0,i="",n=!0){return Object.defineProperty({major:r,minor:e,patch:s,agent:i,installed:n},"toString",{value(){return`${this.major}.${this.minor}.${this.patch}`},configurable:!1,enumerable:!1})}function Lv(){return dr(0,0,0,"",!1)}function Nv(){return{version(){return this._runTask({commands:["--version"],format:"utf-8",parser:Bv,onError(r,e,s,i){if(r.exitCode===-2)return s(Buffer.from(Li));i(e)}})}}}function Bv(r){return r===Li?Lv():W(dr(0,0,0,r),Xc,r)}var Li,Xc,Gv=m({"src/lib/tasks/version.ts"(){"use strict";w(),Li="installed=false",Xc=[new _(/version (\d+)\.(\d+)\.(\d+)(?:\s*\((.+)\))?/,(r,[e,s,i,n=""])=>{Object.assign(r,dr(C(e),C(s),C(i),n))}),new _(/version (\d+)\.(\d+)\.(\D+)(.+)?$/,(r,[e,s,i,n=""])=>{Object.assign(r,dr(C(e),C(s),i,n))})]}}),eh={};$(eh,{SimpleGitApi:()=>pi});var pi,Uv=m({"src/lib/simple-git-api.ts"(){"use strict";Wg(),Jg(),Zg(),ev(),nv(),uc(),av(),fc(),lv(),pv(),$c(),Pv(),Wc(),Iv(),jv(),F(),Gv(),w(),pi=class{constructor(r){this._executor=r}_runTask(r,e){let s=this._executor.chain(),i=s.push(r);return e&&zg(r,i,e),Object.create(this,{then:{value:i.then.bind(i)},catch:{value:i.catch.bind(i)},_executor:{value:s}})}add(r){return this._runTask(U(["add",...de(r)]),I(arguments))}cwd(r){let e=I(arguments);return typeof r=="string"?this._runTask(Xu(r,this._executor),e):typeof r?.path=="string"?this._runTask(Xu(r.path,r.root&&this._executor||void 0),e):this._runTask(Y("Git.cwd: workingDirectory must be supplied as a string"),e)}hashObject(r,e){return this._runTask(uv(r,e===!0),I(arguments))}init(r){return this._runTask(fv(r===!0,this._executor.cwd,z(arguments)),I(arguments))}merge(){return this._runTask(hl(z(arguments)),I(arguments))}mergeFromTo(r,e){return B(r)&&B(e)?this._runTask(hl([r,e,...z(arguments)]),I(arguments,!1)):this._runTask(Y("Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings"))}outputHandler(r){return this._executor.outputHandler=r,this}push(){let r=ji({remote:fe(arguments[0],B),branch:fe(arguments[1],B)},z(arguments));return this._runTask(r,I(arguments))}stash(){return this._runTask(U(["stash",...z(arguments)]),I(arguments))}status(){return this._runTask(Dv(z(arguments)),I(arguments))}},Object.assign(pi.prototype,Kg(),iv(),Ig(),Xg(),ov(),Dg(),xv(),Av(),Nv())}}),th={};$(th,{Scheduler:()=>sh});var vl,sh,Vv=m({"src/lib/runners/scheduler.ts"(){"use strict";w(),bc(),vl=(()=>{let r=0;return()=>{r++;let{promise:e,done:s}=(0,rh.createDeferred)();return{promise:e,done:s,id:r}}})(),sh=class{constructor(r=2){this.concurrency=r,this.logger=Ei("","scheduler"),this.pending=[],this.running=[],this.logger("Constructed, concurrency=%s",r)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency){this.logger("Schedule attempt ignored, pending=%s running=%s concurrency=%s",this.pending.length,this.running.length,this.concurrency);return}let r=x(this.running,this.pending.shift());this.logger("Attempting id=%s",r.id),r.done(()=>{this.logger("Completing id=",r.id),gr(this.running,r),this.schedule()})}next(){let{promise:r,id:e}=x(this.pending,vl());return this.logger("Scheduling id=%s",e),this.schedule(),r}}}}),ih={};$(ih,{applyPatchTask:()=>Hv});function Hv(r,e){return U(["apply",...e,...r])}var zv=m({"src/lib/tasks/apply-patch.ts"(){"use strict";F()}});function Yv(r,e){return{branch:r,hash:e,success:!0}}function Wv(r){return{branch:r,hash:null,success:!1}}var nh,Jv=m({"src/lib/responses/BranchDeleteSummary.ts"(){"use strict";nh=class{constructor(){this.all=[],this.branches={},this.errors=[]}get success(){return!this.errors.length}}}});function oh(r,e){return e===1&&mi.test(r)}var bl,mi,yl,_r,Kv=m({"src/lib/parsers/parse-branch-delete.ts"(){"use strict";Jv(),w(),bl=/(\S+)\s+\(\S+\s([^)]+)\)/,mi=/^error[^']+'([^']+)'/m,yl=[new _(bl,(r,[e,s])=>{let i=Yv(e,s);r.all.push(i),r.branches[e]=i}),new _(mi,(r,[e])=>{let s=Wv(e);r.errors.push(s),r.all.push(s),r.branches[e]=s})],_r=(r,e)=>W(new nh,yl,[r,e])}}),ah,Zv=m({"src/lib/responses/BranchSummary.ts"(){"use strict";ah=class{constructor(){this.all=[],this.branches={},this.current="",this.detached=!1}push(r,e,s,i,n){r==="*"&&(this.detached=e,this.current=s),this.all.push(s),this.branches[s]={current:r==="*",linkedWorkTree:r==="+",name:s,commit:i,label:n}}}}});function wl(r){return r?r.charAt(0):""}function uh(r){return W(new ah,lh,r)}var lh,Qv=m({"src/lib/parsers/parse-branch.ts"(){"use strict";Zv(),w(),lh=[new _(/^([*+]\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,(r,[e,s,i,n])=>{r.push(wl(e),!0,s,i,n)}),new _(new RegExp("^([*+]\\s)?(\\S+)\\s+([a-z0-9]+)\\s?(.*)$","s"),(r,[e,s,i,n])=>{r.push(wl(e),!1,s,i,n)})]}}),ch={};$(ch,{branchLocalTask:()=>eb,branchTask:()=>Xv,containsDeleteBranchCommand:()=>hh,deleteBranchTask:()=>rb,deleteBranchesTask:()=>tb});function hh(r){let e=["-d","-D","--delete"];return r.some(s=>e.includes(s))}function Xv(r){let e=hh(r),s=["branch",...r];return s.length===1&&s.push("-a"),s.includes("-v")||s.splice(1,0,"-v"),{format:"utf-8",commands:s,parser(i,n){return e?_r(i,n).all[0]:uh(i)}}}function eb(){return{format:"utf-8",commands:["branch","-v"],parser:uh}}function tb(r,e=!1){return{format:"utf-8",commands:["branch","-v",e?"-D":"-d",...r],parser(s,i){return _r(s,i)},onError({exitCode:s,stdOut:i},n,o,a){if(!oh(String(n),s))return a(n);o(i)}}}function rb(r,e=!1){let s={format:"utf-8",commands:["branch","-v",e?"-D":"-d",r],parser(i,n){return _r(i,n).branches[r]},onError({exitCode:i,stdErr:n,stdOut:o},a,u,l){if(!oh(String(a),i))return l(a);throw new kt(s.parser(_t(o),_t(n)),String(a))}};return s}var sb=m({"src/lib/tasks/branch.ts"(){"use strict";et(),Kv(),Qv(),w()}}),dh,ib=m({"src/lib/responses/CheckIgnore.ts"(){"use strict";dh=r=>r.split(/\n/g).map(e=>e.trim()).filter(e=>!!e)}}),fh={};$(fh,{checkIgnoreTask:()=>nb});function nb(r){return{commands:["check-ignore",...r],format:"utf-8",parser:dh}}var ob=m({"src/lib/tasks/check-ignore.ts"(){"use strict";ib()}}),ph={};$(ph,{cloneMirrorTask:()=>ub,cloneTask:()=>mh});function ab(r){return/^--upload-pack(=|$)/.test(r)}function mh(r,e,s){let i=["clone",...s];return B(r)&&i.push(r),B(e)&&i.push(e),i.find(ab)?Y("git.fetch: potential exploit argument blocked."):U(i)}function ub(r,e,s){return x(s,"--mirror"),mh(r,e,s)}var lb=m({"src/lib/tasks/clone.ts"(){"use strict";F(),w()}});function cb(r,e){return W({raw:r,remote:null,branches:[],tags:[],updated:[],deleted:[]},gh,[r,e])}var gh,hb=m({"src/lib/parsers/parse-fetch.ts"(){"use strict";w(),gh=[new _(/From (.+)$/,(r,[e])=>{r.remote=e}),new _(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,(r,[e,s])=>{r.branches.push({name:e,tracking:s})}),new _(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,(r,[e,s])=>{r.tags.push({name:e,tracking:s})}),new _(/- \[deleted]\s+\S+\s*-> (.+)$/,(r,[e])=>{r.deleted.push({tracking:e})}),new _(/\s*([^.]+)\.\.(\S+)\s+(\S+)\s*-> (.+)$/,(r,[e,s,i,n])=>{r.updated.push({name:i,tracking:n,to:s,from:e})})]}}),vh={};$(vh,{fetchTask:()=>fb});function db(r){return/^--upload-pack(=|$)/.test(r)}function fb(r,e,s){let i=["fetch",...s];return r&&e&&i.push(r,e),i.find(db)?Y("git.fetch: potential exploit argument blocked."):{commands:i,format:"utf-8",parser:cb}}var pb=m({"src/lib/tasks/fetch.ts"(){"use strict";hb(),F()}});function mb(r){return W({moves:[]},bh,r)}var bh,gb=m({"src/lib/parsers/parse-move.ts"(){"use strict";w(),bh=[new _(/^Renaming (.+) to (.+)$/,(r,[e,s])=>{r.moves.push({from:e,to:s})})]}}),yh={};$(yh,{moveTask:()=>vb});function vb(r,e){return{commands:["mv","-v",...de(r),e],format:"utf-8",parser:mb}}var bb=m({"src/lib/tasks/move.ts"(){"use strict";gb(),w()}}),wh={};$(wh,{pullTask:()=>yb});function yb(r,e,s){let i=["pull",...s];return r&&e&&i.splice(1,0,r,e),{commands:i,format:"utf-8",parser(n,o){return Di(n,o)},onError(n,o,a,u){let l=Cv(_t(n.stdOut),_t(n.stdErr));if(l)return u(new kt(l));u(o)}}}var wb=m({"src/lib/tasks/pull.ts"(){"use strict";et(),Vc(),w()}});function _b(r){let e={};return _h(r,([s])=>e[s]={name:s}),Object.values(e)}function xb(r){let e={};return _h(r,([s,i,n])=>{e.hasOwnProperty(s)||(e[s]={name:s,refs:{fetch:"",push:""}}),n&&i&&(e[s].refs[n.replace(/[^a-z]/g,"")]=i)}),Object.values(e)}function _h(r,e){vi(r,s=>e(s.split(/\s+/)))}var Tb=m({"src/lib/responses/GetRemoteSummary.ts"(){"use strict";w()}}),xh={};$(xh,{addRemoteTask:()=>kb,getRemotesTask:()=>Sb,listRemotesTask:()=>Cb,remoteTask:()=>Ob,removeRemoteTask:()=>Pb});function kb(r,e,s){return U(["remote","add",...s,r,e])}function Sb(r){let e=["remote"];return r&&e.push("-v"),{commands:e,format:"utf-8",parser:r?xb:_b}}function Cb(r){let e=[...r];return e[0]!=="ls-remote"&&e.unshift("ls-remote"),U(e)}function Ob(r){let e=[...r];return e[0]!=="remote"&&e.unshift("remote"),U(e)}function Pb(r){return U(["remote","remove",r])}var Eb=m({"src/lib/tasks/remote.ts"(){"use strict";Tb(),F()}}),Th={};$(Th,{stashListTask:()=>Rb});function Rb(r={},e){let s=Fc(r),i=["stash","list",...s.commands,...e],n=Rc(s.splitter,s.fields,Mi(i));return wr(i)||{commands:i,format:"utf-8",parser:n}}var Mb=m({"src/lib/tasks/stash-list.ts"(){"use strict";Pt(),Ac(),qi(),$c()}}),kh={};$(kh,{addSubModuleTask:()=>Ab,initSubModuleTask:()=>Ib,subModuleTask:()=>xr,updateSubModuleTask:()=>Fb});function Ab(r,e){return xr(["add",r,e])}function Ib(r){return xr(["init",...r])}function xr(r){let e=[...r];return e[0]!=="submodule"&&e.unshift("submodule"),U(e)}function Fb(r){return xr(["update",...r])}var $b=m({"src/lib/tasks/sub-module.ts"(){"use strict";F()}});function qb(r,e){let s=isNaN(r),i=isNaN(e);return s!==i?s?1:-1:s?Sh(r,e):0}function Sh(r,e){return r===e?0:r>e?1:-1}function Db(r){return r.trim()}function ir(r){return typeof r=="string"&&parseInt(r.replace(/^\D+/g,""),10)||0}var _l,Ch,jb=m({"src/lib/responses/TagList.ts"(){"use strict";_l=class{constructor(r,e){this.all=r,this.latest=e}},Ch=function(r,e=!1){let s=r.split(`
`).map(Db).filter(Boolean);e||s.sort(function(n,o){let a=n.split("."),u=o.split(".");if(a.length===1||u.length===1)return qb(ir(a[0]),ir(u[0]));for(let l=0,c=Math.max(a.length,u.length);l<c;l++){let f=Sh(ir(a[l]),ir(u[l]));if(f)return f}return 0});let i=e?s[0]:[...s].reverse().find(n=>n.indexOf(".")>=0);return new _l(s,i)}}}),Oh={};$(Oh,{addAnnotatedTagTask:()=>Bb,addTagTask:()=>Nb,tagListTask:()=>Lb});function Lb(r=[]){let e=r.some(s=>/^--sort=/.test(s));return{format:"utf-8",commands:["tag","-l",...r],parser(s){return Ch(s,e)}}}function Nb(r){return{format:"utf-8",commands:["tag",r],parser(){return{name:r}}}}function Bb(r,e){return{format:"utf-8",commands:["tag","-a","-m",e,r],parser(){return{name:r}}}}var Gb=m({"src/lib/tasks/tag.ts"(){"use strict";jb()}}),Ub=og({"src/git.js"(r,e){"use strict";var{GitExecutor:s}=(Hg(),A(wc)),{SimpleGitApi:i}=(Uv(),A(eh)),{Scheduler:n}=(Vv(),A(th)),{configurationErrorTask:o}=(F(),A(ui)),{asArray:a,filterArray:u,filterPrimitives:l,filterString:c,filterStringOrStringArray:f,filterType:h,getTrailingOptions:p,trailingFunctionArgument:v,trailingOptionsArgument:O}=(w(),A(Vl)),{applyPatchTask:L}=(zv(),A(ih)),{branchTask:P,branchLocalTask:q,deleteBranchesTask:ee,deleteBranchTask:Be}=(sb(),A(ch)),{checkIgnoreTask:Ge}=(ob(),A(fh)),{checkIsRepoTask:Hi}=(Wl(),A(Hl)),{cloneTask:tt,cloneMirrorTask:Sr}=(lb(),A(ph)),{cleanWithOptionsTask:Mt,isCleanOptionsArray:Cr}=(nc(),A(sc)),{diffSummaryTask:Lh}=(qi(),A(Ic)),{fetchTask:Nh}=(pb(),A(vh)),{moveTask:Bh}=(bb(),A(yh)),{pullTask:Gh}=(wb(),A(wh)),{pushTagsTask:Uh}=(Wc(),A(Yc)),{addRemoteTask:Vh,getRemotesTask:Hh,listRemotesTask:zh,remoteTask:Yh,removeRemoteTask:Wh}=(Eb(),A(xh)),{getResetMode:Jh,resetTask:Kh}=(vc(),A(pc)),{stashListTask:Zh}=(Mb(),A(Th)),{addSubModuleTask:Qh,initSubModuleTask:Xh,subModuleTask:ed,updateSubModuleTask:td}=($b(),A(kh)),{addAnnotatedTagTask:rd,addTagTask:sd,tagListTask:id}=(Gb(),A(Oh)),{straightThroughBufferTask:nd,straightThroughStringTask:ne}=(F(),A(ui));function y(d,b){this._plugins=b,this._executor=new s(d.baseDir,new n(d.maxConcurrentProcesses),b),this._trimmed=d.trimmed}(y.prototype=Object.create(i.prototype)).constructor=y,y.prototype.customBinary=function(d){return this._plugins.reconfigure("binary",d),this},y.prototype.env=function(d,b){return arguments.length===1&&typeof d=="object"?this._executor.env=d:(this._executor.env=this._executor.env||{})[d]=b,this},y.prototype.stashList=function(d){return this._runTask(Zh(O(arguments)||{},u(d)&&d||[]),v(arguments))};function zi(d,b,k,G){return typeof k!="string"?o(`git.${d}() requires a string 'repoPath'`):b(k,h(G,c),p(arguments))}y.prototype.clone=function(){return this._runTask(zi("clone",tt,...arguments),v(arguments))},y.prototype.mirror=function(){return this._runTask(zi("mirror",Sr,...arguments),v(arguments))},y.prototype.mv=function(d,b){return this._runTask(Bh(d,b),v(arguments))},y.prototype.checkoutLatestTag=function(d){var b=this;return this.pull(function(){b.tags(function(k,G){b.checkout(G.latest,d)})})},y.prototype.pull=function(d,b,k,G){return this._runTask(Gh(h(d,c),h(b,c),p(arguments)),v(arguments))},y.prototype.fetch=function(d,b){return this._runTask(Nh(h(d,c),h(b,c),p(arguments)),v(arguments))},y.prototype.silent=function(d){return console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3"),this},y.prototype.tags=function(d,b){return this._runTask(id(p(arguments)),v(arguments))},y.prototype.rebase=function(){return this._runTask(ne(["rebase",...p(arguments)]),v(arguments))},y.prototype.reset=function(d){return this._runTask(Kh(Jh(d),p(arguments)),v(arguments))},y.prototype.revert=function(d){let b=v(arguments);return typeof d!="string"?this._runTask(o("Commit must be a string"),b):this._runTask(ne(["revert",...p(arguments,0,!0),d]),b)},y.prototype.addTag=function(d){let b=typeof d=="string"?sd(d):o("Git.addTag requires a tag name");return this._runTask(b,v(arguments))},y.prototype.addAnnotatedTag=function(d,b){return this._runTask(rd(d,b),v(arguments))},y.prototype.deleteLocalBranch=function(d,b,k){return this._runTask(Be(d,typeof b=="boolean"?b:!1),v(arguments))},y.prototype.deleteLocalBranches=function(d,b,k){return this._runTask(ee(d,typeof b=="boolean"?b:!1),v(arguments))},y.prototype.branch=function(d,b){return this._runTask(P(p(arguments)),v(arguments))},y.prototype.branchLocal=function(d){return this._runTask(q(),v(arguments))},y.prototype.raw=function(d){let b=!Array.isArray(d),k=[].slice.call(b?arguments:d,0);for(let te=0;te<k.length&&b;te++)if(!l(k[te])){k.splice(te,k.length-te);break}k.push(...p(arguments,0,!0));var G=v(arguments);return k.length?this._runTask(ne(k,this._trimmed),G):this._runTask(o("Raw: must supply one or more command to execute"),G)},y.prototype.submoduleAdd=function(d,b,k){return this._runTask(Qh(d,b),v(arguments))},y.prototype.submoduleUpdate=function(d,b){return this._runTask(td(p(arguments,!0)),v(arguments))},y.prototype.submoduleInit=function(d,b){return this._runTask(Xh(p(arguments,!0)),v(arguments))},y.prototype.subModule=function(d,b){return this._runTask(ed(p(arguments)),v(arguments))},y.prototype.listRemote=function(){return this._runTask(zh(p(arguments)),v(arguments))},y.prototype.addRemote=function(d,b,k){return this._runTask(Vh(d,b,p(arguments)),v(arguments))},y.prototype.removeRemote=function(d,b){return this._runTask(Wh(d),v(arguments))},y.prototype.getRemotes=function(d,b){return this._runTask(Hh(d===!0),v(arguments))},y.prototype.remote=function(d,b){return this._runTask(Yh(p(arguments)),v(arguments))},y.prototype.tag=function(d,b){let k=p(arguments);return k[0]!=="tag"&&k.unshift("tag"),this._runTask(ne(k),v(arguments))},y.prototype.updateServerInfo=function(d){return this._runTask(ne(["update-server-info"]),v(arguments))},y.prototype.pushTags=function(d,b){let k=Uh({remote:h(d,c)},p(arguments));return this._runTask(k,v(arguments))},y.prototype.rm=function(d){return this._runTask(ne(["rm","-f",...a(d)]),v(arguments))},y.prototype.rmKeepLocal=function(d){return this._runTask(ne(["rm","--cached",...a(d)]),v(arguments))},y.prototype.catFile=function(d,b){return this._catFile("utf-8",arguments)},y.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)},y.prototype._catFile=function(d,b){var k=v(b),G=["cat-file"],te=b[0];if(typeof te=="string")return this._runTask(o("Git.catFile: options must be supplied as an array of strings"),k);Array.isArray(te)&&G.push.apply(G,te);let Or=d==="buffer"?nd(G):ne(G);return this._runTask(Or,k)},y.prototype.diff=function(d,b){let k=c(d)?o("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):ne(["diff",...p(arguments)]);return this._runTask(k,v(arguments))},y.prototype.diffSummary=function(){return this._runTask(Lh(p(arguments,1)),v(arguments))},y.prototype.applyPatch=function(d){let b=f(d)?L(a(d),p([].slice.call(arguments,1))):o("git.applyPatch requires one or more string patches as the first argument");return this._runTask(b,v(arguments))},y.prototype.revparse=function(){let d=["rev-parse",...p(arguments,!0)];return this._runTask(ne(d,!0),v(arguments))},y.prototype.clean=function(d,b,k){let G=Cr(d),te=G&&d.join("")||h(d,c)||"",Or=p([].slice.call(arguments,G?1:0));return this._runTask(Mt(te,Or),v(arguments))},y.prototype.exec=function(d){let b={commands:[],format:"utf-8",parser(){typeof d=="function"&&d()}};return this._runTask(b)},y.prototype.clearQueue=function(){return this},y.prototype.checkIgnore=function(d,b){return this._runTask(Ge(a(h(d,f,[]))),v(arguments))},y.prototype.checkIsRepo=function(d,b){return this._runTask(Hi(h(d,c)),v(arguments))},e.exports=y}});Tt();Re();var Vb=class extends xe{constructor(r,e){super(void 0,e),this.config=r}};Re();Re();var _e=class extends xe{constructor(r,e,s){super(r,s),this.task=r,this.plugin=e,Object.setPrototypeOf(this,new.target.prototype)}};et();Pl();Wl();nc();uc();cc();fc();vc();function Hb(r){return r?[{type:"spawn.before",action(i,n){r.aborted&&n.kill(new _e(void 0,"abort","Abort already signaled"))}},{type:"spawn.after",action(i,n){function o(){n.kill(new _e(void 0,"abort","Abort signal received"))}r.addEventListener("abort",o),n.spawned.on("close",()=>r.removeEventListener("abort",o))}}]:void 0}function zb(r){return typeof r=="string"&&r.trim().toLowerCase()==="-c"}function Yb(r,e){if(zb(r)&&/^\s*protocol(.[a-z]+)?.allow/.test(e))throw new _e(void 0,"unsafe","Configuring protocol.allow is not permitted without enabling allowUnsafeExtProtocol")}function Wb(r,e){if(/^\s*--(upload|receive)-pack/.test(r))throw new _e(void 0,"unsafe","Use of --upload-pack or --receive-pack is not permitted without enabling allowUnsafePack");if(e==="clone"&&/^\s*-u\b/.test(r))throw new _e(void 0,"unsafe","Use of clone with option -u is not permitted without enabling allowUnsafePack");if(e==="push"&&/^\s*--exec\b/.test(r))throw new _e(void 0,"unsafe","Use of push with option --exec is not permitted without enabling allowUnsafePack")}function Jb({allowUnsafeProtocolOverride:r=!1,allowUnsafePack:e=!1}={}){return{type:"spawn.args",action(s,i){return s.forEach((n,o)=>{let a=o<s.length?s[o+1]:"";r||Yb(n,a),e||Wb(n,i.method)}),s}}}w();function Kb(r){let e=wt(r,"-c");return{type:"spawn.args",action(s){return[...e,...s]}}}w();var xl=(0,Qe.deferred)().promise;function Zb({onClose:r=!0,onExit:e=50}={}){function s(){let n=-1,o={close:(0,Qe.deferred)(),closeTimeout:(0,Qe.deferred)(),exit:(0,Qe.deferred)(),exitTimeout:(0,Qe.deferred)()},a=Promise.race([r===!1?xl:o.closeTimeout.promise,e===!1?xl:o.exitTimeout.promise]);return i(r,o.close,o.closeTimeout),i(e,o.exit,o.exitTimeout),{close(u){n=u,o.close.done()},exit(u){n=u,o.exit.done()},get exitCode(){return n},result:a}}function i(n,o,a){n!==!1&&(n===!0?o.promise:o.promise.then(()=>ii(n))).then(a.done)}return{type:"spawn.after",action(n,o){return bt(this,arguments,function*(a,{spawned:u,close:l}){var c,f;let h=s(),p=!0,v=()=>void(p=!1);(c=u.stdout)==null||c.on("data",v),(f=u.stderr)==null||f.on("data",v),u.on("error",v),u.on("close",O=>h.close(O)),u.on("exit",O=>h.exit(O));try{yield h.result,p&&(yield ii(50)),l(h.exitCode)}catch(O){l(h.exitCode,O)}})}}}w();var Qb="Invalid value supplied for custom binary, requires a single string or an array containing either one or two strings",Tl="Invalid value supplied for custom binary, restricted characters must be removed or supply the unsafe.allowUnsafeCustomBinary option";function Xb(r){return!r||!/^([a-z]:)?([a-z0-9/.\\_-]+)$/i.test(r)}function kl(r,e){if(r.length<1||r.length>2)throw new _e(void 0,"binary",Qb);if(r.some(Xb))if(e)console.warn(Tl);else throw new _e(void 0,"binary",Tl);let[i,n]=r;return{binary:i,prefix:n}}function ey(r,e=["git"],s=!1){let i=kl(de(e),s);r.on("binary",n=>{i=kl(de(n),s)}),r.append("spawn.binary",()=>i.binary),r.append("spawn.args",n=>i.prefix?[i.prefix,...n]:n)}Re();function ty(r){return!!(r.exitCode&&r.stdErr.length)}function ry(r){return Buffer.concat([...r.stdOut,...r.stdErr])}function sy(r=!1,e=ty,s=ry){return(i,n)=>!r&&i||!e(n)?i:s(n)}function Sl(r){return{type:"task.error",action(e,s){let i=r(e.error,{stdErr:s.stdErr,stdOut:s.stdOut,exitCode:s.exitCode});return Buffer.isBuffer(i)?{error:new xe(void 0,i.toString("utf-8"))}:{error:i}}}}w();var iy=class{constructor(){this.plugins=new Set,this.events=new Ph.EventEmitter}on(r,e){this.events.on(r,e)}reconfigure(r,e){this.events.emit(r,e)}append(r,e){let s=x(this.plugins,{type:r,action:e});return()=>this.plugins.delete(s)}add(r){let e=[];return de(r).forEach(s=>s&&this.plugins.add(x(e,s))),()=>{e.forEach(s=>this.plugins.delete(s))}}exec(r,e,s){let i=e,n=Object.freeze(Object.create(s));for(let o of this.plugins)o.type===r&&(i=o.action(i,n));return i}};w();function ny(r){let e="--progress",s=["checkout","clone","fetch","pull","push"];return[{type:"spawn.args",action(o,a){return s.includes(a.method)?Fl(o,e):o}},{type:"spawn.after",action(o,a){var u;a.commands.includes(e)&&((u=a.spawned.stderr)==null||u.on("data",l=>{let c=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(l.toString("utf8"));c&&r({method:a.method,stage:oy(c[1]),progress:C(c[2]),processed:C(c[3]),total:C(c[4])})}))}}]}function oy(r){return String(r.toLowerCase().split(" ",1))||"unknown"}w();function ay(r){let e=Dl(r,["uid","gid"]);return{type:"spawn.options",action(s){return X(X({},e),s)}}}function uy({block:r,stdErr:e=!0,stdOut:s=!0}){if(r>0)return{type:"spawn.after",action(i,n){var o,a;let u;function l(){u&&clearTimeout(u),u=setTimeout(f,r)}function c(){var h,p;(h=n.spawned.stdout)==null||h.off("data",l),(p=n.spawned.stderr)==null||p.off("data",l),n.spawned.off("exit",c),n.spawned.off("close",c),u&&clearTimeout(u)}function f(){c(),n.kill(new _e(void 0,"timeout","block timeout reached"))}s&&((o=n.spawned.stdout)==null||o.on("data",l)),e&&((a=n.spawned.stderr)==null||a.on("data",l)),n.spawned.on("exit",c),n.spawned.on("close",c),l()}}}Tt();function ly(){return{type:"spawn.args",action(r){let e=[],s;function i(n){(s=s||[]).push(...n)}for(let n=0;n<r.length;n++){let o=r[n];if(lr(o)){i(Ju(o));continue}if(o==="--"){i(r.slice(n+1).flatMap(a=>lr(a)&&Ju(a)||a));break}e.push(o)}return s?[...e,"--",...s.map(String)]:e}}}w();var cy=Ub();function hy(r,e){var s;let i=new iy,n=Gl(r&&(typeof r=="string"?{baseDir:r}:r)||{},e);if(!bi(n.baseDir))throw new Vb(n,"Cannot use simple-git on a directory that does not exist");return Array.isArray(n.config)&&i.add(Kb(n.config)),i.add(Jb(n.unsafe)),i.add(ly()),i.add(Zb(n.completion)),n.abort&&i.add(Hb(n.abort)),n.progress&&i.add(ny(n.progress)),n.timeout&&i.add(uy(n.timeout)),n.spawnOptions&&i.add(ay(n.spawnOptions)),i.add(Sl(sy(!0))),n.errors&&i.add(Sl(n.errors)),ey(i,n.binary,(s=n.unsafe)==null?void 0:s.allowUnsafeCustomBinary),new cy(n,i)}et();var Eh=hy;var dy=Eh();async function Tr(r,e,s="base"){await Rh(r,e,s,["https://gitee.com/AlphaFoxz/create-github-pages-template-{{template}}","https://github.com/AlphaFoxz/create-github-pages-template-{{template}}"]),Bi.default.rmSync(Ni.default.join(e,".vscode"),{recursive:!0,force:!0}),Bi.default.rmSync(Ni.default.join(e,".git"),{recursive:!0,force:!0})}async function Rh(r,e,s,i){i.length===0&&Oe(t("error.downloadTemplate"));let n=Jt(i.pop()).set("template",r).toString();try{await dy.clone(n,e,["-b",s])}catch(o){console.error(o),console.warn(t("warn.retryDownloadTemplate")),await Rh(r,e,s,i)}}var Et=N(require("node:fs"),1),Gi=N(require("node:path"),1);function kr(r,e,s){e&&!e.startsWith("/")&&(e="/"+e);let i=fy(),n=i?`./${r}`:".",o=i?".":n,a=`# https://github.com/actions/deploy-pages#usage
# https://nuxt.com/deploy/github-pages
name: Deploy to GitHub Pages
on:
  workflow_dispatch:
  push:
    branches:
      - ${s}
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: corepack enable
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
      # Pick your own package manager and build script
      - run: cd ${n} && npm install
      # Setup environment variables
      # NUXT_APP_BASE_URL is your GitHub Repo Name.
      - run: cd ${n} && echo 'NUXT_APP_BASE_URL=${e}' > ./.env
      # Build project
      - run: cd ${n} && npx nuxt build --preset github_pages
      - name: Upload artifact \u{1F680}
        uses: actions/upload-pages-artifact@v3
        with:
          path: ${n}/.output/public

  # Deployment job
  deploy:
    # Add a dependency to the build job
    needs: build
    # Grant GITHUB_TOKEN the permissions required to make a Pages deployment
    permissions:
      pages: write # to deploy to Pages
      id-token: write # to verify the deployment originates from an appropriate source
    # Deploy to the github_pages environment
    environment:
      name: github_pages
      url: \${{ steps.deployment.outputs.page_url }}
    # Specify runner + deployment step
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
`,u=Gi.default.join(o,".github","workflows");Et.default.mkdirSync(u,{recursive:!0});let l=Gi.default.join(u,"github-pages.yml");Et.default.writeFileSync(l,a,{encoding:"utf8",flush:!0})}function fy(){return Et.default.existsSync("./.git")||Et.default.existsSync("./package.json")}var Mh=Ye();async function Ah(){await Mh.action.init();let{folderName:r,template:e,prefix:s,branchName:i}=Mh.state.createArgs.value;Ui.default.existsSync(r)&&!ft(r)&&Oe(t("error.invalidFolder{name}",{name:r})),Ui.default.existsSync(r)&&!Pu(r)&&Oe(t("error.duplicateFolder{name}",{name:r})),await Tr(e,`./${r}`),kr(r,s,i)}var Rt=N(require("node:fs"),1),Ne=N(require("node:path"),1);var Ih=N(require("node:fs"),1),Fh=N(require("node:path"),1);function $h(r,e){if(ft(r)||Oe(t("error.invalidFolder{name}",{name:r})),e==="nuxt_content"){let s=Ih.default.readFileSync(Fh.default.join(r,"package.json"),{encoding:"utf8",flag:"r"}),i=JSON.parse(s);return{_template:e,name:i.name,version:i.version||"0.0.0"}}}async function qh(r){if(r==="nuxt_content"){let e=await Vi(r,"package.json",["https://raw.githubusercontent.com/AlphaFoxz/create-github-pages-template-{{template}}/base/{{targetFile}}"]),s=JSON.parse(e);return{_template:r,name:s.name,version:s.version||"0.0.0"}}}async function Vi(r,e,s){s.length===0&&Oe(t("error.networkError"));let i=Jt(s.pop()).set("template",r).set("targetFile",e).toString(),n=await fetch(i);if(!n.ok)return console.warn(t("error.networkError{info}",{info:JSON.stringify(n)})),await Vi(r,e,s);try{return await n.text()}catch{return await Vi(r,e,s)}}var Dh=Ye();async function jh(){await Dh.action.init();let{folderName:r,template:e,prefix:s,branchName:i}=Dh.state.updateArgs.value,n=Ne.default.join(".",r),o=$h(n,e),a=await qh(e),u=n+"__"+new Date().getTime().toString();console.info("local version: ",o.version),console.info("remote version: ",a.version),e==="nuxt_content"?(Eu(o.version).isOlderThan(a.version)||console.info(t("info.templateIsAlreadyUpdated")),Rt.default.mkdirSync(u,{recursive:!0}),Rt.default.renameSync(Ne.default.join(n,"content"),Ne.default.join(u,"content")),Wt(n),await Tr(e,n),kr(r,s,i),Wt(Ne.default.join(n,"content"),!0),Rt.default.renameSync(Ne.default.join(u,"content"),Ne.default.join(n,"content")),Rt.default.rmSync(u,{recursive:!0,force:!0})):void 0}py().catch(r=>{console.error(r.message),console.error(t("signal.exitWithError"))});process.on("SIGINT",Fe);async function py(){console.info(t("signal.scriptStarted"));let r=Ye();await r.action.init(),r.state.currerntOperation.value==="create"?await Ah():r.state.currerntOperation.value==="update"?await jh():(r.state.currerntOperation.value,void 0),console.info(t("signal.exitWithSuccess"))}
//# sourceMappingURL=create-github-pages.cjs.map
